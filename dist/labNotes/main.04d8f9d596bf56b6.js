"use strict";var vFe=Object.defineProperty,EFe=Object.defineProperties,bFe=Object.getOwnPropertyDescriptors,_Q=Object.getOwnPropertySymbols,wFe=Object.prototype.hasOwnProperty,IFe=Object.prototype.propertyIsEnumerable,yQ=(re,un,nr)=>un in re?vFe(re,un,{enumerable:!0,configurable:!0,writable:!0,value:nr}):re[un]=nr,Mb=(re,un)=>{for(var nr in un||(un={}))wFe.call(un,nr)&&yQ(re,nr,un[nr]);if(_Q)for(var nr of _Q(un))IFe.call(un,nr)&&yQ(re,nr,un[nr]);return re},Pb=(re,un)=>EFe(re,bFe(un));(self.webpackChunklabNotes=self.webpackChunklabNotes||[]).push([[179],{858:()=>{function re(n){return"function"==typeof n}function un(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const nr=un(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ql(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Dn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(re(r))try{r()}catch(s){e=s instanceof nr?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{gF(s)}catch(o){e=null!=e?e:[],o instanceof nr?e=[...e,...o.errors]:e.push(o)}}if(e)throw new nr(e)}}add(e){var t;if(e&&e!==this)if(this.closed)gF(e);else{if(e instanceof Dn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ql(t,e)}remove(e){const{_finalizers:t}=this;t&&ql(t,e),e instanceof Dn&&e._removeParent(this)}}Dn.EMPTY=(()=>{const n=new Dn;return n.closed=!0,n})();const fF=Dn.EMPTY;function pF(n){return n instanceof Dn||n&&"closed"in n&&re(n.remove)&&re(n.add)&&re(n.unsubscribe)}function gF(n){re(n)?n():n.unsubscribe()}const _a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Cg={setTimeout(n,e,...t){const{delegate:r}=Cg;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Cg;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function mF(n){Cg.setTimeout(()=>{const{onUnhandledError:e}=_a;if(!e)throw n;e(n)})}function _d(){}const vQ=Ob("C",void 0,void 0);function Ob(n,e,t){return{kind:n,value:e,error:t}}let ya=null;function Tg(n){if(_a.useDeprecatedSynchronousErrorHandling){const e=!ya;if(e&&(ya={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ya;if(ya=null,t)throw r}}else n()}class Nb extends Dn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pF(e)&&e.add(this)):this.destination=SQ}static create(e,t,r){return new yd(e,t,r)}next(e){this.isStopped?Lb(function bQ(n){return Ob("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Lb(function EQ(n){return Ob("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lb(vQ,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const IQ=Function.prototype.bind;function Fb(n,e){return IQ.call(n,e)}class CQ{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Sg(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Sg(r)}else Sg(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Sg(t)}}}class yd extends Nb{constructor(e,t,r){let i;if(super(),re(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&_a.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fb(e.next,s),error:e.error&&Fb(e.error,s),complete:e.complete&&Fb(e.complete,s)}):i=e}this.destination=new CQ(i)}}function Sg(n){_a.useDeprecatedSynchronousErrorHandling?function wQ(n){_a.useDeprecatedSynchronousErrorHandling&&ya&&(ya.errorThrown=!0,ya.error=n)}(n):mF(n)}function Lb(n,e){const{onStoppedNotification:t}=_a;t&&Cg.setTimeout(()=>t(n,e))}const SQ={closed:!0,next:_d,error:function TQ(n){throw n},complete:_d},Vb="function"==typeof Symbol&&Symbol.observable||"@@observable";function oo(n){return n}let Le=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function AQ(n){return n&&n instanceof Nb||function DQ(n){return n&&re(n.next)&&re(n.error)&&re(n.complete)}(n)&&pF(n)}(t)?t:new yd(t,r,i);return Tg(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=yF(r))((i,s)=>{const o=new yd({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Vb](){return this}pipe(...t){return function _F(n){return 0===n.length?oo:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=yF(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function yF(n){var e;return null!==(e=null!=n?n:_a.Promise)&&void 0!==e?e:Promise}const xQ=un(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Te=(()=>{class n extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new vF(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new xQ}next(t){Tg(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Tg(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Tg(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?fF:(this.currentObservers=null,s.push(t),new Dn(()=>{this.currentObservers=null,ql(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Le;return t.source=this,t}}return n.create=(e,t)=>new vF(e,t),n})();class vF extends Te{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:fF}}function EF(n){return re(null==n?void 0:n.lift)}function st(n){return e=>{if(EF(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xe(n,e,t,r,i){return new bF(n,e,t,r,i)}class bF extends Nb{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(n,e){return st((t,r)=>{let i=0;t.subscribe(Xe(r,s=>{r.next(n.call(e,s,i++))}))})}function Kl(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function jb(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function ao(n){return this instanceof ao?(this.v=n,this):new ao(n)}function IF(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof ao?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function CF(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Hb(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const zb=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function TF(n){return re(null==n?void 0:n.then)}function SF(n){return re(n[Vb])}function DF(n){return Symbol.asyncIterator&&re(null==n?void 0:n[Symbol.asyncIterator])}function AF(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const xF=function QQ(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kF(n){return re(null==n?void 0:n[xF])}function RF(n){return IF(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield ao(t.read());if(i)return yield ao(void 0);yield yield ao(r)}}finally{t.releaseLock()}})}function MF(n){return re(null==n?void 0:n.getReader)}function dn(n){if(n instanceof Le)return n;if(null!=n){if(SF(n))return function XQ(n){return new Le(e=>{const t=n[Vb]();if(re(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(zb(n))return function ZQ(n){return new Le(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(TF(n))return function JQ(n){return new Le(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,mF)})}(n);if(DF(n))return PF(n);if(kF(n))return function eX(n){return new Le(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(MF(n))return function tX(n){return PF(RF(n))}(n)}throw AF(n)}function PF(n){return new Le(e=>{(function nX(n,e){var t,r,i,s;return jb(this,void 0,void 0,function*(){try{for(t=CF(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function gs(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Nt(n,e,t=1/0){return re(e)?Nt((r,i)=>_e((s,o)=>e(r,s,i,o))(dn(n(r,i))),t):("number"==typeof e&&(t=e),st((r,i)=>function rX(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let _=!1;dn(t(m,u++)).subscribe(Xe(e,v=>{null==i||i(v),s?f(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(c--;l.length&&c<r;){const v=l.shift();o?gs(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Xe(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,n,t)))}function vd(n=1/0){return Nt(oo,n)}const ms=new Le(n=>n.complete());function OF(n){return n&&re(n.schedule)}function Gb(n){return n[n.length-1]}function NF(n){return re(Gb(n))?n.pop():void 0}function Ed(n){return OF(Gb(n))?n.pop():void 0}function Dg(n,e=0){return st((t,r)=>{t.subscribe(Xe(r,i=>gs(r,n,()=>r.next(i),e),()=>gs(r,n,()=>r.complete(),e),i=>gs(r,n,()=>r.error(i),e)))})}function Ag(n,e=0){return st((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function FF(n,e){if(!n)throw new Error("Iterable cannot be null");return new Le(t=>{gs(t,e,()=>{const r=n[Symbol.asyncIterator]();gs(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function An(n,e){return e?function dX(n,e){if(null!=n){if(SF(n))return function oX(n,e){return dn(n).pipe(Ag(e),Dg(e))}(n,e);if(zb(n))return function lX(n,e){return new Le(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(TF(n))return function aX(n,e){return dn(n).pipe(Ag(e),Dg(e))}(n,e);if(DF(n))return FF(n,e);if(kF(n))return function cX(n,e){return new Le(t=>{let r;return gs(t,e,()=>{r=n[xF](),gs(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>re(null==r?void 0:r.return)&&r.return()})}(n,e);if(MF(n))return function uX(n,e){return FF(RF(n),e)}(n,e)}throw AF(n)}(n,e):dn(n)}function xg(...n){const e=Ed(n),t=function sX(n,e){return"number"==typeof Gb(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?dn(r[0]):vd(t)(An(r,e)):ms}function Wb(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new yd({next:()=>{r.unsubscribe(),n()}});return dn(e(...t)).subscribe(r)}function Ke(n){for(let e in n)if(n[e]===Ke)return e;throw Error("Could not find renamed property on target object.")}function qb(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Kb(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const fX=Ke({__forward_ref__:Ke});function Ze(n){return n.__forward_ref__=Ze,n.toString=function(){return Ue(this())},n}function fe(n){return LF(n)?n():n}function LF(n){return"function"==typeof n&&n.hasOwnProperty(fX)&&n.__forward_ref__===Ze}class U extends Error{constructor(e,t){super(function Yb(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function se(n){return"string"==typeof n?n:null==n?"":String(n)}function xn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():se(n)}function kg(n,e){const t=e?` in ${e}`:"";throw new U(-201,`No provider for ${xn(n)} found${t}`)}function Ar(n,e){null==n&&function je(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function V(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ve(n){return{providers:n.providers||[],imports:n.imports||[]}}function Qb(n){return VF(n,Rg)||VF(n,UF)}function VF(n,e){return n.hasOwnProperty(e)?n[e]:null}function BF(n){return n&&(n.hasOwnProperty(Xb)||n.hasOwnProperty(EX))?n[Xb]:null}const Rg=Ke({\u0275prov:Ke}),Xb=Ke({\u0275inj:Ke}),UF=Ke({ngInjectableDef:Ke}),EX=Ke({ngInjectorDef:Ke});var te=(()=>((te=te||{})[te.Default=0]="Default",te[te.Host=1]="Host",te[te.Self=2]="Self",te[te.SkipSelf=4]="SkipSelf",te[te.Optional=8]="Optional",te))();let Zb;function lo(n){const e=Zb;return Zb=n,e}function jF(n,e,t){const r=Qb(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&te.Optional?null:void 0!==e?e:void kg(Ue(n),"Injector")}function co(n){return{toString:n}.toString()}var hi=(()=>((hi=hi||{})[hi.OnPush=0]="OnPush",hi[hi.Default=1]="Default",hi))(),fi=(()=>{return(n=fi||(fi={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",fi;var n})();const wX="undefined"!=typeof globalThis&&globalThis,IX="undefined"!=typeof window&&window,CX="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,We=wX||"undefined"!=typeof global&&global||IX||CX,Yl={},Ye=[],Mg=Ke({\u0275cmp:Ke}),Jb=Ke({\u0275dir:Ke}),ew=Ke({\u0275pipe:Ke}),$F=Ke({\u0275mod:Ke}),ys=Ke({\u0275fac:Ke}),bd=Ke({__NG_ELEMENT_ID__:Ke});let TX=0;function rr(n){return co(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===hi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ye,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||fi.Emulated,id:"c",styles:n.styles||Ye,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=TX++,r.inputs=WF(n.inputs,t),r.outputs=WF(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(HF):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(zF):null,r})}function HF(n){return kn(n)||function uo(n){return n[Jb]||null}(n)}function zF(n){return function va(n){return n[ew]||null}(n)}const GF={};function $e(n){return co(()=>{const e={type:n.type,bootstrap:n.bootstrap||Ye,declarations:n.declarations||Ye,imports:n.imports||Ye,exports:n.exports||Ye,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(GF[n.id]=n.type),e})}function WF(n,e){if(null==n)return Yl;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const q=rr;function kn(n){return n[Mg]||null}function qr(n,e){const t=n[$F]||null;if(!t&&!0===e)throw new Error(`Type ${Ue(n)} does not have '\u0275mod' property.`);return t}function Ni(n){return Array.isArray(n)&&"object"==typeof n[1]}function gi(n){return Array.isArray(n)&&!0===n[1]}function rw(n){return 0!=(8&n.flags)}function Fg(n){return 2==(2&n.flags)}function Lg(n){return 1==(1&n.flags)}function mi(n){return null!==n.template}function RX(n){return 0!=(512&n[2])}function Ia(n,e){return n.hasOwnProperty(ys)?n[ys]:null}class OX{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function yr(){return KF}function KF(n){return n.type.prototype.ngOnChanges&&(n.setInput=FX),NX}function NX(){const n=QF(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===Yl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function FX(n,e,t,r){const i=QF(n)||function LX(n,e){return n[YF]=e}(n,{previous:Yl,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new OX(l&&l.currentValue,e,o===Yl),n[r]=e}yr.ngInherit=!0;const YF="__ngSimpleChanges__";function QF(n){return n[YF]||null}let lw;function At(n){return!!n.listen}const XF={createRenderer:(n,e)=>function cw(){return void 0!==lw?lw:"undefined"!=typeof document?document:void 0}()};function zt(n){for(;Array.isArray(n);)n=n[0];return n}function Vg(n,e){return zt(e[n])}function kr(n,e){return zt(e[n.index])}function uw(n,e){return n.data[e]}function Rr(n,e){const t=e[n];return Ni(t)?t:t[0]}function ZF(n){return 4==(4&n[2])}function dw(n){return 128==(128&n[2])}function ho(n,e){return null==e?null:n[e]}function JF(n){n[18]=0}function hw(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const oe={lFrame:lL(null),bindingsEnabled:!0};function tL(){return oe.bindingsEnabled}function S(){return oe.lFrame.lView}function xe(){return oe.lFrame.tView}function tc(n){return oe.lFrame.contextLView=n,n[8]}function tn(){let n=nL();for(;null!==n&&64===n.type;)n=n.parent;return n}function nL(){return oe.lFrame.currentTNode}function Fi(n,e){const t=oe.lFrame;t.currentTNode=n,t.isParent=e}function fw(){return oe.lFrame.isParent}function pw(){oe.lFrame.isParent=!1}function sr(){const n=oe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function nc(){return oe.lFrame.bindingIndex++}function eZ(n,e){const t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,gw(e)}function gw(n){oe.lFrame.currentDirectiveIndex=n}function mw(n){const e=oe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function sL(){return oe.lFrame.currentQueryIndex}function _w(n){oe.lFrame.currentQueryIndex=n}function nZ(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function oL(n,e,t){if(t&te.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&te.Host||(i=nZ(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=oe.lFrame=aL();return r.currentTNode=e,r.lView=n,!0}function Ug(n){const e=aL(),t=n[1];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function aL(){const n=oe.lFrame,e=null===n?null:n.child;return null===e?lL(n):e}function lL(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function cL(){const n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const uL=cL;function jg(){const n=cL();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function or(){return oe.lFrame.selectedIndex}function fo(n){oe.lFrame.selectedIndex=n}function bt(){const n=oe.lFrame;return uw(n.tView,n.selectedIndex)}function $g(){oe.lFrame.currentNamespace="svg"}function Hg(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function zg(n,e,t){dL(n,e,3,t)}function Gg(n,e,t,r){(3&n[2])===t&&dL(n,e,t,r)}function yw(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function dL(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(uZ(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function uZ(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Sd{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Wg(n,e,t){const r=At(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++i];Ew(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function hL(n){return 3===n||4===n||6===n}function Ew(n){return 64===n.charCodeAt(0)}function qg(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||fL(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function fL(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function pL(n){return-1!==n}function rc(n){return 32767&n}function ic(n,e){let t=function gZ(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let bw=!0;function Kg(n){const e=bw;return bw=n,e}let mZ=0;function Ad(n,e){const t=Iw(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,ww(r.data,n),ww(e,null),ww(r.blueprint,null));const i=Yg(n,e),s=n.injectorIndex;if(pL(i)){const o=rc(i),a=ic(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function ww(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Iw(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Yg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Qg(n,e,t){!function _Z(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(bd)&&(r=t[bd]),null==r&&(r=t[bd]=mZ++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function _L(n,e,t){if(t&te.Optional)return n;kg(e,"NodeInjector")}function yL(n,e,t,r){if(t&te.Optional&&void 0===r&&(r=null),0==(t&(te.Self|te.Host))){const i=n[9],s=lo(void 0);try{return i?i.get(e,r,t&te.Optional):jF(e,r,t&te.Optional)}finally{lo(s)}}return _L(r,e,t)}function vL(n,e,t,r=te.Default,i){if(null!==n){const s=function bZ(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(bd)?n[bd]:void 0;return"number"==typeof e?e>=0?255&e:vZ:e}(t);if("function"==typeof s){if(!oL(e,n,r))return r&te.Host?_L(i,t,r):yL(e,t,r,i);try{const o=s(r);if(null!=o||r&te.Optional)return o;kg(t)}finally{uL()}}else if("number"==typeof s){let o=null,a=Iw(n,e),l=-1,c=r&te.Host?e[16][6]:null;for((-1===a||r&te.SkipSelf)&&(l=-1===a?Yg(n,e):e[a+8],-1!==l&&wL(r,!1)?(o=e[1],a=rc(l),e=ic(l,e)):a=-1);-1!==a;){const u=e[1];if(bL(s,a,u.data)){const d=EZ(a,e,t,o,r,c);if(d!==EL)return d}l=e[a+8],-1!==l&&wL(r,e[1].data[a+8]===c)&&bL(s,a,e)?(o=u,a=rc(l),e=ic(l,e)):a=-1}}}return yL(e,t,r,i)}const EL={};function vZ(){return new sc(tn(),S())}function EZ(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=Xg(a,o,t,null==r?Fg(a)&&bw:r!=o&&0!=(3&a.type),i&te.Host&&s===a);return null!==u?xd(e,o,u,a):EL}function Xg(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&mi(f)&&f.type===t)return l}return null}function xd(n,e,t,r){let i=n[t];const s=e.data;if(function dZ(n){return n instanceof Sd}(i)){const o=i;o.resolving&&function pX(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new U(-200,`Circular dependency in DI detected for ${n}${t}`)}(xn(s[t]));const a=Kg(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?lo(o.injectImpl):null;oL(n,r,te.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function cZ(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=KF(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&lo(l),Kg(a),o.resolving=!1,uL()}}return i}function bL(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function wL(n,e){return!(n&te.Self||n&te.Host&&e)}class sc{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return vL(this._tNode,this._lView,e,r,t)}}function Rn(n){return co(()=>{const e=n.prototype.constructor,t=e[ys]||Cw(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ys]||Cw(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Cw(n){return LF(n)?()=>{const e=Cw(fe(n));return e&&e()}:Ia(n)}function kd(n){return function yZ(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(hL(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(tn(),n)}const ac="__parameters__";function cc(n,e,t){return co(()=>{const r=function Tw(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(ac)?l[ac]:Object.defineProperty(l,ac,{value:[]})[ac];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class B{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=V({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const IZ=new B("AnalyzeForEntryComponents");function Qr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Qr(r,e)):e!==n&&e.push(r)}return e}function Li(n,e){n.forEach(t=>Array.isArray(t)?Li(t,e):e(t))}function CL(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Zg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Pd(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Mr(n,e,t){let r=uc(n,e);return r>=0?n[1|r]=t:(r=~r,function SZ(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Dw(n,e){const t=uc(n,e);if(t>=0)return n[1|t]}function uc(n,e){return function DL(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Od={},xw="__NG_DI_FLAG__",em="ngTempTokenPath",PZ=/\n/gm,xL="__source",NZ=Ke({provide:String,useValue:Ke});let Nd;function kL(n){const e=Nd;return Nd=n,e}function FZ(n,e=te.Default){if(void 0===Nd)throw new U(203,"");return null===Nd?jF(n,void 0,e):Nd.get(n,e&te.Optional?null:void 0,e)}function w(n,e=te.Default){return(function bX(){return Zb}()||FZ)(fe(n),e)}const kw=w;function Rw(n){const e=[];for(let t=0;t<n.length;t++){const r=fe(n[t]);if(Array.isArray(r)){if(0===r.length)throw new U(900,"");let i,s=te.Default;for(let o=0;o<r.length;o++){const a=r[o],l=LZ(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(w(i,s))}else e.push(w(r))}return e}function Fd(n,e){return n[xw]=e,n.prototype[xw]=e,n}function LZ(n){return n[xw]}const tm=Fd(cc("Inject",n=>({token:n})),-1),ot=Fd(cc("Optional"),8),Ld=Fd(cc("SkipSelf"),4);var Pr=(()=>((Pr=Pr||{})[Pr.Important=1]="Important",Pr[Pr.DashCase=2]="DashCase",Pr))();const VL="__ngContext__";function Gn(n,e){n[VL]=e}function Ow(n){const e=function Bd(n){return n[VL]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function Fw(n,e){return undefined(n,e)}function Ud(n){const e=n[3];return gi(e)?e[3]:e}function Lw(n){return GL(n[13])}function Vw(n){return GL(n[4])}function GL(n){for(;null!==n&&!gi(n);)n=n[4];return n}function hc(n,e,t,r,i){if(null!=r){let s,o=!1;gi(r)?s=r:Ni(r)&&(o=!0,r=r[0]);const a=zt(r);0===n&&null!==t?null==i?XL(e,t,a):Ca(e,t,a,i||null,!0):1===n&&null!==t?Ca(e,t,a,i||null,!0):2===n?function Gw(n,e,t){const r=rm(n,e);r&&function pJ(n,e,t,r){At(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function _J(n,e,t,r,i){const s=t[7];s!==zt(t)&&hc(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];jd(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function Uw(n,e,t){if(At(n))return n.createElement(e,t);{const r=null!==t?function jX(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function qL(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,hw(i,-1)),t.splice(r,1)}function jw(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&qL(i,r),e>0&&(n[t-1][4]=r[4]);const s=Zg(n,10+e);!function oJ(n,e){jd(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function KL(n,e){if(!(256&e[2])){const t=e[11];At(t)&&t.destroyNode&&jd(n,e,t,3,null,null),function cJ(n){let e=n[13];if(!e)return $w(n[1],n);for(;e;){let t=null;if(Ni(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ni(e)&&$w(e[1],e),e=e[3];null===e&&(e=n),Ni(e)&&$w(e[1],e),t=e&&e[4]}e=t}}(e)}}function $w(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function fJ(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Sd)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function hJ(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):zt(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&At(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&gi(e[3])){t!==e[3]&&qL(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function YL(n,e,t){return function QL(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===fi.None||i===fi.Emulated)return null}return kr(r,t)}(n,e.parent,t)}function Ca(n,e,t,r,i){At(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function XL(n,e,t){At(n)?n.appendChild(e,t):e.appendChild(t)}function ZL(n,e,t,r,i){null!==r?Ca(n,e,t,r,i):XL(n,e,t)}function rm(n,e){return At(n)?n.parentNode(e):e.parentNode}function JL(n,e,t){return t2(n,e,t)}let t2=function e2(n,e,t){return 40&n.type?kr(n,t):null};function im(n,e,t,r){const i=YL(n,r,e),s=e[11],a=JL(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)ZL(s,i,t[l],a,!1);else ZL(s,i,t,a,!1)}function sm(n,e){if(null!==e){const t=e.type;if(3&t)return kr(e,n);if(4&t)return zw(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return sm(n,r);{const i=n[e.index];return gi(i)?zw(-1,i):zt(i)}}if(32&t)return Fw(e,n)()||zt(n[e.index]);{const r=r2(n,e);return null!==r?Array.isArray(r)?r[0]:sm(Ud(n[16]),r):sm(n,e.next)}}return null}function r2(n,e){return null!==e?n[16][6].projection[e.projection]:null}function zw(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return sm(r,i)}return e[7]}function Ww(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Gn(zt(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Ww(n,e,t.child,r,i,s,!1),hc(e,n,i,a,s);else if(32&l){const c=Fw(t,r);let u;for(;u=c();)hc(e,n,i,u,s);hc(e,n,i,a,s)}else 16&l?s2(n,e,r,t,i,s):hc(e,n,i,a,s);t=o?t.projectionNext:t.next}}function jd(n,e,t,r,i,s){Ww(t,r,n.firstChild,e,i,s,!1)}function s2(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)hc(e,n,i,l[c],s);else Ww(n,e,l,o[3],i,s,!0)}function o2(n,e,t){At(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function qw(n,e,t){At(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}class u2{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function go(n){return n instanceof u2?n.changingThisBreaksApplicationSecurity:n}const RJ=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,MJ=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Gt=(()=>((Gt=Gt||{})[Gt.NONE=0]="NONE",Gt[Gt.HTML=1]="HTML",Gt[Gt.STYLE=2]="STYLE",Gt[Gt.SCRIPT=3]="SCRIPT",Gt[Gt.URL=4]="URL",Gt[Gt.RESOURCE_URL=5]="RESOURCE_URL",Gt))();function um(n){const e=function zd(){const n=S();return n&&n[12]}();return e?e.sanitize(Gt.URL,n)||"":function $d(n,e){const t=function DJ(n){return n instanceof u2&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?go(n):function lm(n){return(n=String(n)).match(RJ)||n.match(MJ)?n:"unsafe:"+n}(se(n))}function tI(n){return n.ngOriginalError}function YJ(n,...e){n.error(...e)}class Gd{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function KJ(n){return n&&n.ngErrorLogger||YJ}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&tI(e);for(;t&&tI(t);)t=tI(t);return t||null}}const nee=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(We))();function Bi(n){return n instanceof Function?n():n}function E2(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const b2="ng-template";function oee(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==E2(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function w2(n){return 4===n.type&&n.value!==b2}function aee(n,e,t){return e===(4!==n.type||t?n.value:b2)}function lee(n,e,t){let r=4;const i=n.attrs||[],s=function dee(n){for(let e=0;e<n.length;e++)if(hL(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!aee(n,l,t)||""===l&&1===e.length){if(_i(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!oee(n.attrs,c,t)){if(_i(r))return!1;o=!0}continue}const d=cee(8&r?"class":l,i,w2(n),t);if(-1===d){if(_i(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==E2(f,c,0)||2&r&&c!==h){if(_i(r))return!1;o=!0}}}}else{if(!o&&!_i(r)&&!_i(l))return!1;if(o&&_i(l))continue;o=!1,r=l|1&r}}return _i(r)||o}function _i(n){return 0==(1&n)}function cee(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function hee(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function I2(n,e,t=!1){for(let r=0;r<e.length;r++)if(lee(n,e[r],t))return!0;return!1}function fee(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function C2(n,e){return n?":not("+e.trim()+")":e}function pee(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!_i(o)&&(e+=C2(s,i),i=""),r=o,s=s||!_i(r);t++}return""!==i&&(e+=C2(s,i)),e}const ae={};function xt(n){T2(xe(),S(),or()+n,!1)}function T2(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&zg(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Gg(e,s,0,t)}fo(t)}function dm(n,e){return n<<17|e<<2}function yi(n){return n>>17&32767}function nI(n){return 2|n}function bs(n){return(131068&n)>>2}function rI(n,e){return-131069&n|e<<2}function iI(n){return 1|n}function F2(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];_w(i),o.contentQueries(2,e[s],s)}}}function Wd(n,e,t,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,JF(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function pc(n,e,t,r,i){let s=n.data[e];if(null===s)s=function fI(n,e,t,r,i){const s=nL(),o=fw(),l=n.data[e]=function Mee(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),function JX(){return oe.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Td(){const n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Fi(s,!0),s}function gc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function qd(n,e,t){Ug(e);try{const r=n.viewQuery;null!==r&&wI(1,r,t);const i=n.template;null!==i&&L2(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&F2(n,e),n.staticViewQueries&&wI(2,n.viewQuery,t);const s=n.components;null!==s&&function xee(n,e){for(let t=0;t<e.length;t++)Qee(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,jg()}}function mc(n,e,t,r){const i=e[2];if(256!=(256&i)){Ug(e);try{JF(e),function rL(n){return oe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&L2(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&zg(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Gg(e,c,0,null),yw(e,0)}if(function Kee(n){for(let e=Lw(n);null!==e;e=Vw(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&hw(s,1),i[2]|=1024}}}(e),function qee(n){for(let e=Lw(n);null!==e;e=Vw(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];dw(r)&&mc(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&F2(n,e),o){const c=n.contentCheckHooks;null!==c&&zg(e,c)}else{const c=n.contentHooks;null!==c&&Gg(e,c,1),yw(e,1)}!function Dee(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)fo(~i);else{const s=i,o=t[++r],a=t[++r];eZ(o,s),a(2,e[s])}}}finally{fo(-1)}}(n,e);const a=n.components;null!==a&&function Aee(n,e){for(let t=0;t<e.length;t++)Yee(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&wI(2,l,r),o){const c=n.viewCheckHooks;null!==c&&zg(e,c)}else{const c=n.viewHooks;null!==c&&Gg(e,c,2),yw(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,hw(e[3],-1))}finally{jg()}}}function kee(n,e,t,r){const i=e[10],o=ZF(e);try{!o&&i.begin&&i.begin(),o&&qd(n,e,r),mc(n,e,t,r)}finally{!o&&i.end&&i.end()}}function L2(n,e,t,r,i){const s=or(),o=2&r;try{fo(-1),o&&e.length>20&&T2(n,e,20,!1),t(r,i)}finally{fo(s)}}function pI(n,e,t){!tL()||(function Bee(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Ad(t,e),Gn(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=mi(l);c&&zee(e,t,l);const u=xd(e,n,a,t);Gn(u,e),null!==o&&Gee(0,a-i,u,l,0,o),c&&(Rr(t.index,e)[8]=u)}}(n,e,t,kr(t,e)),128==(128&t.flags)&&function Uee(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function tZ(){return oe.lFrame.currentDirectiveIndex}();try{fo(o);for(let l=r;l<i;l++){const c=n.data[l],u=e[l];gw(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&W2(c,u)}}finally{fo(-1),gw(a)}}(n,e,t))}function gI(n,e,t=kr){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function B2(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=pm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function pm(n,e,t,r,i,s,o,a,l,c){const u=20+r,d=u+i,h=function Ree(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ae);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function $2(n,e,t,r){const i=Z2(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&J2(n).push(r,i.length-1))}function H2(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Or(n,e,t,r,i,s,o,a){const l=kr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(nV(n,t,u,r,i),Fg(e)&&function Nee(n,e){const t=Rr(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function Oee(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,At(s)?s.setProperty(l,r,i):Ew(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function mI(n,e,t,r){let i=!1;if(tL()){const s=function jee(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];I2(t,o.selectors,!1)&&(i||(i=[]),Qg(Ad(t,e),n,o.type),mi(o)?(q2(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,K2(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=gc(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=qg(t.mergedAttrs,d.hostAttrs),Y2(n,t,e,c,d),Hee(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function Pee(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===s||w2(e)?null:Wee(d,s);o.push(h),a=H2(d,c,a),l=H2(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function $ee(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new U(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=qg(t.mergedAttrs,t.attrs),i}function G2(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function Vee(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function W2(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function q2(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function Hee(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;mi(e)&&(t[""]=n)}}function K2(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Y2(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ia(i.type)),o=new Sd(s,mi(i),null);n.blueprint[r]=o,t[r]=o,G2(n,e,0,r,gc(n,t,i.hostVars,ae),i)}function zee(n,e,t){const r=kr(e,n),i=B2(t),s=n[10],o=gm(n,Wd(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function Ui(n,e,t,r,i,s){const o=kr(n,e);!function _I(n,e,t,r,i,s,o){if(null==s)At(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?se(s):o(s,r||"",i);At(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function Gee(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function Wee(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function Q2(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function Yee(n,e){const t=Rr(e,n);if(dw(t)){const r=t[1];80&t[2]?mc(r,t,r.template,t[8]):t[5]>0&&yI(t)}}function yI(n){for(let r=Lw(n);null!==r;r=Vw(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];mc(o,s,o.template,s[8])}else s[5]>0&&yI(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Rr(t[r],n);dw(i)&&i[5]>0&&yI(i)}}function Qee(n,e){const t=Rr(e,n),r=t[1];(function Xee(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),qd(r,t,t[8])}function gm(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function vI(n){for(;n;){n[2]|=64;const e=Ud(n);if(RX(n)&&!e)return n;n=e}return null}function X2(n){!function EI(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=Ow(t),i=r[1];kee(i,r,i.template,t)}}(n[8])}function wI(n,e,t){_w(0),e(n,t)}const Jee=(()=>Promise.resolve(null))();function Z2(n){return n[7]||(n[7]=[])}function J2(n){return n.cleanup||(n.cleanup=[])}function eV(n,e,t){return(null===n||mi(n))&&(t=function zX(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function tV(n,e){const t=n[9],r=t?t.get(Gd,null):null;r&&r.handleError(e)}function nV(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function ws(n,e,t){const r=Vg(e,n);!function WL(n,e,t){At(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function mm(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Kb(i,a):2==s&&(r=Kb(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const II=new B("INJECTOR",-1);class rV{get(e,t=Od){if(t===Od){const r=new Error(`NullInjectorError: No provider for ${Ue(e)}!`);throw r.name="NullInjectorError",r}return t}}const CI=new B("Set Injector scope."),Kd={},nte={};let TI;function iV(){return void 0===TI&&(TI=new rV),TI}function sV(n,e=null,t=null,r){const i=oV(n,e,t,r);return i._resolveInjectorDefTypes(),i}function oV(n,e=null,t=null,r){return new rte(n,t,e||iV(),r)}class rte{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Li(t,a=>this.processProvider(a,e,t)),Li([e],a=>this.processInjectorType(a,[],s)),this.records.set(II,_c(void 0,this));const o=this.records.get(CI);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Ue(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Od,r=te.Default){this.assertNotDestroyed();const i=kL(this),s=lo(void 0);try{if(!(r&te.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function dte(n){return"function"==typeof n||"object"==typeof n&&n instanceof B}(e)&&Qb(e);a=l&&this.injectableDefInScope(l)?_c(SI(e),Kd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&te.Self?iV():this.parent).get(e,t=r&te.Optional&&t===Od?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[em]=o[em]||[]).unshift(Ue(e)),i)throw o;return function VZ(n,e,t,r){const i=n[em];throw e[xL]&&i.unshift(e[xL]),n.message=function BZ(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Ue(e);if(Array.isArray(e))i=e.map(Ue).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ue(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(PZ,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[em]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{lo(s),kL(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Ue(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processInjectorType(e,t,r){if(!(e=fe(e)))return!1;let i=BF(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=BF(s)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(o);try{Li(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];Li(f,p=>this.processProvider(p,h,f||Ye))}}this.injectorDefTypes.add(o);const l=Ia(o)||(()=>new o);this.records.set(o,_c(l,Kd));const c=i.providers;if(null!=c&&!a){const u=e;Li(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=yc(e=fe(e))?e:fe(e&&e.provide);const s=function ste(n,e,t){return lV(n)?_c(void 0,n.useValue):_c(aV(n),Kd)}(e);if(yc(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=_c(void 0,Kd,!0),o.factory=()=>Rw(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===Kd&&(t.value=nte,t.value=t.factory()),"object"==typeof t.value&&t.value&&function ute(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=fe(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function SI(n){const e=Qb(n),t=null!==e?e.factory:Ia(n);if(null!==t)return t;if(n instanceof B)throw new U(204,!1);if(n instanceof Function)return function ite(n){const e=n.length;if(e>0)throw Pd(e,"?"),new U(204,!1);const t=function yX(n){const e=n&&(n[Rg]||n[UF]);if(e){const t=function vX(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new U(204,!1)}function aV(n,e,t){let r;if(yc(n)){const i=fe(n);return Ia(i)||SI(i)}if(lV(n))r=()=>fe(n.useValue);else if(function ate(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Rw(n.deps||[]));else if(function ote(n){return!(!n||!n.useExisting)}(n))r=()=>w(fe(n.useExisting));else{const i=fe(n&&(n.useClass||n.provide));if(!function cte(n){return!!n.deps}(n))return Ia(i)||SI(i);r=()=>new i(...Rw(n.deps))}return r}function _c(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function lV(n){return null!==n&&"object"==typeof n&&NZ in n}function yc(n){return"function"==typeof n}let Fe=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return sV({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return sV({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Od,n.NULL=new rV,n.\u0275prov=V({token:n,providedIn:"any",factory:()=>w(II)}),n.__NG_ELEMENT_ID__=-1,n})();function vte(n,e){Hg(Ow(n)[1],tn())}function Se(n){let e=function EV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(mi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=xI(n.inputs),o.declaredInputs=xI(n.declaredInputs),o.outputs=xI(n.outputs);const a=i.hostBindings;a&&Ite(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&bte(n,l),c&&wte(n,c),qb(n.inputs,i.inputs),qb(n.declaredInputs,i.declaredInputs),qb(n.outputs,i.outputs),mi(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Se&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Ete(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qg(i.hostAttrs,t=qg(t,i.hostAttrs))}}(r)}function xI(n){return n===Yl?{}:n===Ye?[]:n}function bte(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function wte(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function Ite(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let _m=null;function vc(){if(!_m){const n=We.Symbol;if(n&&n.iterator)_m=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(_m=r)}}}return _m}function Yd(n){return!!function kI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&vc()in n)}function ji(n,e,t){return n[e]=t}function Wn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function fn(n,e,t,r){const i=S();return Wn(i,nc(),e)&&(xe(),Ui(bt(),i,n,e,t,r)),fn}function bc(n,e,t,r){return Wn(n,nc(),t)?e+se(t)+r:ae}function Ei(n,e,t,r,i,s,o,a){const l=S(),c=xe(),u=n+20,d=c.firstCreatePass?function kte(n,e,t,r,i,s,o,a,l){const c=e.consts,u=pc(e,n,4,o||null,ho(c,a));mI(e,t,u,ho(c,l)),Hg(e,u);const d=u.tViews=pm(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Fi(d,!1);const h=l[11].createComment("");im(c,l,h,d),Gn(h,l),gm(l,l[u]=Q2(h,l,h,d)),Lg(d)&&pI(c,l,d),null!=o&&gI(l,d,a)}function Xd(n){return function ec(n,e){return n[e]}(function ZX(){return oe.lFrame.contextLView}(),20+n)}function b(n,e=te.Default){const t=S();return null===t?w(n,e):vL(tn(),t,fe(n),e)}function Em(){throw new Error("invalid")}function rn(n,e,t){const r=S();return Wn(r,nc(),e)&&Or(xe(),bt(),r,n,e,r[11],t,!1),rn}function NI(n,e,t,r,i){const o=i?"class":"style";nV(n,t,e.inputs[o],o,r)}function ke(n,e,t,r){const i=S(),s=xe(),o=20+n,a=i[11],l=i[o]=Uw(a,e,function lZ(){return oe.lFrame.currentNamespace}()),c=s.firstCreatePass?function Xte(n,e,t,r,i,s,o){const a=e.consts,c=pc(e,n,2,i,ho(a,s));return mI(e,t,c,ho(a,o)),null!==c.attrs&&mm(c,c.attrs,!1),null!==c.mergedAttrs&&mm(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Fi(c,!0);const u=c.mergedAttrs;null!==u&&Wg(a,l,u);const d=c.classes;null!==d&&qw(a,l,d);const h=c.styles;return null!==h&&o2(a,l,h),64!=(64&c.flags)&&im(s,i,l,c),0===function qX(){return oe.lFrame.elementDepthCount}()&&Gn(l,i),function KX(){oe.lFrame.elementDepthCount++}(),Lg(c)&&(pI(s,i,c),function V2(n,e,t){if(rw(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,i)),null!==r&&gI(i,c),ke}function Re(){let n=tn();fw()?pw():(n=n.parent,Fi(n,!1));const e=n;!function YX(){oe.lFrame.elementDepthCount--}();const t=xe();return t.firstCreatePass&&(Hg(t,n),rw(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function fZ(n){return 0!=(16&n.flags)}(e)&&NI(t,e,S(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function pZ(n){return 0!=(32&n.flags)}(e)&&NI(t,e,S(),e.stylesWithoutHost,!1),Re}function sn(n,e,t,r){return ke(n,e,t,r),Re(),sn}function bm(){return S()}function Zd(n){return!!n&&"function"==typeof n.then}const VI=function jV(n){return!!n&&"function"==typeof n.subscribe};function at(n,e,t,r){const i=S(),s=xe(),o=tn();return $V(s,i,i[11],o,n,e,!!t,r),at}function wm(n,e){const t=tn(),r=S(),i=xe();return $V(i,r,eV(mw(i.data),t,r),t,n,e,!1),wm}function $V(n,e,t,r,i,s,o,a){const l=Lg(r),u=n.firstCreatePass&&J2(n),d=e[8],h=Z2(e);let f=!0;if(3&r.type||a){const _=kr(r,e),v=a?a(_):_,y=h.length,C=a?x=>a(zt(x[r.index])):r.index;if(At(t)){let x=null;if(!a&&l&&(x=function Jte(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,f=!1;else{s=BI(r,e,d,s,!1);const $=t.listen(v,i,s);h.push(s,$),u&&u.push(i,C,y,y+1)}}else s=BI(r,e,d,s,!0),v.addEventListener(i,s,o),h.push(s),u&&u.push(i,C,y,o)}else s=BI(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const _=m.length;if(_)for(let v=0;v<_;v+=2){const W=e[m[v]][m[v+1]].subscribe(s),ce=h.length;h.push(s,W),u&&u.push(i,r.index,ce,-(ce+1))}}}function HV(n,e,t,r){try{return!1!==t(r)}catch(i){return tV(n,i),!1}}function BI(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?Rr(n.index,e):e;0==(32&e[2])&&vI(a);let l=HV(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=HV(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function bi(n=1){return function rZ(n){return(oe.lFrame.contextLView=function iZ(n,e){for(;n>0;)e=e[15],n--;return e}(n,oe.lFrame.contextLView))[8]}(n)}function ene(n,e){let t=null;const r=function uee(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?I2(n,s,!0):fee(r,s))return i}else t=i}return t}function UI(n,e,t){return jI(n,"",e,"",t),UI}function jI(n,e,t,r,i){const s=S(),o=bc(s,e,t,r);return o!==ae&&Or(xe(),bt(),s,n,o,s[11],i,!1),jI}function eB(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?yi(s):bs(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];rne(n[a],e)&&(l=!0,n[a+1]=r?iI(u):nI(u)),a=r?yi(u):bs(u)}l&&(n[t+1]=r?nI(s):iI(s))}function rne(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&uc(n,e)>=0}function Rc(n,e,t){return wi(n,e,t,!1),Rc}function yo(n,e){return wi(n,e,null,!0),yo}function wi(n,e,t,r){const i=S(),s=xe(),o=function Es(n){const e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function lB(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[or()],o=function aB(n,e){return e>=n.expandoStartIndex}(n,t);(function hB(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function hne(n,e,t,r){const i=mw(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Jd(t=$I(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=$I(i,n,e,t,r),null===s){let l=function fne(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==bs(r))return n[yi(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=$I(null,n,e,l[1],r),l=Jd(l,e.attrs,r),function pne(n,e,t,r){n[yi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function gne(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Jd(r,n[s].hostAttrs,t);return Jd(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function tne(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=yi(o),l=bs(o);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||uc(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=yi(n[a+1]);n[r+1]=dm(h,a),0!==h&&(n[h+1]=rI(n[h+1],r)),n[a+1]=function _ee(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=dm(a,0),0!==a&&(n[a+1]=rI(n[a+1],r)),a=r;else n[r+1]=dm(l,0),0===a?a=r:n[l+1]=rI(n[l+1],r),l=r;c&&(n[r+1]=nI(n[r+1])),eB(n,u,r,!0),eB(n,u,r,!1),function nne(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&uc(s,e)>=0&&(t[r+1]=iI(t[r+1]))}(e,u,n,r,s),o=dm(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==ae&&Wn(i,o,e)&&function uB(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];Im(function A2(n){return 1==(1&n)}(c)?dB(l,e,t,i,bs(c),o):void 0)||(Im(s)||function D2(n){return 2==(2&n)}(c)&&(s=dB(l,null,t,i,a,o)),function yJ(n,e,t,r,i){const s=At(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Pr.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Pr.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,Vg(or(),t),i,s))}(s,s.data[or()],i,i[11],n,i[o+1]=function yne(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ue(go(n)))),n}(e,t),r,o)}function $I(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Jd(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Jd(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Mr(n,o,!!t||e[++s]))}return void 0===n?null:n}function dB(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===ae&&(h=d?Ye:void 0);let f=d?Dw(h,r):u===r?h:void 0;if(c&&!Im(f)&&(f=Dw(l,r)),Im(f)&&(a=f,o))return a;const p=n[i+1];i=o?yi(p):bs(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Dw(l,r))}return a}function Im(n){return void 0!==n}function vr(n,e=""){const t=S(),r=xe(),i=n+20,s=r.firstCreatePass?pc(r,i,1,e,null):r.data[i],o=t[i]=function Bw(n,e){return At(n)?n.createText(e):n.createTextNode(e)}(t[11],e);im(r,t,o,s),Fi(s,!1)}function eh(n){return th("",n,""),eh}function th(n,e,t){const r=S(),i=bc(r,n,e,t);return i!==ae&&ws(r,or(),i),th}function Cm(n,e,t){const r=S();return Wn(r,nc(),e)&&Or(xe(),bt(),r,n,e,r[11],t,!0),Cm}function Tm(n,e,t){const r=S();if(Wn(r,nc(),e)){const s=xe(),o=bt();Or(s,o,r,n,e,eV(mw(s.data),o,r),t,!0)}return Tm}const Sm="en-US";let MB=Sm;function GI(n,e,t,r,i){if(n=fe(n),Array.isArray(n))for(let s=0;s<n.length;s++)GI(n[s],e,t,r,i);else{const s=xe(),o=S();let a=yc(n)?n:fe(n.provide),l=aV(n);const c=tn(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(yc(n)||!n.multi){const f=new Sd(l,i,b),p=qI(a,e,i?u:u+h,d);-1===p?(Qg(Ad(c,o),s,a),WI(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=qI(a,e,u+h,d),p=qI(a,e,u,u+h),m=f>=0&&t[f],_=p>=0&&t[p];if(i&&!_||!i&&!m){Qg(Ad(c,o),s,a);const v=function Lre(n,e,t,r,i){const s=new Sd(n,t,b);return s.multi=[],s.index=e,s.componentProviders=0,nU(s,i,r&&!t),s}(i?Fre:Nre,t.length,i,r,l);!i&&_&&(t[p].providerFactory=v),WI(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(v),o.push(v)}else WI(s,n,f>-1?f:p,nU(t[i?p:f],l,!i&&r));!i&&r&&_&&t[p].componentProviders++}}}function WI(n,e,t,r){const i=yc(e),s=function lte(n){return!!n.useClass}(e);if(i||s){const l=(s?fe(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function nU(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function qI(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Nre(n,e,t,r){return KI(this.multi,[])}function Fre(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=xd(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),KI(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],KI(i,s);return s}function KI(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function mt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function Ore(n,e,t){const r=xe();if(r.firstCreatePass){const i=mi(n);GI(t,r.data,r.blueprint,i,!0),GI(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class rU{}class Ure{resolveComponentFactory(e){throw function Bre(n){const e=Error(`No component factory found for ${Ue(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let vo=(()=>{class n{}return n.NULL=new Ure,n})();function jre(){return Oc(tn(),S())}function Oc(n,e){return new _t(kr(n,e))}let _t=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=jre,n})();function $re(n){return n instanceof _t?n.nativeElement:n}class oh{}let Is=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function zre(){const n=S(),t=Rr(tn().index,n);return function Hre(n){return n[11]}(Ni(t)?t:n)}(),n})(),Gre=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>null}),n})();class Eo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const sU=new Eo("13.4.0"),YI={};function Rm(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(zt(s)),gi(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&Rm(l[1],l,c,r)}const o=t.type;if(8&o)Rm(n,e,t.child,r);else if(32&o){const a=Fw(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=r2(e,t);if(Array.isArray(a))r.push(...a);else{const l=Ud(e[16]);Rm(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class ah{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Rm(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(gi(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(jw(e,r),Zg(t,r))}this._attachedToViewContainer=!1}KL(this._lView[1],this._lView)}onDestroy(e){$2(this._lView[1],this._lView,null,e)}markForCheck(){vI(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function bI(n,e,t){const r=e[10];r.begin&&r.begin();try{mc(n,e,n.template,t)}catch(i){throw tV(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lJ(n,e){jd(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,"");this._appRef=e}}class Wre extends ah{constructor(e){super(e),this._view=e}detectChanges(){X2(this._view)}checkNoChanges(){}get context(){return null}}class oU extends vo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=kn(e);return new QI(t,this.ngModule)}}function aU(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class QI extends rU{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function gee(n){return n.map(pee).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return aU(this.componentDef.inputs)}get outputs(){return aU(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function Kre(n,e){return{get:(t,r,i)=>{const s=n.get(t,YI,i);return s!==YI||r===YI?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(oh,XF),a=s.get(Gre,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function j2(n,e,t){if(At(n))return n.selectRootElement(e,t===fi.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):Uw(o.createRenderer(null,this.componentDef),c,function qre(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function vV(n,e){return{components:[],scheduler:n||nee,clean:Jee,playerHandler:e||null,flags:0}}(),f=pm(0,null,null,1,0,null,null,null,null,null),p=Wd(null,f,h,d,null,null,o,l,a,s);let m,_;Ug(p);try{const v=function _V(n,e,t,r,i,s){const o=t[1];t[20]=n;const l=pc(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(mm(l,c,!0),null!==n&&(Wg(i,n,c),null!==l.classes&&qw(i,n,l.classes),null!==l.styles&&o2(i,n,l.styles)));const u=r.createRenderer(n,e),d=Wd(t,B2(e),null,e.onPush?64:16,t[20],l,r,u,s||null,null);return o.firstCreatePass&&(Qg(Ad(l,t),o,e.type),q2(o,l),K2(l,t.length,1)),gm(t,d),t[20]=d}(u,this.componentDef,p,o,l);if(u)if(r)Wg(l,u,["ng-version",sU.full]);else{const{attrs:y,classes:C}=function mee(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!_i(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);y&&Wg(l,u,y),C&&C.length>0&&qw(l,u,C.join(" "))}if(_=uw(f,20),void 0!==t){const y=_.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const x=t[C];y.push(null!=x?Array.from(x):null)}}m=function yV(n,e,t,r,i){const s=t[1],o=function Lee(n,e,t){const r=tn();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),Y2(n,r,e,gc(n,e,1,null),t));const i=xd(e,n,r.directiveStart,r);Gn(i,e);const s=kr(r,e);return s&&Gn(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=tn();e.contentQueries(1,o,l.directiveStart)}const a=tn();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(fo(a.index),G2(t[1],a,0,a.directiveStart,a.directiveEnd,e),W2(e,o)),o}(v,this.componentDef,p,h,[vte]),qd(f,p,null)}finally{jg()}return new Qre(this.componentType,m,Oc(_,p),p,_)}}class Qre extends class Vre{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new Wre(i),this.componentType=e}get injector(){return new sc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Cs{}class lU{}const Nc=new Map;class dU extends Cs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new oU(this);const r=qr(e);this._bootstrapComponents=Bi(r.bootstrap),this._r3Injector=oV(e,t,[{provide:Cs,useValue:this},{provide:vo,useValue:this.componentFactoryResolver}],Ue(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Fe.THROW_IF_NOT_FOUND,r=te.Default){return e===Fe||e===Cs||e===II?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class XI extends lU{constructor(e){super(),this.moduleType=e,null!==qr(e)&&function Zre(n){const e=new Set;!function t(r){const i=qr(r,!0),s=i.id;null!==s&&(function cU(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Ue(e)} vs ${Ue(e.name)}`)}(s,Nc.get(s),r),Nc.set(s,r));const o=Bi(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new dU(this.moduleType,e)}}function fU(n,e,t,r){return function pU(n,e,t,r,i,s){const o=e+t;return Wn(n,o,i)?ji(n,o+1,s?r.call(s,i):r(i)):function lh(n,e){const t=n[e];return t===ae?void 0:t}(n,o+1)}(S(),sr(),n,e,t,r)}function ZI(n){return e=>{setTimeout(n,void 0,e)}}const et=class pie extends Te{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,l=t||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=ZI(l),a&&(a=ZI(a)),c&&(c=ZI(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof Dn&&e.add(u),u}};function gie(){return this._results[vc()]()}class JI{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=vc(),r=JI.prototype;r[t]||(r[t]=gie)}get changes(){return this._changes||(this._changes=new et)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Qr(e);(this._changesDetected=!function CZ(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ci=(()=>{class n{}return n.__NG_ELEMENT_ID__=yie,n})();const mie=Ci,_ie=class extends mie{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=Wd(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),qd(t,r,e),new ah(r)}};function yie(){return Mm(tn(),S())}function Mm(n,e){return 4&n.type?new _ie(e,n,Oc(n,e)):null}let Zr=(()=>{class n{}return n.__NG_ELEMENT_ID__=vie,n})();function vie(){return bU(tn(),S())}const Eie=Zr,vU=class extends Eie{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Oc(this._hostTNode,this._hostLView)}get injector(){return new sc(this._hostTNode,this._hostLView)}get parentInjector(){const e=Yg(this._hostTNode,this._hostLView);if(pL(e)){const t=ic(e,this._hostLView),r=rc(e);return new sc(t[1].data[r+8],t)}return new sc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=EU(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function Md(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const l=o?e:new QI(kn(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(Cs,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function WX(n){return gi(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new vU(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function uJ(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],CL(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function dJ(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=zw(s,o),l=r[11],c=rm(l,o[7]);return null!==c&&function aJ(n,e,t,r,i,s){r[0]=i,r[6]=e,jd(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),CL(eC(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=EU(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=jw(this._lContainer,t);r&&(Zg(eC(this._lContainer),t),KL(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=jw(this._lContainer,t);return r&&null!=Zg(eC(this._lContainer),t)?new ah(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function EU(n){return n[8]}function eC(n){return n[8]||(n[8]=[])}function bU(n,e){let t;const r=e[n.index];if(gi(r))t=r;else{let i;if(8&n.type)i=zt(r);else{const s=e[11];i=s.createComment("");const o=kr(n,e);Ca(s,rm(s,o),i,function gJ(n,e){return At(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=Q2(r,e,i,n),gm(e,t)}return new vU(t,n,e)}class tC{constructor(e){this.queryList=e,this.matches=null}clone(){return new tC(this.queryList)}setDirty(){this.queryList.setDirty()}}class nC{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new nC(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==SU(e,t).matches&&this.queries[t].setDirty()}}class wU{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class rC{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new rC(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class iC{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new iC(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Iie(t,s)),this.matchTNodeWithReadOption(e,t,Xg(t,e,s,!1,!1))}else r===Ci?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Xg(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===_t||i===Zr||i===Ci&&4&t.type)this.addMatch(t.index,-2);else{const s=Xg(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Iie(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Tie(n,e,t,r){return-1===t?function Cie(n,e){return 11&n.type?Oc(n,e):4&n.type?Mm(n,e):null}(e,n):-2===t?function Sie(n,e,t){return t===_t?Oc(e,n):t===Ci?Mm(e,n):t===Zr?bU(e,n):void 0}(n,e,r):xd(n,n[1],t,e)}function IU(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Tie(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function sC(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=IU(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&sC(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];sC(f[1],f,c,r)}}}}}return r}function Fc(n){const e=S(),t=xe(),r=sL();_w(r+1);const i=SU(t,r);if(n.dirty&&ZF(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?sC(t,e,r,[]):IU(t,e,i,r);n.reset(s,$re),n.notifyOnChanges()}return!0}return!1}function Pm(n,e,t){const r=xe();r.firstCreatePass&&(function TU(n,e,t){null===n.queries&&(n.queries=new rC),n.queries.track(new iC(e,t))}(r,new wU(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function CU(n,e,t){const r=new JI(4==(4&t));$2(n,e,r,r.destroy),null===e[19]&&(e[19]=new nC),e[19].queries.push(new tC(r))}(r,S(),e)}function Lc(){return function Die(n,e){return n[19].queries[e].queryList}(S(),sL())}function SU(n,e){return n.queries.getByIndex(e)}function aC(n,e){return Mm(n,e)}function Fm(...n){}const dh=new B("Application Initializer");let fC=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Fm,this.reject=Fm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Zd(s))t.push(s);else if(VI(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(w(dh,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hh=new B("AppId",{providedIn:"root",factory:function HU(){return`${pC()}${pC()}${pC()}`}});function pC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zU=new B("Platform Initializer"),Aa=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),GU=new B("appBootstrapListener");let Gie=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ts=new B("LocaleId",{providedIn:"root",factory:()=>kw(Ts,te.Optional|te.SkipSelf)||function Wie(){return"undefined"!=typeof $localize&&$localize.locale||Sm}()});class Kie{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let WU=(()=>{class n{compileModuleSync(t){return new XI(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Bi(qr(t).declarations).reduce((o,a)=>{const l=kn(a);return l&&o.push(new QI(l)),o},[]);return new Kie(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qie=(()=>Promise.resolve(0))();function gC(n){"undefined"==typeof Zone?Qie.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class le{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Xie(){let n=We.requestAnimationFrame,e=We.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function ese(n){const e=()=>{!function Jie(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(We,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,_C(n),n.isCheckStableRunning=!0,mC(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),_C(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return qU(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),KU(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return qU(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),KU(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,_C(n),mC(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!le.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(le.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Zie,Fm,Fm);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Zie={};function mC(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function _C(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function qU(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function KU(n){n._nesting--,mC(n)}class tse{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new et,this.onMicrotaskEmpty=new et,this.onStable=new et,this.onError=new et}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let yC=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{le.assertNotInAngularZone(),gC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gC(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(w(le))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),nse=(()=>{class n{constructor(){this._applications=new Map,vC.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return vC.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class rse{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let vC=new rse,xa=null;const YU=new B("AllowMultipleToken"),QU=new B("PlatformOnDestroy");class XU{constructor(e,t){this.name=e,this.token=t}}function ZU(n,e,t=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=EC();if(!o||o.injector.get(YU,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function ase(n){if(xa&&!xa.get(YU,!1))throw new U(400,"");xa=n;const e=n.get(JU),t=n.get(zU,null);t&&t.forEach(r=>r())}(function cse(n=[],e){return Fe.create({name:e,providers:[{provide:CI,useValue:"platform"},{provide:QU,useValue:()=>xa=null},...n]})}(a,r))}return function lse(n){const e=EC();if(!e)throw new U(401,"");return e}()}}function EC(){var n;return null!==(n=null==xa?void 0:xa.get(JU))&&void 0!==n?n:null}let JU=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function use(n,e){let t;return t="noop"===n?new tse:("zone.js"===n?void 0:n)||new le({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:le,useValue:a}];return a.run(()=>{const c=Fe.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(Gd,null);if(!d)throw new U(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{bC(this._modules,u),h.unsubscribe()})}),function dse(n,e,t){try{const r=t();return Zd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=u.injector.get(fC);return h.runInitializers(),h.donePromise.then(()=>(function Hne(n){Ar(n,"Expected localeId to be defined"),"string"==typeof n&&(MB=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Ts,Sm)||Sm),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,r=[]){const i=e3({},r);return function sse(n,e,t){const r=new XI(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(fh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new U(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(QU,null);null==t||t(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(w(Fe))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function e3(n,e){return Array.isArray(e)?e.reduce(e3,n):Object.assign(Object.assign({},n),e)}let fh=(()=>{class n{constructor(t,r,i,s){this._zone=t,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Le(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new Le(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{le.assertNotInAngularZone(),gC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{le.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=xg(o,a.pipe(function hX(n={}){const{connector:e=(()=>new Te),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return st((m,_)=>{c++,!d&&!u&&h();const v=l=null!=l?l:e();_.add(()=>{c--,0===c&&!d&&!u&&(a=Wb(p,i))}),v.subscribe(_),!o&&c>0&&(o=new yd({next:y=>v.next(y),error:y=>{d=!0,h(),a=Wb(f,t,y),v.error(y)},complete:()=>{u=!0,h(),a=Wb(f,r),v.complete()}}),dn(m).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new U(405,"");let i;i=t instanceof rU?t:this._injector.get(vo).resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function ose(n){return n.isBoundToModule}(i)?void 0:this._injector.get(Cs),a=i.create(Fe.NULL,[],r||i.selector,s),l=a.location.nativeElement,c=a.injector.get(yC,null),u=c&&a.injector.get(nse);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),bC(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new U(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;bC(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(GU,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(w(le),w(Fe),w(Gd),w(fC))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let n3=!0,ka=(()=>{class n{}return n.__NG_ELEMENT_ID__=pse,n})();function pse(n){return function gse(n,e,t){if(Fg(n)&&!t){const r=Rr(n.index,e);return new ah(r,r)}return 47&n.type?new ah(e[16],e):null}(tn(),S(),16==(16&n))}class l3{constructor(){}supports(e){return Yd(e)}create(e){return new bse(e)}}const Ese=(n,e)=>e;class bse{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ese}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<u3(r,i,s)?t:r,a=u3(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Yd(e))throw new U(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function xte(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[vc()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new wse(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new c3),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new c3),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class wse{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ise{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class c3{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Ise,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function u3(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function h3(){return new Bm([new l3])}let Bm=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||h3()),deps:[[n,new Ld,new ot]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new U(901,"")}}return n.\u0275prov=V({token:n,providedIn:"root",factory:h3}),n})();const Ase=ZU(null,"core",[]);let xse=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(w(fh))},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({}),n})(),Um=null;function zi(){return Um}const De=new B("DocumentToken");let Ma=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return function Pse(){return w(p3)}()},providedIn:"platform"}),n})();const Ose=new B("Location Initialized");let p3=(()=>{class n extends Ma{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zi().getBaseHref(this._doc)}onPopState(t){const r=zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=zi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){g3()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){g3()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(w(De))},n.\u0275prov=V({token:n,factory:function(){return function Nse(){return new p3(w(De))}()},providedIn:"platform"}),n})();function g3(){return!!window.history.pushState}function SC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function m3(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ss(n){return n&&"?"!==n[0]?"?"+n:n}let Bc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:function(){return function Fse(n){const e=w(De).location;return new _3(w(Ma),e&&e.origin||"")}()},providedIn:"root"}),n})();const DC=new B("appBaseHref");let _3=(()=>{class n extends Bc{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return SC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ss(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Ss(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Ss(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(w(Ma),w(DC,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),Lse=(()=>{class n extends Bc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=SC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Ss(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Ss(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(w(Ma),w(DC,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),gh=(()=>{class n{constructor(t,r){this._subject=new et,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=m3(y3(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ss(r))}normalize(t){return n.stripTrailingSlash(function Bse(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,y3(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ss(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ss(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ss,n.joinWithSlash=SC,n.stripTrailingSlash=m3,n.\u0275fac=function(t){return new(t||n)(w(Bc),w(Ma))},n.\u0275prov=V({token:n,factory:function(){return function Vse(){return new gh(w(Bc),w(Ma))}()},providedIn:"root"}),n})();function y3(n){return n.replace(/\/index.html$/,"")}class Toe{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let D3=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Toe(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),A3(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{A3(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(Zr),b(Ci),b(Bm))},n.\u0275dir=q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function A3(n,e){n.context.$implicit=e.item}let Qm=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Soe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){x3("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){x3("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(Zr),b(Ci))},n.\u0275dir=q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Soe{constructor(){this.$implicit=null,this.ngIf=null}}function x3(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ue(e)}'.`)}const k3="browser";function LC(n){return n===k3}class UC{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Jm=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),N3=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new UC(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(b(Zr),b(Ci),b(Jm,9))},n.\u0275dir=q({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),HC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({}),n})(),Sae=(()=>{class n{}return n.\u0275prov=V({token:n,providedIn:"root",factory:()=>new Dae(w(De),window)}),n})();class Dae{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Aae(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=V3(this.window.history)||V3(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function V3(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zC extends class Rae extends class Mse{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Rse(n){Um||(Um=n)}(new zC)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Mae(){return vh=vh||document.querySelector("base"),vh?vh.getAttribute("href"):null}();return null==t?null:function Pae(n){e_=e_||document.createElement("a"),e_.setAttribute("href",n);const e=e_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function woe(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let e_,vh=null;const B3=new B("TRANSITION_ID"),Nae=[{provide:dh,useFactory:function Oae(n,e,t){return()=>{t.get(fC).donePromise.then(()=>{const r=zi(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[B3,De,Fe],multi:!0}];class GC{static init(){!function ise(n){vC=n}(new GC)}addToWindow(e){We.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},We.getAllAngularTestabilities=()=>e.getAllTestabilities(),We.getAllAngularRootElements=()=>e.getAllRootElements(),We.frameworkStabilizers||(We.frameworkStabilizers=[]),We.frameworkStabilizers.push(r=>{const i=We.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?zi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Fae=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const t_=new B("EventManagerPlugins");let n_=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(w(t_),w(le))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class U3{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=zi().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let j3=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),Eh=(()=>{class n extends j3{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach($3),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach($3))}}return n.\u0275fac=function(t){return new(t||n)(w(De))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();function $3(n){zi().remove(n)}const WC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qC=/%COMP%/g;function r_(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?r_(n,i,t):(i=i.replace(qC,n),t.push(i))}return t}function G3(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let i_=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new KC(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case fi.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new $ae(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case fi.ShadowDom:return new Hae(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=r_(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(w(n_),w(Eh),w(hh))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class KC{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(WC[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=WC[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=WC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Pr.DashCase|Pr.Important)?e.style.setProperty(t,r,i&Pr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Pr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,G3(r)):this.eventManager.addEventListener(e,t,G3(r))}}class $ae extends KC{constructor(e,t,r,i){super(e),this.component=r;const s=r_(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function Bae(n){return"_ngcontent-%COMP%".replace(qC,n)}(i+"-"+r.id),this.hostAttr=function Uae(n){return"_nghost-%COMP%".replace(qC,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Hae extends KC{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=r_(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let zae=(()=>{class n extends U3{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(w(De))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const q3=["alt","control","meta","shift"],Wae={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},K3={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qae={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Kae=(()=>{class n extends U3{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(q3.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function Yae(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&K3.hasOwnProperty(e)&&(e=K3[e]))}return Wae[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),q3.forEach(s=>{s!=i&&qae[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(w(De))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const Jae=ZU(Ase,"browser",[{provide:Aa,useValue:k3},{provide:zU,useValue:function Qae(){zC.makeCurrent(),GC.init()},multi:!0},{provide:De,useFactory:function Zae(){return function $X(n){lw=n}(document),document},deps:[]}]),ele=[{provide:CI,useValue:"root"},{provide:Gd,useFactory:function Xae(){return new Gd},deps:[]},{provide:t_,useClass:zae,multi:!0,deps:[De,le,Aa]},{provide:t_,useClass:Kae,multi:!0,deps:[De]},{provide:i_,useClass:i_,deps:[n_,Eh,hh]},{provide:oh,useExisting:i_},{provide:j3,useExisting:Eh},{provide:Eh,useClass:Eh,deps:[De]},{provide:yC,useClass:yC,deps:[le]},{provide:n_,useClass:n_,deps:[t_,le]},{provide:class xae{},useClass:Fae,deps:[]}];let Y3=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:hh,useValue:t.appId},{provide:B3,useExisting:hh},Nae]}}}return n.\u0275fac=function(t){return new(t||n)(w(n,12))},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({providers:ele,imports:[HC,xse]}),n})(),Q3=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(w(De))},n.\u0275prov=V({token:n,factory:function(t){let r=null;return r=t?new t:function nle(){return new Q3(w(De))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;const{isArray:dle}=Array,{getPrototypeOf:hle,prototype:fle,keys:ple}=Object;function J3(n){if(1===n.length){const e=n[0];if(dle(e))return{args:e,keys:null};if(function gle(n){return n&&"object"==typeof n&&hle(n)===fle}(e)){const t=ple(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:mle}=Array;function QC(n){return _e(e=>function _le(n,e){return mle(e)?n(...e):n(e)}(n,e))}function ej(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let tj=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(b(Is),b(_t))},n.\u0275dir=q({type:n}),n})(),Pa=(()=>{class n extends tj{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Rn(n)))(r||n)}}(),n.\u0275dir=q({type:n,features:[Se]}),n})();const Gi=new B("NgValueAccessor"),Ele={provide:Gi,useExisting:Ze(()=>bh),multi:!0},wle=new B("CompositionEventMode");let bh=(()=>{class n extends tj{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ble(){const n=zi()?zi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(b(Is),b(_t),b(wle,8))},n.\u0275dir=q({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&at("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[mt([Ele]),Se]}),n})();const qn=new B("NgValidators"),Io=new B("NgAsyncValidators");function hj(n){return null!=n}function fj(n){const e=Zd(n)?An(n):n;return VI(e),e}function pj(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function gj(n,e){return e.map(t=>t(n))}function mj(n){return n.map(e=>function Cle(n){return!n.validate}(e)?e:t=>e.validate(t))}function XC(n){return null!=n?function _j(n){if(!n)return null;const e=n.filter(hj);return 0==e.length?null:function(t){return pj(gj(t,e))}}(mj(n)):null}function ZC(n){return null!=n?function yj(n){if(!n)return null;const e=n.filter(hj);return 0==e.length?null:function(t){return function yle(...n){const e=NF(n),{args:t,keys:r}=J3(n),i=new Le(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;dn(t[u]).subscribe(Xe(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?ej(r,a):a),s.complete())}))}});return e?i.pipe(QC(e)):i}(gj(t,e).map(fj)).pipe(_e(pj))}}(mj(n)):null}function vj(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function JC(n){return n?Array.isArray(n)?n:[n]:[]}function o_(n,e){return Array.isArray(n)?n.includes(e):n===e}function wj(n,e){const t=JC(e);return JC(n).forEach(i=>{o_(t,i)||t.push(i)}),t}function Ij(n,e){return JC(e).filter(t=>!o_(n,t))}class Cj{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=XC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Co extends Cj{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ur extends Cj{get formDirective(){return null}get path(){return null}}let eT=(()=>{class n extends class Tj{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(Co,2))},n.\u0275dir=q({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&yo("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Se]}),n})();function wh(n,e){(function rT(n,e){const t=function Ej(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(vj(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function bj(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(vj(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();u_(e._rawValidators,i),u_(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function Ple(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Dj(n,e)})}(n,e),function Nle(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ole(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Dj(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Mle(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function u_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Dj(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function oT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ih="VALID",h_="INVALID",Uc="PENDING",Ch="DISABLED";function lT(n){return(f_(n)?n.validators:n)||null}function Rj(n){return Array.isArray(n)?XC(n):n||null}function cT(n,e){return(f_(e)?e.asyncValidators:n)||null}function Mj(n){return Array.isArray(n)?ZC(n):n||null}function f_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const uT=n=>n instanceof hT;function Oj(n){return(n=>n instanceof Lj)(n)?n.value:n.getRawValue()}function Nj(n,e){const t=uT(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new U(1e3,"");if(!r[e])throw new U(1001,"")}function Fj(n,e){uT(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new U(1002,"")})}class dT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Rj(this._rawValidators),this._composedAsyncValidatorFn=Mj(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ih}get invalid(){return this.status===h_}get pending(){return this.status==Uc}get disabled(){return this.status===Ch}get enabled(){return this.status!==Ch}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Rj(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Mj(e)}addValidators(e){this.setValidators(wj(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wj(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ij(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ij(e,this._rawAsyncValidators))}hasValidator(e){return o_(this._rawValidators,e)}hasAsyncValidator(e){return o_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Uc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ch,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ih,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ih||this.status===Uc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ch:Ih}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Uc,this._hasOwnPendingAsyncValidator=!0;const t=fj(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Ble(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=uT(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof jle)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?Ch:this.errors?h_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uc)?Uc:this._anyControlsHaveStatus(h_)?h_:Ih}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){f_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Lj extends dT{constructor(e=null,t,r){super(lT(t),cT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),f_(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class hT extends dT{constructor(e,t,r){super(lT(t),cT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Fj(this,e),Object.keys(e).forEach(r=>{Nj(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Oj(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class jle extends dT{constructor(e,t,r){super(lT(t),cT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Fj(this,e),e.forEach((r,i)=>{Nj(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Oj(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const zle={provide:Co,useExisting:Ze(()=>p_)},Uj=(()=>Promise.resolve(null))();let bT,p_=(()=>{class n extends Co{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new Lj,this._registered=!1,this.update=new et,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function sT(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===bh?t=s:function Vle(n){return Object.getPrototypeOf(n.constructor)===Pa}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function iT(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wh(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Uj.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Uj.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?function l_(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(b(ur,9),b(qn,10),b(Io,10),b(Gi,10),b(ka,8))},n.\u0275dir=q({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[mt([zle]),Se,yr]}),n})(),$j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({}),n})(),mce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({imports:[[$j]]}),n})(),_ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({imports:[mce]}),n})(),o$=(()=>{class n{get nativeWindow(){return window}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),a$=(()=>{class n{constructor(t,r,i){this.element=t,this._window=r,this._zone=i,this.onlyGrow=!1,this.useImportant=!1,this.resized=new et,this.autosize=!0,this.retries=0,this._destroyed=!1,"TEXTAREA"!==this.element.nativeElement.tagName?this._findNestedTextArea():(this.textAreaEl=this.element.nativeElement,this.textAreaEl.style["overflow-y"]="hidden",this._onTextAreaFound())}set minRows(t){this._minRows=+t,this.textAreaEl&&(this.textAreaEl.rows=this._minRows)}set _autosize(t){this.autosize="boolean"!=typeof t||t}onInput(t){this.adjust()}ngOnDestroy(){this._destroyed=!0,this._windowResizeHandler&&this._window.nativeWindow.removeEventListener("resize",this._windowResizeHandler,!1)}ngAfterContentChecked(){this.adjust()}ngOnChanges(t){this.adjust(!0)}_findNestedTextArea(){this.textAreaEl=this.element.nativeElement.querySelector("TEXTAREA"),!this.textAreaEl&&this.element.nativeElement.shadowRoot&&(this.textAreaEl=this.element.nativeElement.shadowRoot.querySelector("TEXTAREA")),this.textAreaEl?(this.textAreaEl.style["overflow-y"]="hidden",this._onTextAreaFound()):this.retries>=3?console.warn("ngx-autosize: textarea not found"):(this.retries++,setTimeout(()=>{this._findNestedTextArea()},100))}_onTextAreaFound(){this._addWindowResizeHandler(),setTimeout(()=>{this.adjust()})}_addWindowResizeHandler(){this._windowResizeHandler=function vce(n,e){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{n(...r)},e)}}(()=>{this._zone.run(()=>{this.adjust()})},200),this._zone.runOutsideAngular(()=>{this._window.nativeWindow.addEventListener("resize",this._windowResizeHandler,!1)})}adjust(t=!1){if(this.autosize&&!this._destroyed&&this.textAreaEl&&this.textAreaEl.parentNode){const r=this.textAreaEl.value;if(!1===t&&r===this._oldContent&&this.textAreaEl.offsetWidth===this._oldWidth)return;this._oldContent=r,this._oldWidth=this.textAreaEl.offsetWidth;const i=this.textAreaEl.cloneNode(!0),s=this.textAreaEl.parentNode;i.style.width=this.textAreaEl.offsetWidth+"px",i.style.visibility="hidden",i.style.position="absolute",i.textContent=r,s.appendChild(i),i.style["overflow-y"]="hidden",i.style.height="auto";let o=i.scrollHeight,a=this._window.nativeWindow.getComputedStyle(i,null);o+=parseInt(a.getPropertyValue("border-top-width")),o+=parseInt(a.getPropertyValue("border-bottom-width")),"content-box"===a.getPropertyValue("box-sizing")&&(o-=parseInt(a.getPropertyValue("padding-top")),o-=parseInt(a.getPropertyValue("padding-bottom")));const l=this.textAreaEl.offsetHeight,c=o>l;if(!1===this.onlyGrow||c){const u=this._getLineHeight(),d=o/u;if(this._minRows&&this._minRows>=d)o=this._minRows*u;else if(this.maxRows&&this.maxRows<=d){const p=this.maxRows*u;o=this.onlyGrow?Math.max(p,l):p,this.textAreaEl.style["overflow-y"]="auto"}else this.textAreaEl.style["overflow-y"]="hidden";this.textAreaEl.style.setProperty("height",o+"px",this.useImportant?"important":""),this.resized.emit(o)}s.removeChild(i)}}_getLineHeight(){let t=parseInt(this.textAreaEl.style.lineHeight,10);if(isNaN(t)&&this._window.nativeWindow.getComputedStyle){const r=this._window.nativeWindow.getComputedStyle(this.textAreaEl);t=parseInt(r.lineHeight,10)}if(isNaN(t)){const r=this._window.nativeWindow.getComputedStyle(this.textAreaEl,null).getPropertyValue("font-size");t=Math.floor(1.5*parseInt(r.replace("px",""),10))}return t}}return n.\u0275fac=function(t){return new(t||n)(b(_t),b(o$),b(le))},n.\u0275dir=q({type:n,selectors:[["","autosize",""]],hostBindings:function(t,r){1&t&&at("input",function(s){return r.onInput(s.target)})},inputs:{minRows:"minRows",_autosize:["autosize","_autosize"],maxRows:"maxRows",onlyGrow:"onlyGrow",useImportant:"useImportant"},outputs:{resized:"resized"},features:[yr]}),n})(),Ece=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({providers:[o$],imports:[[]]}),n})();function l$(n){return null!=n&&"false"!=`${n}`}function ET(n,e=0){return function bce(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function g_(n){return Array.isArray(n)?n:[n]}function Kt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function jc(n){return n instanceof _t?n.nativeElement:n}try{bT="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){bT=!1}let Sh,Na,IT,Nr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?LC(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bT)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(w(Aa))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wT(n){return function wce(){if(null==Sh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Sh=!0}))}finally{Sh=Sh||!1}return Sh}()?n:!!n.capture}function Ice(){if(null==Na){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Na=!1,Na;if("scrollBehavior"in document.documentElement.style)Na=!0;else{const n=Element.prototype.scrollTo;Na=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Na}function u$(n){if(function Cce(){if(null==IT){const n="undefined"!=typeof document?document.head:null;IT=!(!n||!n.createShadowRoot&&!n.attachShadow)}return IT}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function CT(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Fa(n){return n.composedPath?n.composedPath()[0]:n.target}function TT(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const Tce=new B("cdk-dir-doc",{providedIn:"root",factory:function Sce(){return kw(De)}}),Dce=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ST=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new et,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function Ace(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Dce.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(w(Tce,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({}),n})();class ti extends Te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Q(...n){return An(n,Ed(n))}function pn(n){return n<=0?()=>ms:st((e,t)=>{let r=0;e.subscribe(Xe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Yt(n,e){return st((t,r)=>{let i=0;t.subscribe(Xe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function h$(n){return Yt((e,t)=>n<=t)}function f$(n,e=oo){return n=null!=n?n:Fce,st((t,r)=>{let i,s=!0;t.subscribe(Xe(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function Fce(n,e){return n===e}function __(n){return st((e,t)=>{dn(n).subscribe(Xe(t,()=>t.complete(),_d)),!t.closed&&e.subscribe(t)})}let m$=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Uce(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Bce(n){try{return n.frameElement}catch(e){return null}}(function Kce(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===y$(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=y$(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Wce(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function qce(n){return!function $ce(n){return function zce(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function jce(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Hce(n){return function Gce(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||_$(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(w(Nr))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _$(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function y$(n){if(!_$(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Yce{constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(pn(1)).subscribe(e)}}let Qce=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Yce(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(w(m$),w(le),w(De))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v$(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function E$(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Xce=new B("cdk-input-modality-detector-options"),Zce={ignoreKeys:[18,17,224,91,16]},Hc=wT({passive:!0,capture:!0});let Jce=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new ti(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Fa(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(v$(o)?"keyboard":"mouse"),this._mostRecentTarget=Fa(o))},this._onTouchstart=o=>{E$(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Fa(o))},this._options=Object.assign(Object.assign({},Zce),s),this.modalityDetected=this._modality.pipe(h$(1)),this.modalityChanged=this.modalityDetected.pipe(f$()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Hc),i.addEventListener("mousedown",this._onMousedown,Hc),i.addEventListener("touchstart",this._onTouchstart,Hc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Hc),document.removeEventListener("mousedown",this._onMousedown,Hc),document.removeEventListener("touchstart",this._onTouchstart,Hc))}}return n.\u0275fac=function(t){return new(t||n)(w(Nr),w(le),w(De),w(Xce,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eue=new B("liveAnnouncerElement",{providedIn:"root",factory:function tue(){return null}}),nue=new B("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let w$=(()=>{class n{constructor(t,r,i,s){this._ngZone=r,this._defaultOptions=s,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let s,o;return 1===r.length&&"number"==typeof r[0]?o=r[0]:[s,o]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),null==o&&i&&(o=i.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,r;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(r=this._currentResolve)||void 0===r||r.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(w(eue,8),w(le),w(De),w(nue,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rue=new B("cdk-focus-monitor-default-options"),y_=wT({passive:!0,capture:!0});let I$=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Te,this._rootNodeFocusAndBlurListener=a=>{const l=Fa(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,r=!1){const i=jc(t);if(!this._platform.isBrowser||1!==i.nodeType)return Q(null);const s=u$(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Te,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=jc(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=jc(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Fa(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,y_),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,y_)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(__(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,y_),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,y_),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(w(le),w(Nr),w(Jce),w(De,8),w(rue,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const C$="cdk-high-contrast-black-on-white",T$="cdk-high-contrast-white-on-black",DT="cdk-high-contrast-active";let iue=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(DT),t.remove(C$),t.remove(T$),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(DT),t.add(C$)):2===r&&(t.add(DT),t.add(T$))}}}return n.\u0275fac=function(t){return new(t||n)(w(Nr),w(De))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class S${}const As="*";function D$(n,e){return{type:7,name:n,definitions:e,options:{}}}function v_(n,e=null){return{type:4,styles:e,timings:n}}function A$(n,e=null){return{type:3,steps:n,options:e}}function x$(n,e=null){return{type:2,steps:n,options:e}}function xs(n){return{type:6,styles:n,offset:null}}function E_(n,e,t){return{type:0,name:n,styles:e,options:t}}function b_(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function k$(n=null){return{type:9,options:n}}function R$(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function M$(n){Promise.resolve(null).then(n)}class Ah{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){M$(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class P${constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?M$(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const we=!1;function O$(n){return new U(3e3,we)}function Bue(){return"undefined"!=typeof window&&void 0!==window.document}function xT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function To(n){switch(n.length){case 0:return new Ah;case 1:return n[0];default:return new P$(n)}}function N$(n,e,t,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let m=p,_=u[p];if("offset"!==p)switch(m=e.normalizePropertyName(m,o),_){case"!":_=i[p];break;case As:_=s[p];break;default:_=e.normalizeStyleValue(p,m,_,o)}f[m]=_}),h||a.push(f),c=f,l=d}),o.length)throw function Aue(n){return new U(3502,we)}();return a}function kT(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&RT(t,"start",n)));break;case"done":n.onDone(()=>r(t&&RT(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&RT(t,"destroy",n)))}}function RT(n,e,t){const r=t.totalTime,s=MT(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function MT(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Fr(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function F$(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let PT=(n,e)=>!1,L$=(n,e,t)=>[],V$=null;function OT(n){const e=n.parentNode||n.host;return e===V$?null:e}(xT()||"undefined"!=typeof Element)&&(Bue()?(V$=(()=>document.documentElement)(),PT=(n,e)=>{for(;e;){if(e===n)return!0;e=OT(e)}return!1}):PT=(n,e)=>n.contains(e),L$=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let La=null,B$=!1;function U$(n){La||(La=function jue(){return"undefined"!=typeof document?document.body:null}()||{},B$=!!La.style&&"WebkitAppearance"in La.style);let e=!0;return La.style&&!function Uue(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in La.style,!e&&B$&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in La.style)),e}const j$=PT,$$=L$;let H$=(()=>{class n{validateStyleProperty(t){return U$(t)}matchesElement(t,r){return!1}containsElement(t,r){return j$(t,r)}getParentElement(t){return OT(t)}query(t,r,i){return $$(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Ah(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),NT=(()=>{class n{}return n.NOOP=new H$,n})();const FT="ng-enter",I_="ng-leave",C_="ng-trigger",T_=".ng-trigger",G$="ng-animating",LT=".ng-animating";function Va(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:VT(parseFloat(e[1]),e[2])}function VT(n,e){return"s"===e?1e3*n:n}function S_(n,e,t){return n.hasOwnProperty("duration")?n:function zue(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(O$()),{duration:0,delay:0,easing:""};i=VT(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=VT(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function oue(){return new U(3100,we)}()),a=!0),s<0&&(e.push(function aue(){return new U(3101,we)}()),a=!0),a&&e.splice(l,0,O$())}return{duration:i,delay:s,easing:o}}(n,e,t)}function zc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function So(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else zc(n,t);return t}function q$(n,e,t){return t?e+":"+t+";":""}function K$(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=q$(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=q$(0,que(t),n.style[t]));n.setAttribute("style",e)}function Wi(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=UT(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),xT()&&K$(n))}function Ba(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=UT(t);n.style[r]=""}),xT()&&K$(n))}function xh(n){return Array.isArray(n)?1==n.length?n[0]:x$(n):n}const BT=new RegExp("{{\\s*(.+?)\\s*}}","g");function Y$(n){let e=[];if("string"==typeof n){let t;for(;t=BT.exec(n);)e.push(t[1]);BT.lastIndex=0}return e}function D_(n,e,t){const r=n.toString(),i=r.replace(BT,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(function cue(n){return new U(3003,we)}()),a=""),a.toString()});return i==r?n:i}function A_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Wue=/-+([a-z0-9])/g;function UT(n){return n.replace(Wue,(...e)=>e[1].toUpperCase())}function que(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Lr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function uue(n){return new U(3004,we)}()}}function Q$(n,e){return window.getComputedStyle(n)[e]}function Jue(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function ede(n,e,t){if(":"==n[0]){const l=function tde(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Cue(n){return new U(3016,we)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Iue(n){return new U(3015,we)}()),e;const i=r[1],s=r[2],o=r[3];e.push(X$(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(X$(o,i))}(r,t,e)):t.push(n),t}const M_=new Set(["true","1"]),P_=new Set(["false","0"]);function X$(n,e){const t=M_.has(n)||P_.has(n),r=M_.has(e)||P_.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?M_.has(n):P_.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?M_.has(e):P_.has(e)),o&&a}}const nde=new RegExp("s*:selfs*,?","g");function jT(n,e,t,r){return new rde(n).build(e,t,r)}class rde{constructor(e){this._driver=e}build(e,t,r){const i=new ode(t);this._resetContextStyleTimingState(i);const s=Lr(this,xh(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function hue(){return new U(3006,we)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function fue(){return new U(3007,we)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{if(O_(a)){const l=a;Object.keys(l).forEach(c=>{Y$(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size&&(A_(s.values()),t.errors.push(function pue(n,e){return new U(3008,we)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Lr(this,xh(e.animation),t);return{type:1,matchers:Jue(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Ua(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Lr(this,r,t)),options:Ua(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Lr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Ua(e.options)}}visitAnimate(e,t){const r=function lde(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return $T(S_(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=$T(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=S_(t,e);return $T(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:xs({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=xs(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==As?r.push(o):t.errors.push(function gue(n){return new U(3002,we)}()):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(O_(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!i)for(let c in a)if(a[c].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void t.unsupportedCSSPropertiesFound.add(a);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function mue(n,e,t,r,i){return new U(3010,we)}()),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:i}),t.options&&function Gue(n,e,t){const r=e.params||{},i=Y$(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function lue(n){return new U(3001,we)}())})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function _ue(){return new U(3011,we)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(v=>{const y=this._makeStyleAst(v,t);let C=null!=y.offset?y.offset:function ade(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(O_(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(O_(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(y.styles),x=0;return null!=C&&(s++,x=y.offset=C),l=l||x<0||x>1,a=a||x<c,c=x,o.push(x),y});l&&t.errors.push(function yue(){return new U(3012,we)}()),a&&t.errors.push(function vue(){return new U(3200,we)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function Eue(){return new U(3202,we)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,_=m.duration;return u.forEach((v,y)=>{const C=h>0?y==f?1:h*y:o[y],x=C*_;t.currentTime=p+m.delay+x,m.duration=x,this._validateStyleAst(v,t),v.offset=C,r.styles.push(v)}),r}visitReference(e,t){return{type:8,animation:Lr(this,xh(e.animation),t),options:Ua(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ua(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ua(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function ide(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(nde,"")),n=n.replace(/@\*/g,T_).replace(/@\w+/g,t=>T_+"-"+t.substr(1)).replace(/:animating/g,LT),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Fr(t.collectedStyles,t.currentQuerySelector,{});const a=Lr(this,xh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Ua(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function bue(){return new U(3013,we)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:S_(e.timings,t.errors,!0);return{type:12,animation:Lr(this,xh(e.animation),t),timings:r,options:null}}}class ode{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function O_(n){return!Array.isArray(n)&&"object"==typeof n}function Ua(n){return n?(n=zc(n)).params&&(n.params=function sde(n){return n?zc(n):null}(n.params)):n={},n}function $T(n,e,t){return{duration:n,delay:e,easing:t}}function HT(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class N_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const dde=new RegExp(":enter","g"),fde=new RegExp(":leave","g");function zT(n,e,t,r,i,s={},o={},a,l,c=[]){return(new pde).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class pde{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new N_;const d=new GT(e,t,c,i,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),Lr(this,r,d);const h=d.timelines.filter(f=>f.containsAnimation());if(Object.keys(a).length){let f;for(let p=h.length-1;p>=0;p--){const m=h[p];if(m.element===t){f=m;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[HT(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Va(r.duration):null,a=null!=r.delay?Va(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Lr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=F_);const o=Va(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Lr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Va(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Lr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return S_(t.params?D_(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Va(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=F_);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),Lr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Lr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const F_={};class GT{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=F_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new L_(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Va(r.duration)),null!=r.delay&&(i.delay=Va(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=D_(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new GT(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=F_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new gde(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(dde,"."+this._enterClassName)).replace(fde,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function wue(n){return new U(3014,we)}()),a}}class L_{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new L_(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||As,this._currentKeyframe[t]=As}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function mde(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=As})):So(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=D_(o[a],s,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:As),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=So(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==As&&t.add(u)}),r||(c.offset=l/this.duration),i.push(c)});const s=e.size?A_(e.values()):[],o=t.size?A_(t.values()):[];if(r){const a=i[0],l=zc(a);a.offset=0,l.offset=1,i=[a,l]}return HT(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class gde extends L_{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=So(e[0],!1);l.offset=0,s.push(l);const c=So(e[0],!1);c.offset=e4(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=So(e[d],!1);h.offset=e4((t+h.offset*r)/o),s.push(h)}r=o,t=0,i="",e=s}return HT(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function e4(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class WT{}class _de extends WT{normalizePropertyName(e,t){return UT(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(yde[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function due(n,e){return new U(3005,we)}())}return o+s}}const yde=(()=>function vde(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function t4(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const qT={};class n4{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Ede(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||qT,p=this.buildStyles(r,a&&a.params||qT,d),m=l&&l.params||qT,_=this.buildStyles(i,m,d),v=new Set,y=new Map,C=new Map,x="void"===i,$={params:Object.assign(Object.assign({},h),m)},W=u?[]:zT(e,t,this.ast.animation,s,o,p,_,$,c,d);let ce=0;if(W.forEach(Et=>{ce=Math.max(Et.duration+Et.delay,ce)}),d.length)return t4(t,this._triggerName,r,i,x,p,_,[],[],y,C,ce,d);W.forEach(Et=>{const Hn=Et.element,pd=Fr(y,Hn,{});Et.preStyleProps.forEach(Oi=>pd[Oi]=!0);const so=Fr(C,Hn,{});Et.postStyleProps.forEach(Oi=>so[Oi]=!0),Hn!==t&&v.add(Hn)});const pt=A_(v.values());return t4(t,this._triggerName,r,i,x,p,_,W,pt,y,C,ce)}}class bde{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=zc(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=D_(l,i,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),r[c]=l})}}),r}}class Ide{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new bde(i.style,i.options&&i.options.params||{},r)}),r4(this.states,"true","1"),r4(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new n4(e,i,this.states))}),this.fallbackTransition=function Cde(n,e,t){return new n4(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function r4(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Tde=new N_;class Sde{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=jT(this._driver,t,r,[]);if(r.length)throw function xue(n){return new U(3503,we)}();this._animations[e]=s}_buildPlayer(e,t,r){const i=e.element,s=N$(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=zT(this._driver,t,s,FT,I_,{},{},r,Tde,i),o.forEach(u=>{const d=Fr(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(i.push(function kue(){return new U(3300,we)}()),o=[]),i.length)throw function Rue(n){return new U(3504,we)}();a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,As)})});const c=To(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Mue(n){return new U(3301,we)}();return t}listen(e,t,r,i){const s=MT(t,"","","");return kT(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const i4="ng-animate-queued",KT="ng-animate-disabled",Rde=[],s4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Mde={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ni="__ng_removed";class YT{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Fde(n){return null!=n?n:null}(r?e.value:e),r){const s=zc(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const kh="void",QT=new YT(kh);class Pde{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ri(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function Pue(n,e){return new U(3302,we)}();if(null==r||0==r.length)throw function Oue(n){return new U(3303,we)}();if(!function Lde(n){return"start"==n||"done"==n}(r))throw function Nue(n,e){return new U(3400,we)}();const s=Fr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Fr(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(ri(e,C_),ri(e,C_+"-"+t),a[t]=QT),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Fue(n){return new U(3401,we)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new XT(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(ri(e,C_),ri(e,C_+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new YT(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=QT),c.value!==kh&&l.value===c.value){if(!function Ude(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const m=[],_=s.matchStyles(l.value,l.params,m),v=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Ba(e,_),Wi(e,v)})}return}const h=Fr(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(ri(e,i4),o.onStart(()=>{Gc(e,i4)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const _=this._engine.playersByElement.get(e);if(_){let v=_.indexOf(o);v>=0&&_.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,T_,!0);r.forEach(i=>{if(i[ni])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const c=this.trigger(e,l,kh,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&To(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers[o].fallbackTransition,c=r[o]||QT,u=new YT(kh),d=new XT(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[ni];(!s||s===s4)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ri(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=MT(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,kT(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Ode{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Pde(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(r[a].hostElement,t)){r.splice(a+1,0,e),o=!0;break}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(V_(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!V_(t))return;const s=t[ni];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ri(e,KT)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Gc(e,KT))}removeNode(e,t,r,i){if(V_(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[ni]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return V_(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,T_,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,LT,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return To(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[ni];if(r&&r.setForRemoval){if(e[ni]=s4,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(KT))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ri(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?To(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Lue(n){return new U(3402,we)}()}_flushAnimations(e,t){const r=new N_,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(H=>{u.add(H);const K=this.driver.query(H,".ng-animate-queued",!0);for(let ee=0;ee<K.length;ee++)u.add(K[ee])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=l4(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((H,K)=>{const ee=FT+m++;p.set(K,ee),H.forEach(Oe=>ri(Oe,ee))});const _=[],v=new Set,y=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){const K=this.collectedLeaveElements[H],ee=K[ni];ee&&ee.setForRemoval&&(_.push(K),v.add(K),ee.hasAnimation?this.driver.query(K,".ng-star-inserted",!0).forEach(Oe=>v.add(Oe)):y.add(K))}const C=new Map,x=l4(h,Array.from(v));x.forEach((H,K)=>{const ee=I_+m++;C.set(K,ee),H.forEach(Oe=>ri(Oe,ee))}),e.push(()=>{f.forEach((H,K)=>{const ee=p.get(K);H.forEach(Oe=>Gc(Oe,ee))}),x.forEach((H,K)=>{const ee=C.get(K);H.forEach(Oe=>Gc(Oe,ee))}),_.forEach(H=>{this.processLeaveNode(H)})});const $=[],W=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(t).forEach(ee=>{const Oe=ee.player,Sn=ee.element;if($.push(Oe),this.collectedEnterElements.length){const mr=Sn[ni];if(mr&&mr.setForMove){if(mr.previousTriggersValues&&mr.previousTriggersValues.has(ee.triggerName)){const Gl=mr.previousTriggersValues.get(ee.triggerName),ma=this.statesByElement.get(ee.element);ma&&ma[ee.triggerName]&&(ma[ee.triggerName].value=Gl)}return void Oe.destroy()}}const ps=!d||!this.driver.containsElement(d,Sn),Wr=C.get(Sn),ga=p.get(Sn),St=this._buildInstruction(ee,r,ga,Wr,ps);if(St.errors&&St.errors.length)return void W.push(St);if(ps)return Oe.onStart(()=>Ba(Sn,St.fromStyles)),Oe.onDestroy(()=>Wi(Sn,St.toStyles)),void i.push(Oe);if(ee.isFallbackTransition)return Oe.onStart(()=>Ba(Sn,St.fromStyles)),Oe.onDestroy(()=>Wi(Sn,St.toStyles)),void i.push(Oe);const mQ=[];St.timelines.forEach(mr=>{mr.stretchStartingKeyframe=!0,this.disabledNodes.has(mr.element)||mQ.push(mr)}),St.timelines=mQ,r.append(Sn,St.timelines),o.push({instruction:St,player:Oe,element:Sn}),St.queriedElements.forEach(mr=>Fr(a,mr,[]).push(Oe)),St.preStyleProps.forEach((mr,Gl)=>{const ma=Object.keys(mr);if(ma.length){let Wl=l.get(Gl);Wl||l.set(Gl,Wl=new Set),ma.forEach(hF=>Wl.add(hF))}}),St.postStyleProps.forEach((mr,Gl)=>{const ma=Object.keys(mr);let Wl=c.get(Gl);Wl||c.set(Gl,Wl=new Set),ma.forEach(hF=>Wl.add(hF))})});if(W.length){const H=[];W.forEach(K=>{H.push(function Vue(n,e){return new U(3505,we)}())}),$.forEach(K=>K.destroy()),this.reportError(H)}const ce=new Map,pt=new Map;o.forEach(H=>{const K=H.element;r.has(K)&&(pt.set(K,K),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,ce))}),i.forEach(H=>{const K=H.element;this._getPreviousPlayers(K,!1,H.namespaceId,H.triggerName,null).forEach(Oe=>{Fr(ce,K,[]).push(Oe),Oe.destroy()})});const Et=_.filter(H=>u4(H,l,c)),Hn=new Map;a4(Hn,this.driver,y,c,As).forEach(H=>{u4(H,l,c)&&Et.push(H)});const so=new Map;f.forEach((H,K)=>{a4(so,this.driver,new Set(H),l,"!")}),Et.forEach(H=>{const K=Hn.get(H),ee=so.get(H);Hn.set(H,Object.assign(Object.assign({},K),ee))});const Oi=[],gd=[],md={};o.forEach(H=>{const{element:K,player:ee,instruction:Oe}=H;if(r.has(K)){if(u.has(K))return ee.onDestroy(()=>Wi(K,Oe.toStyles)),ee.disabled=!0,ee.overrideTotalTime(Oe.totalTime),void i.push(ee);let Sn=md;if(pt.size>1){let Wr=K;const ga=[];for(;Wr=Wr.parentNode;){const St=pt.get(Wr);if(St){Sn=St;break}ga.push(Wr)}ga.forEach(St=>pt.set(St,Sn))}const ps=this._buildAnimation(ee.namespaceId,Oe,ce,s,so,Hn);if(ee.setRealPlayer(ps),Sn===md)Oi.push(ee);else{const Wr=this.playersByElement.get(Sn);Wr&&Wr.length&&(ee.parentPlayer=To(Wr)),i.push(ee)}}else Ba(K,Oe.fromStyles),ee.onDestroy(()=>Wi(K,Oe.toStyles)),gd.push(ee),u.has(K)&&i.push(ee)}),gd.forEach(H=>{const K=s.get(H.element);if(K&&K.length){const ee=To(K);H.setRealPlayer(ee)}}),i.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<_.length;H++){const K=_[H],ee=K[ni];if(Gc(K,I_),ee&&ee.hasAnimation)continue;let Oe=[];if(a.size){let ps=a.get(K);ps&&ps.length&&Oe.push(...ps);let Wr=this.driver.query(K,LT,!0);for(let ga=0;ga<Wr.length;ga++){let St=a.get(Wr[ga]);St&&St.length&&Oe.push(...St)}}const Sn=Oe.filter(ps=>!ps.destroyed);Sn.length?Vde(this,K,Sn):this.processLeaveNode(K)}return _.length=0,Oi.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();const K=this.players.indexOf(H);this.players.splice(K,1)}),H.play()}),Oi}elementContainsData(e,t){let r=!1;const i=t[ni];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==kh;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=Fr(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Ba(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const _=m[ni];if(_&&_.removedBeforeQueried)return new Ah(p.duration,p.delay);const v=m!==l,y=function Bde(n){const e=[];return c4(n,e),e}((r.get(m)||Rde).map(ce=>ce.getRealPlayer())).filter(ce=>!!ce.element&&ce.element===m),C=s.get(m),x=o.get(m),$=N$(0,this._normalizer,0,p.keyframes,C,x),W=this._buildPlayer(p,$,y);if(p.subTimeline&&i&&d.add(m),v){const ce=new XT(e,a,m);ce.setRealPlayer(W),c.push(ce)}return W});c.forEach(p=>{Fr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Nde(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>ri(p,G$));const f=To(h);return f.onDestroy(()=>{u.forEach(p=>Gc(p,G$)),Wi(l,t.toStyles)}),d.forEach(p=>{Fr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ah(e.duration,e.delay)}}class XT{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ah,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>kT(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Fr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function V_(n){return n&&1===n.nodeType}function o4(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function a4(n,e,t,r,i){const s=[];t.forEach(l=>s.push(o4(l)));const o=[];r.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,i);(!h||0==h.length)&&(c[ni]=Mde,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>o4(l,s[a++])),o}function l4(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function ri(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Gc(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Vde(n,e,t){To(t).onDone(()=>n.processLeaveNode(e))}function c4(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof P$?c4(r.players,e):e.push(r)}}function u4(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class B_{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Ode(e,t,r),this._timelineEngine=new Sde(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=jT(this._driver,s,l,[]);if(l.length)throw function Due(n,e){return new U(3404,we)}();a=function wde(n,e,t){return new Ide(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=F$(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=F$(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let $de=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Wi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wi(this._element,this._initialStyles),this._endStyles&&(Wi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ba(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ba(this._element,this._endStyles),this._endStyles=null),Wi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ZT(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];Hde(i)&&(e=e||{},e[i]=n[i])}return e}function Hde(n){return"display"===n||"position"===n}class d4{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Q$(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class zde{validateStyleProperty(e){return U$(e)}matchesElement(e,t){return!1}containsElement(e,t){return j$(e,t)}getParentElement(e){return OT(e)}query(e,t,r){return $$(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c={},u=o.filter(h=>h instanceof d4);(function Kue(n,e){return 0===n||0===e})(r,i)&&u.forEach(h=>{let f=h.currentSnapshot;Object.keys(f).forEach(p=>c[p]=f[p])}),t=function Yue(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(l){a[l]=Q$(n,l)})}}return e}(e,t=t.map(h=>So(h,!1)),c);const d=function jde(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=ZT(e[0]),e.length>1&&(r=ZT(e[e.length-1]))):e&&(t=ZT(e)),t||r?new $de(n,t,r):null}(e,t);return new d4(e,t,l,d)}}let Gde=(()=>{class n extends S${constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:fi.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?x$(t):t;return h4(this._renderer,null,r,"register",[i]),new Wde(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(w(oh),w(De))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class Wde extends class sue{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new qde(this._id,e,t||{},this._renderer)}}class qde{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return h4(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function h4(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const f4="@.disabled";let Kde=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new p4("",s,this.engine),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new Yde(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(w(oh),w(B_),w(le))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class p4{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==f4?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Yde extends p4{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==f4?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Qde(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Xde(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Zde=(()=>{class n extends B_{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(w(De),w(NT),w(WT))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const Wc=new B("AnimationModuleType"),g4=[{provide:S$,useClass:Gde},{provide:WT,useFactory:function Jde(){return new _de}},{provide:B_,useClass:Zde},{provide:oh,useFactory:function ehe(n,e,t){return new Kde(n,e,t)},deps:[i_,B_,le]}],m4=[{provide:NT,useFactory:()=>new zde},{provide:Wc,useValue:"BrowserAnimations"},...g4],the=[{provide:NT,useClass:H$},{provide:Wc,useValue:"NoopAnimations"},...g4];let nhe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?the:m4}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({providers:m4,imports:[Y3]}),n})();const ihe=new B("mat-sanity-checks",{providedIn:"root",factory:function rhe(){return!0}});let qi=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!TT()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(w(iue),w(ihe,8),w(De))},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({imports:[[Dh],Dh]}),n})();function she(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=l$(e)}}}function y4(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function ohe(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=l$(e)}}}class lhe{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const v4={enterDuration:225,exitDuration:150},JT=wT({passive:!0}),E4=["mousedown","touchstart"],b4=["mouseup","mouseleave","touchend","touchcancel"];class uhe{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=jc(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},v4),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function hhe(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function dhe(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new lhe(this,u,r);return d.state=0,this._activeRipples.add(d),r.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!r.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},v4),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=jc(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(E4))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(b4),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=v$(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!E$(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,JT)})})}_removeTriggerEvents(){this._triggerElement&&(E4.forEach(e=>{this._triggerElement.removeEventListener(e,this,JT)}),this._pointerUpEventsRegistered&&b4.forEach(e=>{this._triggerElement.removeEventListener(e,this,JT)}))}}const fhe=new B("mat-ripple-global-options");let w4=(()=>{class n{constructor(t,r,i,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new uhe(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(b(_t),b(le),b(Nr),b(fhe,8),b(Wc,8))},n.\u0275dir=q({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&yo("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),phe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({imports:[[qi],qi]}),n})();const ghe=["addListener","removeListener"],mhe=["addEventListener","removeEventListener"],_he=["on","off"];function Mh(n,e,t,r){if(re(t)&&(r=t,t=void 0),r)return Mh(n,e,t).pipe(QC(r));const[i,s]=function Ehe(n){return re(n.addEventListener)&&re(n.removeEventListener)}(n)?mhe.map(o=>a=>n[o](e,a,t)):function yhe(n){return re(n.addListener)&&re(n.removeListener)}(n)?ghe.map(I4(n,e)):function vhe(n){return re(n.on)&&re(n.off)}(n)?_he.map(I4(n,e)):[];if(!i&&zb(n))return Nt(o=>Mh(o,e,t))(dn(n));if(!i)throw new TypeError("Invalid event target");return new Le(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function I4(n,e){return t=>r=>n[t](e,r)}class bhe extends Dn{constructor(e,t){super()}schedule(e,t=0){return this}}const j_={setInterval(n,e,...t){const{delegate:r}=j_;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=j_;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class $_ extends bhe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return j_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&j_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ql(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Ph={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Ph;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new Dn(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Ph;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Ph;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},C4={now:()=>(C4.delegate||Date).now(),delegate:void 0};class Oh{constructor(e,t=Oh.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Oh.now=C4.now;class H_ extends Oh{constructor(e,t=Oh.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}new class Ihe extends H_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class whe extends $_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ph.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Ph.cancelAnimationFrame(t),e._scheduled=void 0)}});let e0,The=1;const z_={};function T4(n){return n in z_&&(delete z_[n],!0)}const She={setImmediate(n){const e=The++;return z_[e]=!0,e0||(e0=Promise.resolve()),e0.then(()=>T4(e)&&n()),e},clearImmediate(n){T4(n)}},{setImmediate:Dhe,clearImmediate:Ahe}=She,G_={setImmediate(...n){const{delegate:e}=G_;return((null==e?void 0:e.setImmediate)||Dhe)(...n)},clearImmediate(n){const{delegate:e}=G_;return((null==e?void 0:e.clearImmediate)||Ahe)(n)},delegate:void 0},Nh=(new class khe extends H_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class xhe extends $_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=G_.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(G_.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),new H_($_)),Mhe=Nh;function S4(n=0,e,t=Mhe){let r=-1;return null!=e&&(OF(e)?t=e:r=e),new Le(i=>{let s=function Ohe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function D4(n,e=Nh){return function Phe(n){return st((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(Xe(t,c=>{r=!0,i=c,s||dn(n(c)).subscribe(s=Xe(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>S4(n,e))}let Fhe=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Te,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Le(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(D4(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Q()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Yt(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=jc(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Mh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(w(le),w(Nr),w(De,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t0=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Te,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(D4(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(w(Nr),w(le),w(De,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({}),n})(),x4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({imports:[[Dh,A4],Dh,A4]}),n})();function Vhe(n,e){if(1&n&&($g(),sn(0,"circle",4)),2&n){const t=bi(),r=Xd(1);Rc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),fn("r",t._getCircleRadius())}}function Bhe(n,e){if(1&n&&($g(),sn(0,"circle",4)),2&n){const t=bi(),r=Xd(1);Rc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),fn("r",t._getCircleRadius())}}const jhe=y4(class{constructor(n){this._elementRef=n}},"primary"),$he=new B("mat-progress-spinner-default-options",{providedIn:"root",factory:function Hhe(){return{diameter:100}}});class Ki extends jhe{constructor(e,t,r,i,s,o,a,l){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=Dn.EMPTY,this.mode="determinate";const c=Ki._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),c.has(r.head)||c.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!s&&!s._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),t.isBrowser&&t.SAFARI&&a&&o&&l&&(this._resizeSubscription=a.change(150).subscribe(()=>{"indeterminate"===this.mode&&l.run(()=>o.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=ET(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=ET(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,ET(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=u$(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var t;const r=50*(null!==(t=e.currentScale)&&void 0!==t?t:1);return`${r}% ${r}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=Ki._diameters;let i=r.get(e);if(!i||!i.has(t)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),e.appendChild(s),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Ki._diameters=new WeakMap,Ki.\u0275fac=function(e){return new(e||Ki)(b(_t),b(Nr),b(De,8),b(Wc,8),b($he),b(ka),b(t0),b(le))},Ki.\u0275cmp=rr({type:Ki,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(fn("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),Rc("width",t.diameter,"px")("height",t.diameter,"px"),yo("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[Se],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&($g(),ke(0,"svg",0,1),Ei(2,Vhe,1,11,"circle",2),Ei(3,Bhe,1,9,"circle",3),Re()),2&e&&(Rc("width",t.diameter,"px")("height",t.diameter,"px"),rn("ngSwitch","indeterminate"===t.mode),fn("viewBox",t._getViewBox()),xt(2),rn("ngSwitchCase",!0),xt(1),rn("ngSwitchCase",!1))},directives:[Jm,N3],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Ghe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({imports:[[qi,HC],qi]}),n})();class r0{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Fh extends r0{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class s0 extends r0{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Whe extends r0{constructor(e){super(),this.element=e instanceof _t?e.nativeElement:e}}class W_{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Fh?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof s0?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Whe?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qhe extends W_{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Fe.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let q_=(()=>{class n extends W_{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new et,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(b(vo),b(Zr),b(De))},n.\u0275dir=q({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Se]}),n})(),o0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({}),n})();const k4=Ice();class Khe{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Kt(-this._previousScrollPosition.left),e.style.top=Kt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),k4&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),k4&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Yhe{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class R4{enable(){}disable(){}attach(){}}function a0(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function M4(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Qhe{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();a0(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Xhe=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new R4,this.close=o=>new Yhe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Khe(this._viewportRuler,this._document),this.reposition=o=>new Qhe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(w(Fhe),w(t0),w(le),w(De))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class l0{constructor(e){if(this.scrollStrategy=new R4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Zhe{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class Jhe{constructor(e,t,r,i,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Te,this._attachments=new Te,this._detachments=new Te,this._locationChanges=Dn.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new Te,this._outsidePointerEvents=new Te,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(pn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Kt(this._config.width),e.height=Kt(this._config.height),e.minWidth=Kt(this._config.minWidth),e.minHeight=Kt(this._config.minHeight),e.maxWidth=Kt(this._config.maxWidth),e.maxHeight=Kt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=g_(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(__(xg(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let c0=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||TT()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),TT()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(w(De),w(Nr))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const P4="cdk-overlay-connected-position-bounding-box",efe=/([A-Za-z%]+)$/;class tfe{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Te,this._resizeSubscription=Dn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(P4),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ja(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(P4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=N4(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),m=this._subtractOverflows(s.height,h,f),_=p*m;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=O4(this._overlayRef.getConfig().minHeight),a=O4(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=N4(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Zhe(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Kt(r.height),i.top=Kt(r.top),i.bottom=Kt(r.bottom),i.width=Kt(r.width),i.left=Kt(r.left),i.right=Kt(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=Kt(s)),o&&(i.maxWidth=Kt(o))}this._lastBoundingBoxSize=r,ja(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ja(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ja(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();ja(r,this._getExactOverlayY(t,e,u)),ja(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=Kt(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=Kt(o.maxWidth):s&&(r.maxWidth="")),ja(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=Kt(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=Kt(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:M4(e,r),isOriginOutsideView:a0(e,r),isOverlayClipped:M4(t,r),isOverlayOutsideView:a0(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&g_(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof _t)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function ja(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function O4(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(efe);return t&&"px"!==t?null:parseFloat(e)}return n||null}function N4(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const F4="cdk-global-overlay-wrapper";class nfe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(F4),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(F4),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let rfe=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new nfe}flexibleConnectedTo(t){return new tfe(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(w(t0),w(De),w(Nr),w(c0))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L4=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(w(De))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ife=(()=>{class n extends L4{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(w(De),w(le,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sfe=(()=>{class n extends L4{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Fa(s)},this._clickListener=s=>{const o=Fa(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(w(De),w(Nr),w(le,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ofe=0,qc=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new l0(t);return o.direction=o.direction||this._directionality.value,new Jhe(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+ofe++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(fh)),new qhe(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(w(Xhe),w(c0),w(vo),w(rfe),w(ife),w(Fe),w(le),w(De),w(ST),w(gh),w(sfe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const cfe={provide:new B("cdk-connected-overlay-scroll-strategy"),deps:[qc],useFactory:function lfe(n){return()=>n.scrollStrategies.reposition()}};let V4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({providers:[qc,cfe],imports:[[Dh,o0,x4],x4]}),n})();const ufe=["mat-button",""],dfe=["*"],ffe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],pfe=y4(she(ohe(class{constructor(n){this._elementRef=n}})));let B4=(()=>{class n extends pfe{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of ffe)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(b(_t),b(I$),b(Wc,8))},n.\u0275cmp=rr({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&Pm(w4,5),2&t){let i;Fc(i=Lc())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(fn("disabled",r.disabled||null),yo("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Se],attrs:ufe,ngContentSelectors:dfe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(function zV(n){const e=S()[16][6];if(!e.projection){const r=e.projection=Pd(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?ene(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),ke(0,"span",0),function GV(n,e=0,t){const r=S(),i=xe(),s=pc(i,20+n,16,null,t||null);null===s.projection&&(s.projection=e),pw(),64!=(64&s.flags)&&function mJ(n,e,t){s2(e[11],0,e,t,YL(n,t,e),JL(t.parent||e[6],t,e))}(i,r,s)}(1),Re(),sn(2,"span",1),sn(3,"span",2)),2&t&&(xt(2),yo("mat-button-ripple-round",r.isRoundButton||r.isIconButton),rn("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[w4],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),U4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({imports:[[phe,qi],qi]}),n})();function j4(...n){const e=Ed(n),t=NF(n),{args:r,keys:i}=J3(n);if(0===r.length)return An([],e);const s=new Le(function gfe(n,e,t=oo){return r=>{$4(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)$4(e,()=>{const c=An(n[l],e);let u=!1;c.subscribe(Xe(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>ej(i,o):oo));return t?s.pipe(QC(t)):s}function $4(n,e,t){n?gs(t,n,e):e()}function Kc(...n){return function mfe(){return vd(1)}()(An(n,Ed(n)))}function K_(...n){const e=Ed(n);return st((t,r)=>{(e?Kc(n,t,e):Kc(n,t)).subscribe(r)})}const H4=new Set;let Yc,yfe=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Efe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function vfe(n){if(!H4.has(n))try{Yc||(Yc=document.createElement("style"),Yc.setAttribute("type","text/css"),document.head.appendChild(Yc)),Yc.sheet&&(Yc.sheet.insertRule(`@media ${n} {body{ }}`,0),H4.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(w(Nr))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Efe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let z4=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Te}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return G4(g_(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=j4(G4(g_(t)).map(o=>this._registerQuery(o).observable));return s=Kc(s.pipe(pn(1)),s.pipe(h$(1),function _fe(n,e=Nh){return st((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(Xe(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(_e(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Le(o=>{const a=l=>this._zone.run(()=>o.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(K_(r),_e(({matches:o})=>({query:t,matches:o})),__(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(w(yfe),w(le))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function G4(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function wfe(n,e){if(1&n){const t=bm();ke(0,"div",2),ke(1,"button",3),at("click",function(){return tc(t),bi().action()}),vr(2),Re(),Re()}if(2&n){const t=bi();xt(2),eh(t.data.action)}}function Ife(n,e){}const W4=new B("MatSnackBarData");class Y_{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Cfe=Math.pow(2,31)-1;class u0{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Te,this._afterOpened=new Te,this._onAction=new Te,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Cfe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Tfe=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(b(u0),b(W4))},n.\u0275cmp=rr({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(ke(0,"span",0),vr(1),Re(),Ei(2,wfe,3,1,"div",1)),2&t&&(xt(1),eh(r.data.message),xt(1),rn("ngIf",r.hasAction))},directives:[Qm,B4],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const Sfe={snackBarState:D$("state",[E_("void, hidden",xs({transform:"scale(0.8)",opacity:0})),E_("visible",xs({transform:"scale(1)",opacity:1})),b_("* => visible",v_("150ms cubic-bezier(0, 0, 0.2, 1)")),b_("* => void, * => hidden",v_("75ms cubic-bezier(0.4, 0.0, 1, 1)",xs({opacity:0})))])};let Dfe=(()=>{class n extends W_{constructor(t,r,i,s,o){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=s,this.snackBarConfig=o,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Te,this._onExit=new Te,this._onEnter=new Te,this._animationState="void",this.attachDomPortal=a=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(a)),this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(pn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),null==i||i.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(b(le),b(_t),b(ka),b(Nr),b(Y_))},n.\u0275cmp=rr({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&Pm(q_,7),2&t){let i;Fc(i=Lc())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&wm("@state.done",function(s){return r.onAnimationEnd(s)}),2&t&&Tm("@state",r._animationState)},features:[Se],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(ke(0,"div",0),Ei(1,Ife,0,0,"ng-template",1),Re(),sn(2,"div")),2&t&&(xt(2),fn("aria-live",r._live)("role",r._role))},directives:[q_],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[Sfe.snackBarState]}}),n})(),q4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({imports:[[V4,o0,HC,U4,qi],qi]}),n})();const K4=new B("mat-snack-bar-default-options",{providedIn:"root",factory:function Afe(){return new Y_}});let xfe=(()=>{class n{constructor(t,r,i,s,o,a){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const s=Object.assign(Object.assign({},this._defaultConfig),i);return s.data={message:t,action:r},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const s=Fe.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:Y_,useValue:r}]}),o=new Fh(this.snackBarContainerComponent,r.viewContainerRef,s),a=t.attach(o);return a.instance.snackBarConfig=r,a.instance}_attach(t,r){const i=Object.assign(Object.assign(Object.assign({},new Y_),this._defaultConfig),r),s=this._createOverlay(i),o=this._attachSnackBarContainer(s,i),a=new u0(o,s);if(t instanceof Ci){const l=new s0(t,null,{$implicit:i.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(i,a),c=new Fh(t,void 0,l),u=o.attachComponentPortal(c);a.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(__(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),i.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(a,i),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new l0;r.direction=t.direction;let i=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,a=!o&&"center"!==t.horizontalPosition;return o?i.left("0"):a?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return Fe.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:u0,useValue:r},{provide:W4,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(w(qc),w(w$),w(Fe),w(z4),w(n,12),w(K4))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),Y4=(()=>{class n extends xfe{constructor(t,r,i,s,o,a){super(t,r,i,s,o,a),this.simpleSnackBarComponent=Tfe,this.snackBarContainerComponent=Dfe,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(w(qc),w(w$),w(Fe),w(z4),w(n,12),w(K4))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:q4}),n})();function Lh(n){return new Le(e=>{dn(n()).subscribe(e)})}function kfe(n,e){}class d0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Rfe={dialogContainer:D$("dialogContainer",[E_("void, exit",xs({opacity:0,transform:"scale(0.7)"})),E_("enter",xs({transform:"none"})),b_("* => enter",A$([v_("150ms cubic-bezier(0, 0, 0.2, 1)",xs({transform:"none",opacity:1})),R$("@*",k$(),{optional:!0})])),b_("* => void, * => exit",A$([v_("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",xs({opacity:0})),R$("@*",k$(),{optional:!0})]))])};let Mfe=(()=>{class n extends W_{constructor(t,r,i,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new et,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=CT())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=CT(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=CT();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(b(_t),b(Qce),b(ka),b(De,8),b(d0),b(m$),b(le),b(I$))},n.\u0275dir=q({type:n,viewQuery:function(t,r){if(1&t&&Pm(q_,7),2&t){let i;Fc(i=Lc())&&(r._portalOutlet=i.first)}},features:[Se]}),n})(),Pfe=(()=>{class n extends Mfe{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=Rn(n)))(r||n)}}(),n.\u0275cmp=rr({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&wm("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&t&&(Cm("id",r._id),fn("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Tm("@dialogContainer",r._state))},features:[Se],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&Ei(0,kfe,0,0,"ng-template",0)},directives:[q_],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Rfe.dialogContainer]}}),n})(),Ofe=0;class h0{constructor(e,t,r="mat-dialog-"+Ofe++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Te,this._afterClosed=new Te,this._beforeClosed=new Te,this._state=0,t._id=r,t._animationStateChanged.pipe(Yt(i=>"opened"===i.state),pn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Yt(i=>"closed"===i.state),pn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Yt(i=>27===i.keyCode&&!this.disableClose&&!function Nce(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),f0(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():f0(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Yt(t=>"closing"===t.state),pn(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function f0(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const Nfe=new B("MatDialogData"),Ffe=new B("mat-dialog-default-options"),Q4=new B("mat-dialog-scroll-strategy"),Vfe={provide:Q4,deps:[qc],useFactory:function Lfe(n){return()=>n.scrollStrategies.block()}};let Bfe=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Te,this._afterOpenedAtThisLevel=new Te,this._ariaHiddenElements=new Map,this.afterAllClosed=Lh(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(K_(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){r=function Ufe(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new d0),r.id&&this.getDialogById(r.id);const i=this._createOverlay(r),s=this._attachDialogContainer(i,r),o=this._attachDialogContent(t,s,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new l0({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const s=Fe.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:d0,useValue:r}]}),o=new Fh(this._dialogContainerType,r.viewContainerRef,s,r.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,r,i,s){const o=new this._dialogRefConstructor(i,r,s.id);if(t instanceof Ci)r.attachTemplatePortal(new s0(t,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,r),l=r.attachComponentPortal(new Fh(t,s.viewContainerRef,a,s.componentFactoryResolver));o.componentInstance=l.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(t,r,i){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!s||!s.get(ST,null,te.Optional))&&o.push({provide:ST,useValue:{value:t.direction,change:Q()}}),Fe.create({parent:s||this._injector,providers:o})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){Em()},n.\u0275dir=q({type:n}),n})(),Q_=(()=>{class n extends Bfe{constructor(t,r,i,s,o,a,l,c){super(t,r,s,a,l,o,h0,Pfe,Nfe,c)}}return n.\u0275fac=function(t){return new(t||n)(w(qc),w(Fe),w(gh,8),w(Ffe,8),w(Q4),w(n,12),w(c0),w(Wc,8))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),jfe=0,$fe=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=X4(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){f0(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(b(h0,8),b(_t),b(Q_))},n.\u0275dir=q({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&at("click",function(s){return r._onButtonClick(s)}),2&t&&fn("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[yr]}),n})(),Hfe=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+jfe++}ngOnInit(){this._dialogRef||(this._dialogRef=X4(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(b(h0,8),b(_t),b(Q_))},n.\u0275dir=q({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&Cm("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),zfe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=q({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function X4(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let Gfe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({providers:[Q_,Vfe],imports:[[V4,o0,qi],qi]}),n})();function Vh(n,e){const t=re(n)?n:()=>n,r=i=>i.error(t());return new Le(e?i=>e.schedule(r,0,i):r)}const X_=un(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Z4(){return st((n,e)=>{let t=null;n._refCount++;const r=Xe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class J4 extends Le{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,EF(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Dn;const t=this.getSubject();e.add(this.source.subscribe(Xe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Dn.EMPTY)}return e}refCount(){return Z4()(this)}}function Vr(n,e){return st((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Xe(r,l=>{null==i||i.unsubscribe();let c=0;const u=s++;dn(n(l,u)).subscribe(i=Xe(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Wfe(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Xe(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function eH(n,e){return st(Wfe(n,e,arguments.length>=2,!0))}function Do(n){return st((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Xe(t,void 0,void 0,o=>{s=dn(n(o,Do(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Bh(n,e){return re(e)?Nt(n,e,1):Nt(n,1)}function p0(n){return n<=0?()=>ms:st((e,t)=>{let r=[];e.subscribe(Xe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function tH(n=qfe){return st((e,t)=>{let r=!1;e.subscribe(Xe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function qfe(){return new X_}function nH(n){return st((e,t)=>{let r=!1;e.subscribe(Xe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Qc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Yt((i,s)=>n(i,s,r)):oo,pn(1),t?nH(e):tH(()=>new X_))}function dr(n,e,t){const r=re(n)||e||t?{next:n,error:e,complete:t}:n;return r?st((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Xe(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):oo}class ks{constructor(e,t){this.id=e,this.url=t}}class g0 extends ks{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Uh extends ks{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rH extends ks{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qfe extends ks{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xfe extends ks{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zfe extends ks{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jfe extends ks{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class epe extends ks{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tpe extends ks{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iH{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sH{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class npe{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rpe{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ipe{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oH{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aH{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ve="primary";class spe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xc(n){return new spe(n)}const lH="ngNavigationCancelingError";function m0(n){const e=Error("NavigationCancelingError: "+n);return e[lH]=!0,e}function ape(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Yi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!cH(n[i],e[i]))return!1;return!0}function cH(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function uH(n){return Array.prototype.concat.apply([],n)}function dH(n){return n.length>0?n[n.length-1]:null}function Mn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Qi(n){return VI(n)?n:Zd(n)?An(Promise.resolve(n)):Q(n)}const upe={exact:function pH(n,e,t){if(!Ha(n.segments,e.segments)||!Z_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!pH(n.children[r],e.children[r],t))return!1;return!0},subset:gH},hH={exact:function dpe(n,e){return Yi(n,e)},subset:function hpe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>cH(n[t],e[t]))},ignored:()=>!0};function fH(n,e,t){return upe[t.paths](n.root,e.root,t.matrixParams)&&hH[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function gH(n,e,t){return mH(n,e,e.segments,t)}function mH(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ha(i,t)||e.hasChildren()||!Z_(i,t,r))}if(n.segments.length===t.length){if(!Ha(n.segments,t)||!Z_(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!gH(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ha(n.segments,i)&&Z_(n.segments,i,r)&&n.children[ve])&&mH(n.children[ve],e,s,r)}}function Z_(n,e,t){return e.every((r,i)=>hH[t](n[i].parameters,r.parameters))}class $a{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap}toString(){return gpe.serialize(this)}}class Ie{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Mn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return J_(this)}}class jh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xc(this.parameters)),this._parameterMap}toString(){return bH(this)}}function Ha(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class _H{}class yH{parse(e){const t=new Cpe(e);return new $a(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${$h(e.root,!0)}`,r=function ype(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ey(t)}=${ey(i)}`).join("&"):`${ey(t)}=${ey(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function mpe(n){return encodeURI(n)}(e.fragment)}`:""}`}}const gpe=new yH;function J_(n){return n.segments.map(e=>bH(e)).join("/")}function $h(n,e){if(!n.hasChildren())return J_(n);if(e){const t=n.children[ve]?$h(n.children[ve],!1):"",r=[];return Mn(n.children,(i,s)=>{s!==ve&&r.push(`${s}:${$h(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ppe(n,e){let t=[];return Mn(n.children,(r,i)=>{i===ve&&(t=t.concat(e(r,i)))}),Mn(n.children,(r,i)=>{i!==ve&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ve?[$h(n.children[ve],!1)]:[`${i}:${$h(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ve]?`${J_(n)}/${t[0]}`:`${J_(n)}/(${t.join("//")})`}}function vH(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ey(n){return vH(n).replace(/%3B/gi,";")}function _0(n){return vH(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ty(n){return decodeURIComponent(n)}function EH(n){return ty(n.replace(/\+/g,"%20"))}function bH(n){return`${_0(n.path)}${function _pe(n){return Object.keys(n).map(e=>`;${_0(e)}=${_0(n[e])}`).join("")}(n.parameters)}`}const vpe=/^[^\/()?;=#]+/;function ny(n){const e=n.match(vpe);return e?e[0]:""}const Epe=/^[^=?&#]+/,wpe=/^[^&#]+/;class Cpe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ve]=new Ie(e,t)),r}parseSegment(){const e=ny(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new jh(ty(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ny(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=ny(this.remaining);i&&(r=i,this.capture(r))}e[ty(t)]=ty(r)}parseQueryParam(e){const t=function bpe(n){const e=n.match(Epe);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Ipe(n){const e=n.match(wpe);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=EH(t),s=EH(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ny(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ve);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ve]:new Ie([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class wH{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=y0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=y0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=v0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return v0(e,this._root).map(t=>t.value)}}function y0(n,e){if(n===e.value)return e;for(const t of e.children){const r=y0(n,t);if(r)return r}return null}function v0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=v0(n,t);if(r.length)return r.unshift(e),r}return[]}class Rs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class IH extends wH{constructor(e,t){super(e),this.snapshot=t,E0(this,e)}toString(){return this.snapshot.toString()}}function CH(n,e){const t=function Tpe(n,e){const o=new ry([],{},{},"",{},ve,e,null,n.root,-1,{});return new SH("",new Rs(o,[]))}(n,e),r=new ti([new jh("",{})]),i=new ti({}),s=new ti({}),o=new ti({}),a=new ti(""),l=new Jc(r,i,o,a,s,ve,e,t.root);return l.snapshot=t.root,new IH(new Rs(l,[]),t)}class Jc{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>Xc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>Xc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TH(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Spe(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ry{constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SH extends wH{constructor(e,t){super(t),this.url=e,E0(this,t)}toString(){return DH(this._root)}}function E0(n,e){e.value._routerState=n,e.children.forEach(t=>E0(n,t))}function DH(n){const e=n.children.length>0?` { ${n.children.map(DH).join(", ")} } `:"";return`${n.value}${e}`}function b0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Yi(e.params,t.params)||n.params.next(t.params),function lpe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Yi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function w0(n,e){const t=Yi(n.params,e.params)&&function fpe(n,e){return Ha(n,e)&&n.every((t,r)=>Yi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||w0(n.parent,e.parent))}function Hh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Ape(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Hh(n,r,i);return Hh(n,r)})}(n,e,t);return new Rs(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Hh(n,a)),o}}const r=function xpe(n){return new Jc(new ti(n.url),new ti(n.params),new ti(n.queryParams),new ti(n.fragment),new ti(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Hh(n,s));return new Rs(r,i)}}function iy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zh(n){return"object"==typeof n&&null!=n&&n.outlets}function I0(n,e,t,r,i){let s={};if(r&&Mn(r,(a,l)=>{s[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===e)return new $a(t,s,i);const o=AH(n,e,t);return new $a(o,s,i)}function AH(n,e,t){const r={};return Mn(n.children,(i,s)=>{r[s]=i===e?t:AH(i,e,t)}),new Ie(n.segments,r)}class xH{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&iy(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(zh);if(i&&i!==dH(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class C0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function kH(n,e,t){if(n||(n=new Ie([],{})),0===n.segments.length&&n.hasChildren())return sy(n,e,t);const r=function Npe(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(zh(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!MH(l,c,o))return s;r+=2}else{if(!MH(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ie(n.segments.slice(0,r.pathIndex),{});return s.children[ve]=new Ie(n.segments.slice(r.pathIndex),n.children),sy(s,0,i)}return r.match&&0===i.length?new Ie(n.segments,{}):r.match&&!n.hasChildren()?T0(n,e,t):r.match?sy(n,0,i):T0(n,e,t)}function sy(n,e,t){if(0===t.length)return new Ie(n.segments,{});{const r=function Ope(n){return zh(n[0])?n[0].outlets:{[ve]:n}}(t),i={};return Mn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=kH(n.children[o],e,s))}),Mn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Ie(n.segments,i)}}function T0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(zh(s)){const l=Fpe(s.outlets);return new Ie(r,l)}if(0===i&&iy(t[0])){r.push(new jh(n.segments[e].path,RH(t[0]))),i++;continue}const o=zh(s)?s.outlets[ve]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&iy(a)?(r.push(new jh(o,RH(a))),i+=2):(r.push(new jh(o,{})),i++)}return new Ie(r,{})}function Fpe(n){const e={};return Mn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=T0(new Ie([],{}),0,t))}),e}function RH(n){const e={};return Mn(n,(t,r)=>e[r]=`${t}`),e}function MH(n,e,t){return n==t.path&&Yi(e,t.parameters)}class Vpe{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),b0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Zc(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Mn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Zc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Zc(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Zc(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new oH(s.value.snapshot))}),e.children.length&&this.forwardEvent(new rpe(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(b0(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),b0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function Bpe(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class S0{constructor(e,t){this.routes=e,this.module=t}}function Ao(n){return"function"==typeof n}function za(n){return n instanceof $a}const Gh=Symbol("INITIAL_VALUE");function Wh(){return Vr(n=>j4(n.map(e=>e.pipe(pn(1),K_(Gh)))).pipe(eH((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==Gh?i:(s===Gh&&(r=!0),r||!1!==s&&o!==t.length-1&&!za(s)?i:s),e)},Gh),Yt(e=>e!==Gh),_e(e=>za(e)?e:!0===e),pn(1)))}class Gpe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qh,this.attachRef=null}}class qh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Gpe,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let D0=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.name=s||ve,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Wpe(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(b(qh),b(Zr),b(vo),kd("name"),b(ka))},n.\u0275dir=q({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Wpe{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Jc?this.route:e===qh?this.childContexts:this.parent.get(e,t)}}let A0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rr({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&sn(0,"router-outlet")},directives:[D0],encapsulation:2}),n})();function PH(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];qpe(r,Kpe(e,r))}}function qpe(n,e){n.children&&PH(n.children,e)}function Kpe(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function x0(n){const e=n.children&&n.children.map(x0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ve&&(t.component=A0),t}function ii(n){return n.outlet||ve}function OH(n,e){const t=n.filter(r=>ii(r)===e);return t.push(...n.filter(r=>ii(r)!==e)),t}const NH={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oy(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},NH):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||ape)(t,n,e);if(!s)return Object.assign({},NH);const o={};Mn(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function ay(n,e,t,r,i="corrected"){if(t.length>0&&function Xpe(n,e,t){return t.some(r=>ly(n,e,r)&&ii(r)!==ve)}(n,t,r)){const o=new Ie(e,function Qpe(n,e,t,r){const i={};i[ve]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ii(s)!==ve){const o=new Ie([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[ii(s)]=o}return i}(n,e,r,new Ie(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function Zpe(n,e,t){return t.some(r=>ly(n,e,r))}(n,t,r)){const o=new Ie(n.segments,function Ype(n,e,t,r,i,s){const o={};for(const a of r)if(ly(n,t,a)&&!i[ii(a)]){const l=new Ie([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[ii(a)]=l}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Ie(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function ly(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function FH(n,e,t,r){return!!(ii(n)===r||r!==ve&&ly(e,t,n))&&("**"===n.path||oy(e,n,t).matched)}function LH(n,e,t){return 0===e.length&&!n.children[t]}class cy{constructor(e){this.segmentGroup=e||null}}class VH{constructor(e){this.urlTree=e}}function Kh(n){return Vh(new cy(n))}function BH(n){return Vh(new VH(n))}class nge{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Cs)}apply(){const e=ay(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ie(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ve).pipe(_e(s=>this.createUrlTree(k0(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Do(s=>{if(s instanceof VH)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof cy?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ve).pipe(_e(i=>this.createUrlTree(k0(i),e.queryParams,e.fragment))).pipe(Do(i=>{throw i instanceof cy?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Ie([],{[ve]:e}):e;return new $a(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(_e(s=>new Ie([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return An(i).pipe(Bh(s=>{const o=r.children[s],a=OH(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(_e(l=>({segment:l,outlet:s})))}),eH((s,o)=>(s[o.outlet]=o.segment,s),{}),function Kfe(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Yt((i,s)=>n(i,s,r)):oo,p0(1),t?nH(e):tH(()=>new X_))}())}expandSegment(e,t,r,i,s,o){return An(r).pipe(Bh(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(Do(c=>{if(c instanceof cy)return Q(null);throw c}))),Qc(a=>!!a),Do((a,l)=>{if(a instanceof X_||"EmptyError"===a.name)return LH(t,i,s)?Q(new Ie([],{})):Kh(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return FH(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Kh(t):Kh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?BH(s):this.lineralizeSegments(r,s).pipe(Nt(o=>{const a=new Ie(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=oy(t,i,s);if(!a)return Kh(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?BH(d):this.lineralizeSegments(i,d).pipe(Nt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Q(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(_e(d=>(r._loadedConfig=d,new Ie(i,{})))):Q(new Ie(i,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=oy(t,r,i);return o?this.getChildConfig(e,r,i).pipe(Nt(u=>{const d=u.module,h=u.routes,{segmentGroup:f,slicedSegments:p}=ay(t,a,l,h),m=new Ie(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(_e(C=>new Ie(a,C)));if(0===h.length&&0===p.length)return Q(new Ie(a,{}));const _=ii(r)===s;return this.expandSegment(d,m,h,p,_?ve:s,!0).pipe(_e(y=>new Ie(a.concat(y.segments),y.children)))})):Kh(t)}getChildConfig(e,t,r){return t.children?Q(new S0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Q(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(Nt(i=>i?this.configLoader.load(e.injector,t).pipe(_e(s=>(t._loadedConfig=s,s))):function ege(n){return Vh(m0(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Q(new S0([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Q(i.map(o=>{const a=e.get(o);let l;if(function jpe(n){return n&&Ao(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!Ao(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return Qi(l)})).pipe(Wh(),dr(o=>{if(!za(o))return;const a=m0(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),_e(o=>!0===o)):Q(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[ve])return Vh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[ve]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new $a(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Mn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Mn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new Ie(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function k0(n){const e={};for(const r of Object.keys(n.children)){const s=k0(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function rge(n){if(1===n.numberOfChildren&&n.children[ve]){const e=n.children[ve];return new Ie(n.segments.concat(e.segments),e.children)}return n}(new Ie(n.segments,e))}class UH{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class uy{constructor(e,t){this.component=e,this.route=t}}function sge(n,e,t){const r=n._root;return Yh(r,e?e._root:null,t,[r.value])}function dy(n,e,t){const r=function age(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Yh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zc(e);return n.children.forEach(o=>{(function lge(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function cge(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ha(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ha(n.url,e.url)||!Yi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!w0(n,e)||!Yi(n.queryParams,e.queryParams);default:return!w0(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new UH(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Yh(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new uy(a.outlet.component,o))}else o&&Qh(e,a,i),i.canActivateChecks.push(new UH(r)),Yh(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Mn(s,(o,a)=>Qh(o,t.getContext(a),i)),i}function Qh(n,e,t){const r=Zc(n),i=n.value;Mn(r,(s,o)=>{Qh(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new uy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class yge{}function jH(n){return new Le(e=>e.error(n))}class Ege{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=ay(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ve);if(null===t)return null;const r=new ry([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ve,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Rs(r,t),s=new SH(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=TH(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=OH(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=$H(r);return function bge(n){n.sort((e,t)=>e.value.outlet===ve?-1:t.value.outlet===ve?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return LH(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!FH(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?dH(r).parameters:{};s=new ry(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,GH(e),ii(e),e.component,e,HH(t),zH(t)+r.length,WH(e))}else{const f=oy(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new ry(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,GH(e),ii(e),e.component,e,HH(t),zH(t)+o.length,WH(e))}const l=function wge(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=ay(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new Rs(s,f)]}if(0===l.length&&0===u.length)return[new Rs(s,[])];const d=ii(e)===i,h=this.processSegment(l,c,u,d?ve:i);return null===h?null:[new Rs(s,h)]}}function Ige(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function $H(n){const e=[],t=new Set;for(const r of n){if(!Ige(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=$H(r.children);e.push(new Rs(r.value,i))}return e.filter(r=>!t.has(r))}function HH(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zH(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function GH(n){return n.data||{}}function WH(n){return n.resolve||{}}function qH(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function R0(n){return Vr(e=>{const t=n(e);return t?An(t).pipe(_e(()=>e)):Q(e)})}class Rge extends class kge{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const M0=new B("ROUTES");class KH{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(_e(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new S0(uH(o.injector.get(M0,void 0,te.Self|te.Optional)).map(x0),o)}),Do(s=>{throw t._loader$=void 0,s}));return t._loader$=new J4(i,()=>new Te).pipe(Z4()),t._loader$}loadModuleFactory(e){return Qi(e()).pipe(Nt(t=>t instanceof lU?Q(t):An(this.compiler.compileModuleAsync(t))))}}class Pge{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Oge(n){throw n}function Nge(n,e,t){return e.parse("/")}function YH(n,e){return Q(null)}const Fge={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lge={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Kn=(()=>{class n{constructor(t,r,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Te,this.errorHandler=Oge,this.malformedUriErrorHandler=Nge,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:YH,afterPreactivation:YH},this.urlHandlingStrategy=new Pge,this.routeReuseStrategy=new Rge,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Cs),this.console=o.get(Gie);const d=o.get(le);this.isNgZoneEnabled=d instanceof le&&le.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function cpe(){return new $a(new Ie([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new KH(o,a,h=>this.triggerEvent(new iH(h)),h=>this.triggerEvent(new sH(h))),this.routerState=CH(this.currentUrlTree,this.rootComponentType),this.transitions=new ti({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Yt(i=>0!==i.id),_e(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Vr(i=>{let s=!1,o=!1;return Q(i).pipe(dr(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vr(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return QH(a.source)&&(this.browserUrlTree=a.extractedUrl),Q(a).pipe(Vr(d=>{const h=this.transitions.getValue();return r.next(new g0(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?ms:Promise.resolve(d)}),function ige(n,e,t,r){return Vr(i=>function tge(n,e,t,r,i){return new nge(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(_e(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),dr(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function Cge(n,e,t,r,i){return Nt(s=>function vge(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new Ege(n,e,t,r,i,s).recognize();return null===o?jH(new yge):Q(o)}catch(o){return jH(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(_e(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),dr(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new Xfe(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:_}=a,v=new g0(h,this.serializeUrl(f),p,m);r.next(v);const y=CH(f,this.rootComponentType).snapshot;return Q(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),ms}),R0(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),dr(a=>{const l=new Zfe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),_e(a=>Object.assign(Object.assign({},a),{guards:sge(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function uge(n,e){return Nt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Q(Object.assign(Object.assign({},t),{guardsResult:!0})):function dge(n,e,t,r){return An(n).pipe(Nt(i=>function _ge(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Q(s.map(a=>{const l=dy(a,e,i);let c;if(function zpe(n){return n&&Ao(n.canDeactivate)}(l))c=Qi(l.canDeactivate(n,e,t,r));else{if(!Ao(l))throw new Error("Invalid CanDeactivate guard");c=Qi(l(n,e,t,r))}return c.pipe(Qc())})).pipe(Wh()):Q(!0)}(i.component,i.route,t,e,r)),Qc(i=>!0!==i,!0))}(o,r,i,n).pipe(Nt(a=>a&&function Upe(n){return"boolean"==typeof n}(a)?function hge(n,e,t,r){return An(e).pipe(Bh(i=>Kc(function pge(n,e){return null!==n&&e&&e(new npe(n)),Q(!0)}(i.route.parent,r),function fge(n,e){return null!==n&&e&&e(new ipe(n)),Q(!0)}(i.route,r),function mge(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function oge(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Lh(()=>Q(o.guards.map(l=>{const c=dy(l,o.node,t);let u;if(function Hpe(n){return n&&Ao(n.canActivateChild)}(c))u=Qi(c.canActivateChild(r,n));else{if(!Ao(c))throw new Error("Invalid CanActivateChild guard");u=Qi(c(r,n))}return u.pipe(Qc())})).pipe(Wh())));return Q(s).pipe(Wh())}(n,i.path,t),function gge(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(s=>Lh(()=>{const o=dy(s,e,t);let a;if(function $pe(n){return n&&Ao(n.canActivate)}(o))a=Qi(o.canActivate(e,n));else{if(!Ao(o))throw new Error("Invalid CanActivate guard");a=Qi(o(e,n))}return a.pipe(Qc())}));return Q(i).pipe(Wh())}(n,i.route,t))),Qc(i=>!0!==i,!0))}(r,s,n,e):Q(a)),_e(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),dr(a=>{if(za(a.guardsResult)){const c=m0(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new Jfe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Yt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),R0(a=>{if(a.guards.canActivateChecks.length)return Q(a).pipe(dr(l=>{const c=new epe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Vr(l=>{let c=!1;return Q(l).pipe(function Tge(n,e){return Nt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let s=0;return An(i).pipe(Bh(o=>function Sge(n,e,t,r){return function Dge(n,e,t,r){const i=qH(n);if(0===i.length)return Q({});const s={};return An(i).pipe(Nt(o=>function Age(n,e,t,r){const i=dy(n,e,r);return Qi(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(dr(a=>{s[o]=a}))),p0(1),Nt(()=>qH(s).length===i.length?Q(s):ms))}(n._resolve,n,e,r).pipe(_e(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),TH(n,t).resolve),null)))}(o.route,r,n,e)),dr(()=>s++),p0(1),Nt(o=>s===i.length?Q(t):ms))})}(this.paramsInheritanceStrategy,this.ngModule.injector),dr({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),dr(l=>{const c=new tpe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),R0(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),_e(a=>{const l=function Dpe(n,e,t){const r=Hh(n,e._root,t?t._root:void 0);return new IH(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),dr(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>_e(r=>(new Vpe(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),dr({next(){s=!0},complete(){s=!0}}),function Yfe(n){return st((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Do(a=>{if(o=!0,function ope(n){return n&&n[lH]}(a)){const l=za(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new rH(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||QH(i.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new Qfe(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return ms}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){PH(t),this.config=t.map(x0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function kpe(n,e,t,r,i){if(0===t.length)return I0(e.root,e.root,e.root,r,i);const s=function Rpe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new xH(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Mn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new xH(t,e,r)}(t);if(s.toRoot())return I0(e.root,e.root,new Ie([],{}),r,i);const o=function Mpe(n,e,t){if(n.isAbsolute)return new C0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new C0(s,s===e.root,0)}const r=iy(n.commands[0])?0:1;return function Ppe(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new C0(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?sy(o.segmentGroup,o.index,s.commands):kH(o.segmentGroup,o.index,s.commands);return I0(e.root,o.segmentGroup,a,r,i)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=za(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Vge(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Fge):!1===r?Object.assign({},Lge):r,za(t))return fH(this.currentUrlTree,t,i);const s=this.parseUrl(t);return fH(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Uh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((p,m)=>{c=p,u=m});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new rH(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Em()},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();function QH(n){return"imperative"!==n}let hy=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Te,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:eu(this.skipLocationChange),replaceUrl:eu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(b(Kn),b(Jc),kd("tabindex"),b(Is),b(_t))},n.\u0275dir=q({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&at("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[yr]}),n})(),fy=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Te,this.subscription=t.events.subscribe(s=>{s instanceof Uh&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){if(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:eu(this.skipLocationChange),replaceUrl:eu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(b(Kn),b(Jc),b(Bc))},n.\u0275dir=q({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&at("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&fn("target",r.target)("href",r.href,um)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[yr]}),n})();function eu(n){return""===n||!!n}class XH{}class ZH{preload(e,t){return Q(null)}}let JH=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new KH(i,r,l=>t.triggerEvent(new iH(l)),l=>t.triggerEvent(new sH(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Yt(t=>t instanceof Uh),Bh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Cs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return An(i).pipe(vd(),_e(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Q(r._loadedConfig):this.loader.load(t.injector,r)).pipe(Nt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(w(Kn),w(WU),w(Fe),w(XH))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),P0=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof g0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Uh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof aH&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new aH(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Em()},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const Ga=new B("ROUTER_CONFIGURATION"),ez=new B("ROUTER_FORROOT_GUARD"),$ge=[gh,{provide:_H,useClass:yH},{provide:Kn,useFactory:function qge(n,e,t,r,i,s,o={},a,l){const c=new Kn(null,n,e,t,r,i,uH(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function Kge(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[_H,qh,gh,Fe,WU,M0,Ga,[class Mge{},new ot],[class xge{},new ot]]},qh,{provide:Jc,useFactory:function Yge(n){return n.routerState.root},deps:[Kn]},JH,ZH,class jge{preload(e,t){return t().pipe(Do(()=>Q(null)))}},{provide:Ga,useValue:{enableTracing:!1}}];function Hge(){return new XU("Router",Kn)}let tz=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[$ge,nz(t),{provide:ez,useFactory:Wge,deps:[[Kn,new ot,new Ld]]},{provide:Ga,useValue:r||{}},{provide:Bc,useFactory:Gge,deps:[Ma,[new tm(DC),new ot],Ga]},{provide:P0,useFactory:zge,deps:[Kn,Sae,Ga]},{provide:XH,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:ZH},{provide:XU,multi:!0,useFactory:Hge},[O0,{provide:dh,multi:!0,useFactory:Qge,deps:[O0]},{provide:rz,useFactory:Xge,deps:[O0]},{provide:GU,multi:!0,useExisting:rz}]]}}static forChild(t){return{ngModule:n,providers:[nz(t)]}}}return n.\u0275fac=function(t){return new(t||n)(w(ez,8),w(Kn,8))},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({}),n})();function zge(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new P0(n,e,t)}function Gge(n,e,t={}){return t.useHash?new Lse(n,e):new _3(n,e)}function Wge(n){return"guarded"}function nz(n){return[{provide:IZ,multi:!0,useValue:n},{provide:M0,multi:!0,useValue:n}]}let O0=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Te}appInitializer(){return this.injector.get(Ose,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Kn),o=this.injector.get(Ga);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Q(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Ga),i=this.injector.get(JH),s=this.injector.get(P0),o=this.injector.get(Kn),a=this.injector.get(fh);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(w(Fe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();function Qge(n){return n.appInitializer.bind(n)}function Xge(n){return n.bootstrapListener.bind(n)}const rz=new B("Router Initializer");function iz(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){iz(s,r,i,o,a,"next",l)}function a(l){iz(s,r,i,o,a,"throw",l)}o(void 0)})}}const O=function(n,e){if(!n)throw tu(e)},tu=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},sz=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},py={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(sz(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new eme;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eme extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oz=function(n){const e=sz(n);return py.encodeByteArray(e,!0)},gy=function(n){return oz(n).replace(/\./g,"")},my=function(n){try{return py.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tme(n){return az(void 0,n)}function az(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!nme(t)||(n[t]=az(n[t],e[t]));return n}function nme(n){return"__proto__"!==n}const _y=()=>{try{return function rme(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=n&&my(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},lz=n=>{var e,t;return null===(t=null===(e=_y())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},cz=n=>{const e=lz(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},uz=()=>{var n;return null===(n=_y())||void 0===n?void 0:n.config},dz=n=>{var e;return null===(e=_y())||void 0===e?void 0:e[`_${n}`]};class nu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function hz(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[gy(JSON.stringify({alg:"none",type:"JWT"})),gy(JSON.stringify(o)),""].join(".")}function gn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function F0(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function L0(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function fz(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wa(){try{return"object"==typeof indexedDB}catch(n){return!1}}function Xh(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function V0(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class si extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xi.prototype.create)}}class Xi{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function ume(n,e){return n.replace(dme,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new si(i,`${this.serviceName}: ${o} (${i}).`,r)}}const dme=/\{\$([^}]+)}/g;function Zh(n){return JSON.parse(n)}function Pn(n){return JSON.stringify(n)}const yy=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=Zh(my(s[0])||""),t=Zh(my(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch(s){}return{header:e,claims:t,data:r,signature:i}};function Ps(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ru(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function B0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function vy(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function Jh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(pz(s)&&pz(o)){if(!Jh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function pz(n){return null!==n&&"object"==typeof n}function iu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class pme{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Vt(n){return n&&n._delegate?n._delegate:n}class On{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qa="[DEFAULT]";class Cme{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new nu;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Sme(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===qa?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Dme{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Cme(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const $0=[];var J=(()=>((J=J||{})[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",J))();const gz={debug:J.DEBUG,verbose:J.VERBOSE,info:J.INFO,warn:J.WARN,error:J.ERROR,silent:J.SILENT},Ame=J.INFO,xme={[J.DEBUG]:"log",[J.VERBOSE]:"log",[J.INFO]:"info",[J.WARN]:"warn",[J.ERROR]:"error"},kme=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=xme[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Ka{constructor(e){this.name=e,this._logLevel=Ame,this._logHandler=kme,this._userLogHandler=null,$0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in J))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?gz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,J.DEBUG,...e),this._logHandler(this,J.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,J.VERBOSE,...e),this._logHandler(this,J.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,J.INFO,...e),this._logHandler(this,J.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,J.WARN,...e),this._logHandler(this,J.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,J.ERROR,...e),this._logHandler(this,J.ERROR,...e)}}function mz(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function wy(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){mz(s,r,i,o,a,"next",l)}function a(l){mz(s,r,i,o,a,"throw",l)}o(void 0)})}}let _z,yz;const vz=new WeakMap,H0=new WeakMap,Ez=new WeakMap,z0=new WeakMap,G0=new WeakMap;let W0={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return H0.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Ez.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Vme(n){return"function"==typeof n?function Lme(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pme(){return yz||(yz=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(q0(this),e),xo(vz.get(this))}:function(...e){return xo(n.apply(q0(this),e))}:function(e,...t){const r=n.call(q0(this),e,...t);return Ez.set(r,e.sort?e.sort():[e]),xo(r)}}(n):(n instanceof IDBTransaction&&function Nme(n){if(H0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});H0.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Mme(){return _z||(_z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,W0):n)}function xo(n){if(n instanceof IDBRequest)return function Ome(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(xo(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&vz.set(t,n)}).catch(()=>{}),G0.set(e,n),e}(n);if(z0.has(n))return z0.get(n);const e=Vme(n);return e!==n&&(z0.set(n,e),G0.set(e,n)),e}const q0=n=>G0.get(n);const Bme=["get","getKey","getAll","getAllKeys","count"],Ume=["put","add","delete","clear"],K0=new Map;function wz(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(K0.get(e))return K0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Ume.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Bme.includes(t))return;const s=function(){var o=wy(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return K0.set(e,s),s}!function Fme(n){W0=n(W0)}(n=>Pb(Mb({},n),{get:(e,t,r)=>wz(e,t)||n.get(e,t,r),has:(e,t)=>!!wz(e,t)||n.has(e,t)}));const Ya=new Ka("@firebase/app"),Iy="[DEFAULT]",p_e={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qa=new Map,Cy=new Map;function g_e(n,e){try{n.container.addComponent(e)}catch(t){Ya.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Os(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Ns=new Xi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class __e{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new On("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}const ko="9.23.0";function Cz(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Iy,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ns.create("bad-app-name",{appName:String(i)});if(t||(t=uz()),!t)throw Ns.create("no-options");const s=Qa.get(i);if(s){if(Jh(t,s.options)&&Jh(r,s.config))return s;throw Ns.create("duplicate-app",{appName:i})}const o=new Dme(i);for(const l of Cy.values())o.addComponent(l);const a=new __e(t,r,o);return Qa.set(i,a),a}function ef(n=Iy){const e=Qa.get(n);if(!e&&n===Iy&&uz())return Cz();if(!e)throw Ns.create("no-app",{appName:n});return e}function Tz(){return Array.from(Qa.values())}function qe(n,e,t){var r;let i=null!==(r=p_e[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ya.warn(a.join(" "))}!function Yn(n){const e=n.name;if(Cy.has(e))return Ya.debug(`There were multiple attempts to register component ${e}.`),!1;Cy.set(e,n);for(const t of Qa.values())g_e(t,n);return!0}(new On(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Xye(){return US.apply(this,arguments)}function US(){return(US=g(function*(){if(!Wa())return!1;try{return yield Xh()}catch(n){return!1}})).apply(this,arguments)}function IG(){return bD.apply(this,arguments)}function bD(){return(bD=g(function*(){try{yield Xh()}catch(n){return!1}return"undefined"!=typeof window&&Wa()&&V0()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}const Ay="analytics",mn=new Ka("@firebase/analytics"),hr=new Xi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function RD(){return(RD=g(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function PD(){return(PD=g(function*(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})})).apply(this,arguments)}let Zi={};function TEe(n=ef()){const e=Os(n=Vt(n),Ay);return e.isInitialized()?e.getImmediate():function SEe(n,e={}){const t=Os(n,Ay);if(t.isInitialized()){const i=t.getImmediate();if(Jh(e,t.getOptions()))return i;throw hr.create("already-initialized")}return t.initialize({options:e})}(n)}function DEe(){return jD.apply(this,arguments)}function jD(){return(jD=g(function*(){if(L0()||!V0()||!Wa())return!1;try{return yield Xh()}catch(n){return!1}})).apply(this,arguments)}function AEe(n,e,t){n=Vt(n),function mEe(n,e,t,r){return PD.apply(this,arguments)}(undefined,Zi[n.app.options.appId],e,t).catch(r=>mn.error(r))}function PG(n,e,t,r){n=Vt(n),function pEe(n,e,t,r,i){return RD.apply(this,arguments)}(undefined,Zi[n.app.options.appId],e,t,r).catch(i=>mn.error(i))}const MEe=new class REe extends H_{}(class kEe extends $_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Po=new Eo("7.6.1"),HD="__angularfire_symbol__analyticsIsSupportedValue",zD="__angularfire_symbol__analyticsIsSupported",GD="__angularfire_symbol__remoteConfigIsSupportedValue",WD="__angularfire_symbol__remoteConfigIsSupported",qD="__angularfire_symbol__messagingIsSupportedValue",KD="__angularfire_symbol__messagingIsSupported";globalThis[zD]||(globalThis[zD]=DEe().then(n=>globalThis[HD]=n).catch(()=>globalThis[HD]=!1)),globalThis[KD]||(globalThis[KD]=IG().then(n=>globalThis[qD]=n).catch(()=>globalThis[qD]=!1)),globalThis[WD]||(globalThis[WD]=Xye().then(n=>globalThis[GD]=n).catch(()=>globalThis[GD]=!1));const ky={async:()=>globalThis[zD],sync:()=>{const n=globalThis[HD];if(void 0===n)throw new Error((n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`)("Analytics"));return n}};function rf(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const sf=(n,e)=>{const t=e?[e]:Tz(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function au(){}class FG{constructor(e,t=MEe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class PEe{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",au,{},au,au)),t.pipe(dr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let af=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new FG(Zone.current)),this.insideAngular=t.run(()=>new FG(Zone.current,Nh)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(w(le))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tl(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function OEe(n){return tl().ngZone.runOutsideAngular(()=>n())}function nl(n){return tl().ngZone.run(()=>n())}function NEe(n){return tl(),function FEe(n){return function(t){return(t=t.lift(new PEe(n.ngZone))).pipe(Ag(n.outsideAngular),Dg(n.insideAngular))}}(tl())(n)}const LEe=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),nl(()=>n.apply(void 0,r))},Fn=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=nl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",au,{},au,au)))),r[s]=LEe(r[s],t));const i=OEe(()=>n.apply(this,r));if(!e){if(i instanceof Le){const s=tl();return i.pipe(Ag(s.outsideAngular),Dg(s.insideAngular))}return nl(()=>i)}return i instanceof Le?i.pipe(NEe):i instanceof Promise?nl(()=>new Promise((s,o)=>i.then(a=>nl(()=>s(a)),a=>nl(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:nl(()=>i)};class Oo{constructor(e){return e}}class lf{constructor(){return Tz()}}const QD=new B("angularfire2._apps"),BEe={provide:Oo,useFactory:function VEe(n){return n&&1===n.length?n[0]:new Oo(ef())},deps:[[new ot,QD]]},UEe={provide:lf,deps:[[new ot,QD]]};function jEe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Oo(r)}}let $Ee=(()=>{class n{constructor(t){qe("angularfire",Po.full,"core"),qe("angularfire",Po.full,"app"),qe("angular",sU.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(w(Aa))},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({providers:[BEe,UEe]}),n})();function HEe(n,...e){return{ngModule:$Ee,providers:[{provide:QD,useFactory:jEe(n),multi:!0,deps:[le,Fe,af,...e]}]}}const zEe=Fn(Cz,!0);class Vy{constructor(){return sf("app-check")}}"undefined"!=typeof window&&window;const s5=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},o5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(s5(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new Fbe;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Fbe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const By=function(n){return function(n){const e=s5(n);return o5.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Uy=function(n){try{return o5.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Br(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class rl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,rl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,df.prototype.create)}}class df{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Jbe(n,e){return n.replace(ewe,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new rl(i,`${this.serviceName}: ${o} (${i}).`,r)}}const ewe=/\{\$([^}]+)}/g;function u5(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class rwe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function iwe(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=vA),void 0===i.error&&(i.error=vA),void 0===i.complete&&(i.complete=vA);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vA(){}function hf(n){return n&&n._delegate?n._delegate:n}class ff{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bA=[];var He=(()=>{return(n=He||(He={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",He;var n})();const d5={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},fwe=He.INFO,pwe={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},gwe=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=pwe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class h5{constructor(e){this.name=e,this._logLevel=fwe,this._logHandler=gwe,this._userLogHandler=null,bA.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?d5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}class mwe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function _we(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Hy="@firebase/app",sl=new h5("@firebase/app"),Hwe={[Hy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ol=new Map,pf=new Map,gf=new Map;function f5(n,e){try{n.container.addComponent(e)}catch(t){sl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mf(n){const e=n.name;if(gf.has(e))return sl.debug(`There were multiple attempts to register component ${e}.`),!1;gf.set(e,n);for(const t of ol.values())f5(t,n);for(const t of pf.values())f5(t,n);return!0}function _f(n){return void 0!==n.settings}const oi=new df("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."}),IA="10.10.0";function cu(n,e,t){var r;let i=null!==(r=Hwe[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void sl.warn(a.join(" "))}mf(new ff(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const yf="firebase-heartbeat-store";let TA=null;function p5(){return TA||(TA=function bz(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=xo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(xo(o.result),l.oldVersion,l.newVersion,xo(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(yf)}catch(t){console.warn(t)}}}).catch(n=>{throw oi.create("idb-open",{originalErrorMessage:n.message})})),TA}function SA(){return(SA=g(function*(n){try{const t=(yield p5()).transaction(yf),r=yield t.objectStore(yf).get(m5(n));return yield t.done,r}catch(e){if(e instanceof rl)sl.warn(e.message);else{const t=oi.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});sl.warn(t.message)}}})).apply(this,arguments)}function g5(n,e){return DA.apply(this,arguments)}function DA(){return(DA=g(function*(n,e){try{const r=(yield p5()).transaction(yf,"readwrite");yield r.objectStore(yf).put(e,m5(n)),yield r.done}catch(t){if(t instanceof rl)sl.warn(t.message);else{const r=oi.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});sl.warn(r.message)}}})).apply(this,arguments)}function m5(n){return`${n.name}!${n.options.appId}`}class nIe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iIe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){var t,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_5();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=_5(),{heartbeatsToSend:i,unsentEntries:s}=function rIe(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),y5(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),y5(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=By(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function _5(){return(new Date).toISOString().substring(0,10)}class iIe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!function Qbe(){try{return"object"==typeof indexedDB}catch(n){return!1}}()&&function Xbe(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Jwe(n){return SA.apply(this,arguments)}(e.app);return(null==r?void 0:r.heartbeats)?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return g5(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return g(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return g5(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function y5(n){return By(JSON.stringify({version:2,heartbeats:n})).length}!function sIe(n){mf(new ff("platform-logger",e=>new mwe(e),"PRIVATE")),mf(new ff("heartbeat",e=>new nIe(e),"PRIVATE")),cu(Hy,"0.10.0",n),cu(Hy,"0.10.0","esm2017"),cu("fire-js","")}("");const oIe=function v5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},E5=new df("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gy=new h5("@firebase/auth");function Wy(n,...e){Gy.logLevel<=He.ERROR&&Gy.error(`Auth (${IA}): ${n}`,...e)}function wr(n,...e){throw xA(n,...e)}function ai(n,...e){return xA(n,...e)}function AA(n,e,t){const r=Object.assign(Object.assign({},oIe()),{[e]:t});return new df("auth","Firebase",r).create(e,{appName:n.name})}function _n(n){return AA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xA(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return E5.create(n,...e)}function k(n,e,...t){if(!n)throw xA(e,...t)}function es(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wy(e),new Error(e)}function No(n,e){n||es(e)}function b5(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function lIe(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function kA(){return"http:"===b5()||"https:"===b5()}()||function Kbe(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Ef{constructor(e,t){this.shortDelay=e,this.longDelay=t,No(t>e,"Short delay should be less than long delay!"),this.isMobile=function Wbe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Br())}()||function Ybe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return lIe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class w5{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uIe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},dIe=new Ef(3e4,6e4);function lt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ct(n,e,t,r){return MA.apply(this,arguments)}function MA(){return(MA=g(function*(n,e,t,r,i={}){return I5(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=u5(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),w5.fetch()(C5(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function I5(n,e,t){return PA.apply(this,arguments)}function PA(){return(PA=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},uIe),e);try{const i=new fIe(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw bf(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw bf(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw bf(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw bf(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw AA(n,u,c);wr(n,u)}}catch(i){if(i instanceof rl)throw i;wr(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function C5(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function RA(n,e){No(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class fIe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ai(this.auth,"network-request-failed")),dIe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ai(n,e,r);return i.customData._tokenResponse=t,i}function LA(){return(LA=g(function*(n,e){return ct(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function x5(n,e){return BA.apply(this,arguments)}function BA(){return(BA=g(function*(n,e){return ct(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function wf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function UA(){return(UA=g(function*(n,e=!1){const t=hf(n),r=yield t.getIdToken(e),i=qy(r);k(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wf(jA(i.auth_time)),issuedAtTime:wf(jA(i.iat)),expirationTime:wf(jA(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function jA(n){return 1e3*Number(n)}function qy(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Wy("JWT malformed, contained fewer than 3 sections"),null;try{const i=Uy(t);return i?JSON.parse(i):(Wy("Failed to decode base64 JWT payload"),null)}catch(i){return Wy("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function k5(n){const e=qy(n);return k(e,"internal-error"),k(void 0!==e.exp,"internal-error"),k(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}function Us(n,e){return $A.apply(this,arguments)}function $A(){return($A=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof rl&&yIe(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function yIe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class vIe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class HA{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wf(this.lastLoginAt),this.creationTime=wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function If(n){return zA.apply(this,arguments)}function zA(){return(zA=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Us(n,x5(t,{idToken:r}));k(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?R5(s.providerUserInfo):[],a=bIe(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new HA(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function GA(){return(GA=g(function*(n){const e=hf(n);yield If(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function bIe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function R5(n){return n.map(e=>{var{providerId:t}=e,r=Kl(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function WA(){return(WA=g(function*(n,e){const t=yield I5(n,{},g(function*(){const r=u5({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=C5(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",w5.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function qA(){return(qA=g(function*(n,e){return ct(n,"POST","/v2/accounts:revokeToken",lt(n,e))})).apply(this,arguments)}class du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(void 0!==e.idToken,"internal-error"),k(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):k5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){k(0!==e.length,"internal-error");const t=k5(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var r=this;return g(function*(){return t||!r.accessToken||r.isExpired?(k(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function wIe(n,e){return WA.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new du;return r&&(k("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(k("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new du,this.toJSON())}_performRefresh(){return es("not implemented")}}function Fo(n,e){k("string"==typeof n||void 0===n,"internal-error",{appName:e})}class js{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Kl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vIe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new HA(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield Us(t,t.stsTokenManager.getToken(t.auth,e));return k(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function _Ie(n){return UA.apply(this,arguments)}(this,e)}reload(){return function EIe(n){return GA.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new js(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield If(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){if(_f(e.auth.app))return Promise.reject(_n(e.auth));const t=yield e.getIdToken();return yield Us(e,function gIe(n,e){return LA.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:C,emailVerified:x,isAnonymous:$,providerData:W,stsTokenManager:ce}=t;k(C&&ce,e,"internal-error");const pt=du.fromJSON(this.name,ce);k("string"==typeof C,e,"internal-error"),Fo(d,e.name),Fo(h,e.name),k("boolean"==typeof x,e,"internal-error"),k("boolean"==typeof $,e,"internal-error"),Fo(f,e.name),Fo(p,e.name),Fo(m,e.name),Fo(_,e.name),Fo(v,e.name),Fo(y,e.name);const Et=new js({uid:C,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:pt,createdAt:v,lastLoginAt:y});return W&&Array.isArray(W)&&(Et.providerData=W.map(Hn=>Object.assign({},Hn))),_&&(Et._redirectEventId=_),Et}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new du;i.updateFromServerResponse(t);const s=new js({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield If(s),s})()}static _fromGetAccountInfoResponse(e,t,r){return g(function*(){const i=t.users[0];k(void 0!==i.localId,"internal-error");const s=void 0!==i.providerUserInfo?R5(i.providerUserInfo):[],o=!(i.email&&i.passwordHash||(null==s?void 0:s.length)),a=new du;a.updateFromIdToken(r);const l=new js({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new HA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||(null==s?void 0:s.length))};return Object.assign(l,c),l})()}}const M5=new Map;function $s(n){No(n instanceof Function,"Expected a class definition");let e=M5.get(n);return e?(No(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,M5.set(n,e),e)}const P5=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(t,r){var i=this;return g(function*(){i.storage[t]=r})()}_get(t){var r=this;return g(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return g(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Ky(n,e,t){return`firebase:${n}:${e}:${t}`}class hu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ky(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ky("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?js._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return g(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return g(function*(){if(!t.length)return new hu($s(P5),e,r);const i=(yield Promise.all(t.map(function(){var c=g(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||$s(P5);const o=Ky(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(o);if(u){const d=js._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch(u){}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=g(function*(u){if(u!==s)try{yield u._remove(o)}catch(d){}});return function(u){return c.apply(this,arguments)}}())),new hu(s,e,r)):new hu(s,e,r)})()}}function O5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function L5(n=Br()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function N5(n=Br()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function B5(n=Br()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function U5(n=Br()){return/webos/i.test(n)}(e))return"Webos";if(function KA(n=Br()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function F5(n=Br()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function V5(n=Br()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function j5(n,e=[]){let t;switch(n){case"Browser":t=O5(Br());break;case"Worker":t=`${O5(Br())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${IA}/${r}`}class SIe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return g(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch(o){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null==i?void 0:i.message})}})()}}function YA(){return(YA=g(function*(n,e={}){return ct(n,"GET","/v2/passwordPolicy",lt(n,e))})).apply(this,arguments)}class xIe{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(t=l.meetsMinPasswordLength)||void 0===t||t),l.isValid&&(l.isValid=null===(r=l.meetsMaxPasswordLength)||void 0===r||r),l.isValid&&(l.isValid=null===(i=l.containsLowercaseLetter)||void 0===i||i),l.isValid&&(l.isValid=null===(s=l.containsUppercaseLetter)||void 0===s||s),l.isValid&&(l.isValid=null===(o=l.containsNumericCharacter)||void 0===o||o),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class kIe{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $5(this),this.idTokenSubscription=new $5(this),this.beforeStateQueue=new SIe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=$s(t)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield hu.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return g(function*(){try{const r=yield x5(t,{idToken:e}),i=yield js._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return g(function*(){var r;if(_f(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(l,l))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=null==s?void 0:s._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&(null==c?void 0:c.user)&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return k(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return g(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(i){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return g(function*(){try{yield If(e)}catch(r){if("auth/network-request-failed"!==(null==r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function cIe(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return g(function*(){if(_f(t.app))return Promise.reject(_n(t));const r=e?hf(e):null;return r&&k(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return g(function*(){if(!r._deleted)return e&&k(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return _f(e.app)?Promise.reject(_n(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return _f(this.app)?Promise.reject(_n(this)):this.queue(g(function*(){yield t.assertedPersistence.setPersistence($s(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return g(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return g(function*(){const t=yield function DIe(n){return YA.apply(this,arguments)}(e),r=new xIe(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new df("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return g(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function IIe(n,e){return qA.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return g(function*(){if(!t.redirectPersistenceManager){const r=e&&$s(e)||t._popupRedirectResolver;k(r,t,"argument-error"),t.redirectPersistenceManager=yield hu.create(t,[$s(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return g(function*(){var r,i;return t._isInitialized&&(yield t.queue(g(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return g(function*(){if(e===t.currentUser)return t.queue(g(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(k(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof t){const l=e.addObserver(t,r,i);return()=>{o=!0,l()}}{const l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){var t=this;return g(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return g(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return(null==r?void 0:r.error)&&function aIe(n,...e){Gy.logLevel<=He.WARN&&Gy.warn(`Auth (${IA}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),null==r?void 0:r.token})()}}class $5{constructor(e){this.auth=e,this.observer=null,this.addObserver=function nwe(n,e){const t=new rwe(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cf={loadJS:()=>g(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function H5(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Ef(3e4,6e4),new Ef(2e3,1e4),new Ef(3e4,6e4),new Ef(5e3,15e3),encodeURIComponent("fac");var EW="@firebase/auth";class OTe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return g(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jTe(n){return new Le(function(e){var t=function ICe(n,e,t,r){return hf(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function IW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}(()=>{try{(function Bbe(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=n&&Uy(n[1]);e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}})(),function RIe(n){Cf=n}({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=ai("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function UTe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function FTe(n){mf(new ff("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;k(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j5(n)},c=new kIe(r,i,s,l);return function BIe(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map($s);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),mf(new ff("auth-internal",e=>{const t=function Bt(n){return hf(n)}(e.getProvider("auth").getImmediate());return new OTe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),cu(EW,"1.7.0",function NTe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),cu(EW,"1.7.0","esm2017")}("Browser");const HTe=IW,CW=new Xi("auth","Firebase",IW()),av=new Ka("@firebase/auth");function lv(n,...e){av.logLevel<=J.ERROR&&av.error(`Auth (${ko}): ${n}`,...e)}function Ir(n,...e){throw Bk(n,...e)}function Ur(n,...e){return Bk(n,...e)}function TW(n,e,t){const r=Object.assign(Object.assign({},HTe()),{[e]:t});return new Xi("auth","Firebase",r).create(e,{appName:n.name})}function fu(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Ir(n,"argument-error"),TW(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bk(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return CW.create(n,...e)}function R(n,e,...t){if(!n)throw Bk(e,...t)}function ts(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lv(e),new Error(e)}function zs(n,e){n||ts(e)}function kf(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function SW(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Rf{constructor(e,t){this.shortDelay=e,this.longDelay=t,zs(t>e,"Short delay should be less than long delay!"),this.isMobile=F0()||fz()}get(){return function GTe(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Uk(){return"http:"===SW()||"https:"===SW()}()||L0()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jk(n,e){zs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class DW{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qTe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},KTe=new Rf(3e4,6e4);function It(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Mt(n,e,t,r){return $k.apply(this,arguments)}function $k(){return $k=g(function*(n,e,t,r,i={}){return AW(n,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=iu(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),DW.fetch()(xW(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))}),$k.apply(this,arguments)}function AW(n,e,t){return Hk.apply(this,arguments)}function Hk(){return Hk=g(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},qTe),e);try{const i=new YTe(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Mf(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Mf(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Mf(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Mf(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw TW(n,u,c);Ir(n,u)}}catch(i){if(i instanceof si)throw i;Ir(n,"network-request-failed",{message:String(i)})}}),Hk.apply(this,arguments)}function Gs(n,e,t,r){return zk.apply(this,arguments)}function zk(){return zk=g(function*(n,e,t,r,i={}){const s=yield Mt(n,e,t,r,i);return"mfaPendingCredential"in s&&Ir(n,"multi-factor-auth-required",{_serverResponse:s}),s}),zk.apply(this,arguments)}function xW(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?jk(n.config,i):`${n.config.apiScheme}://${i}`}class YTe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),KTe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ur(n,e,r);return i.customData._tokenResponse=t,i}function Gk(){return Gk=g(function*(n,e){return Mt(n,"POST","/v1/accounts:delete",e)}),Gk.apply(this,arguments)}function ZTe(n,e){return qk.apply(this,arguments)}function qk(){return qk=g(function*(n,e){return Mt(n,"POST","/v1/accounts:lookup",e)}),qk.apply(this,arguments)}function Pf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Kk(){return Kk=g(function*(n,e=!1){const t=Vt(n),r=yield t.getIdToken(e),i=cv(r);R(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Pf(Yk(i.auth_time)),issuedAtTime:Pf(Yk(i.iat)),expirationTime:Pf(Yk(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),Kk.apply(this,arguments)}function Yk(n){return 1e3*Number(n)}function cv(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return lv("JWT malformed, contained fewer than 3 sections"),null;try{const i=my(t);return i?JSON.parse(i):(lv("Failed to decode base64 JWT payload"),null)}catch(i){return lv("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function Ws(n,e){return Qk.apply(this,arguments)}function Qk(){return Qk=g(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof si&&t0e(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),Qk.apply(this,arguments)}function t0e({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class n0e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield t.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class kW{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pf(this.lastLoginAt),this.creationTime=Pf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Of(n){return Xk.apply(this,arguments)}function Xk(){return Xk=g(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ws(n,ZTe(t,{idToken:r}));R(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?s0e(s.providerUserInfo):[],a=i0e(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new kW(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),Xk.apply(this,arguments)}function Zk(){return Zk=g(function*(n){const e=Vt(n);yield Of(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),Zk.apply(this,arguments)}function i0e(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function s0e(n){return n.map(e=>{var{providerId:t}=e,r=Kl(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Jk(){return Jk=g(function*(n,e){const t=yield AW(n,{},g(function*(){const r=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=xW(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",DW.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),Jk.apply(this,arguments)}class Nf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(void 0!==e.idToken,"internal-error"),R(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function e0e(n){const e=cv(n);return R(e,"internal-error"),R(void 0!==e.exp,"internal-error"),R(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return g(function*(){return R(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function o0e(n,e){return Jk.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Nf;return r&&(R("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(R("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nf,this.toJSON())}_performRefresh(){return ts("not implemented")}}function Lo(n,e){R("string"==typeof n||void 0===n,"internal-error",{appName:e})}class ul{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Kl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n0e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kW(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return g(function*(){const r=yield Ws(t,t.stsTokenManager.getToken(t.auth,e));return R(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function JTe(n){return Kk.apply(this,arguments)}(this,e)}reload(){return function r0e(n){return Zk.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ul(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Of(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const t=yield e.getIdToken();return yield Ws(e,function QTe(n,e){return Gk.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,_=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:C,emailVerified:x,isAnonymous:$,providerData:W,stsTokenManager:ce}=t;R(C&&ce,e,"internal-error");const pt=Nf.fromJSON(this.name,ce);R("string"==typeof C,e,"internal-error"),Lo(d,e.name),Lo(h,e.name),R("boolean"==typeof x,e,"internal-error"),R("boolean"==typeof $,e,"internal-error"),Lo(f,e.name),Lo(p,e.name),Lo(m,e.name),Lo(_,e.name),Lo(v,e.name),Lo(y,e.name);const Et=new ul({uid:C,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:pt,createdAt:v,lastLoginAt:y});return W&&Array.isArray(W)&&(Et.providerData=W.map(Hn=>Object.assign({},Hn))),_&&(Et._redirectEventId=_),Et}static _fromIdTokenResponse(e,t,r=!1){return g(function*(){const i=new Nf;i.updateFromServerResponse(t);const s=new ul({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Of(s),s})()}}const RW=new Map;function qs(n){zs(n instanceof Function,"Expected a class definition");let e=RW.get(n);return e?(zs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,RW.set(n,e),e)}function eR(n=gn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dv(n=gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UW(n=gn()){return dv(n)||function LW(n=gn()){return/android/i.test(n)}(n)||function BW(n=gn()){return/webos/i.test(n)}(n)||function VW(n=gn()){return/blackberry/i.test(n)}(n)||/windows phone/i.test(n)||function FW(n=gn()){return/iemobile/i.test(n)}(n)}function yn(n){return Vt(n)}function KW(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function YW(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class QW{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,t){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}function Ks(n,e){return ER.apply(this,arguments)}function ER(){return ER=g(function*(n,e){return Gs(n,"POST","/v1/accounts:signInWithIdp",It(n,e))}),ER.apply(this,arguments)}class gu extends QW{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Kl(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new gu(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Ks(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ks(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ks(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=iu(t)}return e}}class Bo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eq extends Bo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let F0e=(()=>{class n extends eq{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return gu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch(s){return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();class ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return g(function*(){const s=yield ul._fromIdTokenResponse(e,r,i),o=tq(r);return new ci({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=tq(r);return new ci({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function tq(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class mv extends si{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mv.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new mv(e,t,r,i)}}function nq(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?mv._fromErrorAndOperation(n,s,e,r):s})}function xR(n,e){return kR.apply(this,arguments)}function kR(){return kR=g(function*(n,e,t=!1){const r=yield Ws(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ci._forOperation(n,"link",r)}),kR.apply(this,arguments)}function MR(){return MR=g(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield Ws(n,nq(r,i,e,n),t);R(s.idToken,r,"internal-error");const o=cv(s.idToken);R(o,r,"internal-error");const{sub:a}=o;return R(n.uid===a,r,"user-mismatch"),ci._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&Ir(r,"user-mismatch"),s}}),MR.apply(this,arguments)}function PR(){return PR=g(function*(n,e,t=!1){const r="signIn",i=yield nq(n,r,e),s=yield ci._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s}),PR.apply(this,arguments)}function Z0e(n){return Vt(n).signOut()}const yv="__sak";class aq{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yv,"1"),this.storage.removeItem(yv),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const oSe=(()=>{class n extends aq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function rSe(){const n=gn();return eR(n)||dv(n)}()&&function c0e(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=UW(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function l0e(){return function lme(){const n=gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),lq=(()=>{class n extends aq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let lSe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return g(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!(null==l?void 0:l.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function aSe(n){return Promise.all(n.map(function(){var e=g(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function vv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class cSe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return g(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=vv("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Xt(){return window}function cM(){return void 0!==Xt().WorkerGlobalScope&&"function"==typeof Xt().importScripts}function uM(){return(uM=g(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const cq="firebaseLocalStorageDb",Ev="firebaseLocalStorage",uq="fbase_key";class Vf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bv(n,e){return n.transaction([Ev],e?"readwrite":"readonly").objectStore(Ev)}function dM(){const n=indexedDB.open(cq,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ev,{keyPath:uq})}catch(i){t(i)}}),n.addEventListener("success",g(function*(){const r=n.result;r.objectStoreNames.contains(Ev)?e(r):(r.close(),yield function gSe(){const n=indexedDB.deleteDatabase(cq);return new Vf(n).toPromise()}(),e(yield dM()))}))})}function dq(n,e,t){return hM.apply(this,arguments)}function hM(){return hM=g(function*(n,e,t){const r=bv(n,!0).put({[uq]:e,value:t});return new Vf(r).toPromise()}),hM.apply(this,arguments)}function fM(){return fM=g(function*(n,e){const t=bv(n,!1).get(e),r=yield new Vf(t).toPromise();return void 0===r?null:r.value}),fM.apply(this,arguments)}function hq(n,e){const t=bv(n,!0).delete(e);return new Vf(t).toPromise()}const vSe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return g(function*(){return t.db||(t.db=yield dM()),t.db})()}_withRetries(t){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return g(function*(){return cM()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return g(function*(){t.receiver=lSe._getInstance(function fSe(){return cM()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return g(function*(){var r,i;if(t.activeServiceWorker=yield function dSe(){return uM.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new cSe(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function hSe(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const t=yield dM();return yield dq(t,yv,"1"),yield hq(t,yv),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return g(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>dq(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return g(function*(){const i=yield r._withRetries(s=>function mSe(n,e){return fM.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>hq(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return g(function*(){const r=yield t._withRetries(o=>{const a=bv(o,!1).getAll();return new Vf(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function hl(n,e){return e?qs(e):(R(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class wM extends QW{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ks(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ks(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function NSe(n){return function sq(n,e){return PR.apply(this,arguments)}(n.auth,new wM(n),n.bypassAuthState)}function FSe(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),function iq(n,e){return MR.apply(this,arguments)}(t,new wM(n),n.bypassAuthState)}function LSe(n){return IM.apply(this,arguments)}function IM(){return IM=g(function*(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),xR(t,new wM(n),n.bypassAuthState)}),IM.apply(this,arguments)}class pq{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NSe;case"linkViaPopup":case"linkViaRedirect":return LSe;case"reauthViaPopup":case"reauthViaRedirect":return FSe;default:Ir(this.auth,"internal-error")}}resolve(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const VSe=new Rf(2e3,1e4);function BSe(n,e,t){return CM.apply(this,arguments)}function CM(){return CM=g(function*(n,e,t){const r=yn(n);fu(n,e,Bo);const i=hl(r,t);return new DM(r,"signInViaPopup",e,i).executeNotNull()}),CM.apply(this,arguments)}let DM=(()=>{class n extends pq{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return g(function*(){const r=yield t.execute();return R(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return g(function*(){zs(1===t.filter.length,"Popup operations only handle one event");const r=vv();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(Ur(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=(null===(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)||void 0===i?void 0:i.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,VSe.get())};t()}}return n.currentPopupAction=null,n})();const Bf=new Map;class jSe extends pq{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return g(function*(){let r=Bf.get(t.auth._key());if(!r){try{const s=(yield function $Se(n,e){return AM.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Bf.set(t.auth._key(),r)}return t.bypassAuthState||Bf.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function AM(){return AM=g(function*(n,e){const t=mq(e),r=gq(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),AM.apply(this,arguments)}function HSe(n,e){Bf.set(n._key(),e)}function gq(n){return qs(n._redirectPersistence)}function mq(n){return function uv(n,e,t){return`firebase:${n}:${e}:${t}`}("pendingRedirect",n.config.apiKey,n.name)}function _q(n,e){return NM.apply(this,arguments)}function NM(){return NM=g(function*(n,e,t=!1){const r=yn(n),i=hl(r,e),o=yield new jSe(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),NM.apply(this,arguments)}class KSe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function YSe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Eq(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Eq(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ur(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vq(e))}saveEventToCache(e){this.cachedEventUids.add(vq(e)),this.lastProcessedEventTime=Date.now()}}function vq(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Eq({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function QSe(n){return LM.apply(this,arguments)}function LM(){return LM=g(function*(n,e={}){return Mt(n,"GET","/v1/projects",e)}),LM.apply(this,arguments)}const XSe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZSe=/^https?/;function VM(){return VM=g(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield QSe(n);for(const t of e)try{if(eDe(t))return}catch(r){}Ir(n,"unauthorized-domain")}),VM.apply(this,arguments)}function eDe(n){const e=kf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!ZSe.test(t))return!1;if(XSe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const tDe=new Rf(3e4,6e4);function bq(){const n=Xt().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}function nDe(n){return new Promise((e,t)=>{var r,i,s;function o(){bq(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bq(),t(Ur(n,"network-request-failed"))},timeout:tDe.get()})}if(null===(i=null===(r=Xt().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Xt().gapi)||void 0===s?void 0:s.load)){const a=function h0e(n){return`__${n}${Math.floor(1e6*Math.random())}`}("iframefcb");return Xt()[a]=()=>{gapi.load?o():t(Ur(n,"network-request-failed"))},function rR(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ur("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function d0e(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw Iv=null,e})}let Iv=null;function rDe(n){return Iv=Iv||nDe(n),Iv}const iDe=new Rf(5e3,15e3),aDe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lDe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cDe(n){const e=n.config;R(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?jk(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:ko},i=lDe.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${iu(r).slice(1)}`}function BM(){return BM=g(function*(n){const e=yield rDe(n),t=Xt().gapi;return R(t,n,"internal-error"),e.open({where:document.body,url:cDe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aDe,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ur(n,"network-request-failed"),l=Xt().setTimeout(()=>{o(a)},iDe.get());function c(){Xt().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),BM.apply(this,arguments)}const dDe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wq{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function mDe(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},dDe),{width:r.toString(),height:i.toString(),top:s,left:o}),c=gn().toLowerCase();t&&(a=function NW(n=gn()){return/crios\//i.test(n)}(c)?"_blank":t),function OW(n=gn()){return/firefox\//i.test(n)}(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function a0e(n=gn()){var e;return dv(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function _De(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new wq(null);const d=window.open(e||"",a,u);R(d,n,"popup-blocked");try{d.focus()}catch(h){}return new wq(d)}const EDe=encodeURIComponent("fac");function Iq(n,e,t,r,i,s){return UM.apply(this,arguments)}function UM(){return UM=g(function*(n,e,t,r,i,s){R(n.config.authDomain,n,"auth-domain-config-required"),R(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ko,eventId:i};if(e instanceof Bo){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",B0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof eq){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${EDe}=${encodeURIComponent(l)}`:"";return`${bDe(n)}?${iu(a).slice(1)}${c}`}),UM.apply(this,arguments)}function bDe({config:n}){return n.emulator?jk(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const jM="webStorageSupport",IDe=class wDe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lq,this._completeRedirectFn=_q,this._overrideRedirectResult=HSe}_openPopup(e,t,r,i){var s=this;return g(function*(){var o;zs(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield Iq(e,t,r,kf(),i);return mDe(e,a,vv())})()}_openRedirect(e,t,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function uSe(n){Xt().location.href=n}(yield Iq(e,t,r,kf(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(zs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return g(function*(){const r=yield function uDe(n){return BM.apply(this,arguments)}(e),i=new KSe(e);return r.register("authEvent",s=>(R(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jM,{type:jM},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[jM];void 0!==o&&t(!!o),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function JSe(n){return VM.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UW()||eR()||dv()}},ADe=dz("authIdTokenMaxAge")||300;let Aq=null;const xDe=n=>function(){var e=g(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>ADe)return;const s=null==r?void 0:r.token;Aq!==s&&(Aq=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function kDe(n=ef()){const e=Os(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function y0e(n,e){const t=Os(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Jh(t.getOptions(),null!=e?e:{}))return i;Ir(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:IDe,persistence:[vSe,oSe,lq]}),r=dz("authTokenSyncURL");if(r){const s=xDe(r);(function X0e(n,e,t){Vt(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function Q0e(n,e,t,r){Vt(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=lz("auth");return i&&function E0e(n,e,t){const r=yn(n);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==t?void 0:t.disableWarnings),s=KW(e),{host:o,port:a}=function b0e(n){const e=KW(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:YW(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:YW(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function w0e(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}class Uf{constructor(e){return e}}class HM{constructor(){return sf("auth")}}const zM=new B("angularfire2.auth-instances");function MDe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Uf(r)}}const PDe={provide:HM,deps:[[new ot,zM]]},ODe={provide:Uf,useFactory:function RDe(n,e){const t=rf("auth",n,e);return t&&new Uf(t)},deps:[[new ot,zM],Oo]};let NDe=(()=>{class n{constructor(){qe("angularfire",Po.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({providers:[ODe,PDe]}),n})();function FDe(n,...e){return{ngModule:NDe,providers:[{provide:zM,useFactory:MDe(n),multi:!0,deps:[le,Fe,af,lf,[new ot,Vy],...e]}]}}const LDe=Fn(jTe,!0),VDe=Fn(kDe,!0),BDe=Fn(BSe,!0),UDe=Fn(Z0e,!0);let kq=(()=>{class n{constructor(t){this.auth=t}loginWithGoogle(){return BDe(this.auth,new F0e)}logOut(){return UDe(this.auth)}}return n.\u0275fac=function(t){return new(t||n)(w(Uf))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jf=(()=>{class n{constructor(){const t=localStorage.getItem("me");t&&(this.credentials=JSON.parse(t))}setCredentials(t){localStorage.setItem("me",JSON.stringify(t)),this.credentials=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jDe=(()=>{class n{constructor(t,r,i){this.authService=t,this.credentialsService=r,this.router=i}ngOnInit(){}loginWithGoogle(){this.authService.loginWithGoogle().then(t=>{this.credentialsService.setCredentials({name:t.user.displayName,email:t.user.email,photo:t.user.photoURL}),this.router.navigate(["my-notes"])}).catch(t=>console.log(t))}logOut(){localStorage.removeItem("me")}}return n.\u0275fac=function(t){return new(t||n)(b(kq),b(jf),b(Kn))},n.\u0275cmp=rr({type:n,selectors:[["app-login"]],decls:10,vars:0,consts:[[1,"login-page"],[1,"green-pannel"],["src","../../../assets/imgs/logo.svg","alt","Labnotes logo"],[1,"center-icons"],[1,"icon-btn",3,"click"],[1,"fa-brands","fa-google"]],template:function(t,r){1&t&&(ke(0,"section",0)(1,"article",1)(2,"h1"),vr(3,"Welcome to Labnotes"),Re(),sn(4,"img",2),Re(),ke(5,"h2"),vr(6,"Login using:"),Re(),ke(7,"div",3)(8,"button",4),at("click",function(){return r.loginWithGoogle()}),sn(9,"i",5),Re()()())},styles:[".login-page[_ngcontent-%COMP%]{background:#FCF6F1;width:100%;height:100%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin:0;font-weight:500;font-family:Poppins,sans-serif;font-size:30px;text-align:center}h2[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;font-family:Poppins,sans-serif}.green-pannel[_ngcontent-%COMP%]{background:#C7EBB3;border-radius:0 0 20px 20px;height:65vh;display:flex;flex-direction:column;align-items:center;justify-content:center}.center-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:50px;margin-top:20px}.icon-btn[_ngcontent-%COMP%]{border:3px solid #EBC7E5;background:#FFD5F8;height:50px;width:50px;display:flex;align-items:center;justify-content:center;border-radius:50%;cursor:pointer}.fa-brands[_ngcontent-%COMP%]{font-size:25px}"]}),n})(),$De=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rr({type:n,selectors:[["app-delete-note-dialog"]],decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,r){1&t&&(ke(0,"h2",0),vr(1,"Delete this note?"),Re(),ke(2,"p"),vr(3,"You will not be able to recover it"),Re(),ke(4,"mat-dialog-actions")(5,"button",1),vr(6,"No, Cancel"),Re(),ke(7,"button",2),vr(8,"Yes, Delete it"),Re()()),2&t&&(xt(7),rn("mat-dialog-close",!0))},directives:[Hfe,zfe,B4,$fe],styles:["h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}"]}),n})();var N,HDe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Di={},GM=GM||{},ie=HDe||self;function Tv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function $f(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var WM="closure_uid_"+(1e9*Math.random()>>>0),GDe=0;function WDe(n,e,t){return n.call.apply(n.bind,arguments)}function qDe(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Qn(n,e,t){return(Qn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?WDe:qDe).apply(null,arguments)}function Sv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Uo(){this.s=this.s,this.o=this.o}Uo.prototype.s=!1,Uo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zDe(n){Object.prototype.hasOwnProperty.call(n,WM)&&n[WM]||(n[WM]=++GDe)}(this)},Uo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Rq=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function qM(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Mq(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Tv(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Xn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Xn.prototype.h=function(){this.defaultPrevented=!0};var YDe=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch(t){}return n}();function Hf(n){return/^[\s\xa0]*$/.test(n)}function Dv(){var n=ie.navigator;return n&&(n=n.userAgent)?n:""}function ns(n){return-1!=Dv().indexOf(n)}function KM(n){return KM[" "](n),n}KM[" "]=function(){};var QM,XDe=ns("Opera"),_u=ns("Trident")||ns("MSIE"),Pq=ns("Edge"),YM=Pq||_u,Oq=ns("Gecko")&&!(-1!=Dv().toLowerCase().indexOf("webkit")&&!ns("Edge"))&&!(ns("Trident")||ns("MSIE"))&&!ns("Edge"),ZDe=-1!=Dv().toLowerCase().indexOf("webkit")&&!ns("Edge");function Nq(){var n=ie.document;return n?n.documentMode:void 0}e:{var XM="",ZM=function(){var n=Dv();return Oq?/rv:([^\);]+)(\)|;)/.exec(n):Pq?/Edge\/([\d\.]+)/.exec(n):_u?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ZDe?/WebKit\/(\S+)/.exec(n):XDe?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(ZM&&(XM=ZM?ZM[1]:""),_u){var JM=Nq();if(null!=JM&&JM>parseFloat(XM)){QM=String(JM);break e}}QM=XM}var JDe=ie.document&&_u&&(Nq()||parseInt(QM,10))||void 0;function zf(n,e){if(Xn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Oq){e:{try{KM(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eAe[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&zf.$.h.call(this)}}var eAe={2:"touch",3:"pen",4:"mouse"};zf.prototype.h=function(){zf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Gf="closure_listenable_"+(1e6*Math.random()|0),tAe=0;function nAe(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++tAe,this.fa=this.ia=!1}function Av(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function tP(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Lq(n){const e={};for(const t in n)e[t]=n[t];return e}const Vq="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Bq(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<Vq.length;s++)t=Vq[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function xv(n){this.src=n,this.g={},this.h=0}function nP(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=Rq(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Av(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function rP(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}xv.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=rP(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new nAe(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var iP="closure_lm_"+(1e6*Math.random()|0),sP={};function Uq(n,e,t,r,i){if(r&&r.once)return $q(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Uq(n,e[s],t,r,i);return null}return t=cP(t),n&&n[Gf]?n.O(e,t,$f(r)?!!r.capture:!!r,i):jq(n,e,t,!1,r,i)}function jq(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=$f(i)?!!i.capture:!!i,a=aP(n);if(a||(n[iP]=a=new xv(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function iAe(){const e=sAe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)YDe||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(zq(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function $q(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$q(n,e[s],t,r,i);return null}return t=cP(t),n&&n[Gf]?n.P(e,t,$f(r)?!!r.capture:!!r,i):jq(n,e,t,!0,r,i)}function Hq(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Hq(n,e[s],t,r,i);else r=$f(r)?!!r.capture:!!r,t=cP(t),n&&n[Gf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=rP(s=n.g[e],t,r,i))&&(Av(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=aP(n))&&(e=n.g[e.toString()],n=-1,e&&(n=rP(e,t,r,i)),(t=-1<n?e[n]:null)&&oP(t))}function oP(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Gf])nP(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(zq(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=aP(e))?(nP(t,n),0==t.h&&(t.src=null,e[iP]=null)):Av(n)}}}function zq(n){return n in sP?sP[n]:sP[n]="on"+n}function sAe(n,e){if(n.fa)n=!0;else{e=new zf(e,this);var t=n.listener,r=n.la||n.src;n.ia&&oP(n),n=t.call(r,e)}return n}function aP(n){return(n=n[iP])instanceof xv?n:null}var lP="__closure_events_fn_"+(1e9*Math.random()>>>0);function cP(n){return"function"==typeof n?n:(n[lP]||(n[lP]=function(e){return n.handleEvent(e)}),n[lP])}function En(){Uo.call(this),this.i=new xv(this),this.S=this,this.J=null}function Vn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Xn(e,n);else if(e instanceof Xn)e.target=e.target||n;else{var i=e;Bq(e=new Xn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=kv(o,r,!0,e)&&i}if(i=kv(o=e.g=n,r,!0,e)&&i,i=kv(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=kv(o=e.g=t[s],r,!1,e)&&i}function kv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&nP(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}En.prototype[Gf]=!0,En.prototype.removeEventListener=function(n,e,t,r){Hq(this,n,e,t,r)},En.prototype.N=function(){if(En.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Av(t[r]);delete n.g[e],n.h--}}this.J=null},En.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},En.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var uP=ie.JSON.stringify;class oAe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function aAe(){var n=dP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class lAe{constructor(){this.h=this.g=null}add(e,t){const r=Gq.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var Gq=new oAe(()=>new cAe,n=>n.reset());class cAe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function uAe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function dAe(n){ie.setTimeout(()=>{throw n},0)}let Wf,qf=!1,dP=new lAe,Wq=()=>{const n=ie.Promise.resolve(void 0);Wf=()=>{n.then(hAe)}};var hAe=()=>{for(var n;n=aAe();){try{n.h.call(n.g)}catch(t){dAe(t)}var e=Gq;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}qf=!1};function Rv(n,e){En.call(this),this.h=n||1,this.g=e||ie,this.j=Qn(this.qb,this),this.l=Date.now()}function hP(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function fP(n,e,t){if("function"==typeof n)t&&(n=Qn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qn(n.handleEvent,n)}return 2147483647<Number(e)?-1:ie.setTimeout(n,e||0)}function qq(n){n.g=fP(()=>{n.g=null,n.i&&(n.i=!1,qq(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(N=Rv.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vn(this,"tick"),this.ga&&(hP(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){Rv.$.N.call(this),hP(this),delete this.g};class fAe extends Uo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qq(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kf(n){Uo.call(this),this.h=n,this.g={}}var Kq=[];function Yq(n,e,t,r){Array.isArray(t)||(t&&(Kq[0]=t.toString()),t=Kq);for(var i=0;i<t.length;i++){var s=Uq(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Qq(n){tP(n.g,function(e,t){this.g.hasOwnProperty(t)&&oP(e)},n),n.g={}}function Mv(){this.g=!0}function yu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _Ae(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return uP(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}Kf.prototype.N=function(){Kf.$.N.call(this),Qq(this)},Kf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mv.prototype.Ea=function(){this.g=!1},Mv.prototype.info=function(){};var fl={},Xq=null;function Pv(){return Xq=Xq||new En}function Zq(n){Xn.call(this,fl.Ta,n)}function Yf(n){const e=Pv();Vn(e,new Zq(e))}function Jq(n,e){Xn.call(this,fl.STAT_EVENT,n),this.stat=e}function fr(n){const e=Pv();Vn(e,new Jq(e,n))}function e7(n,e){Xn.call(this,fl.Ua,n),this.size=e}function Qf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){n()},e)}fl.Ta="serverreachability",fl.STAT_EVENT="statevent",fl.Ua="timingevent";var Ov={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},t7={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function r7(){}var _P,Xf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gP(){Xn.call(this,"d")}function mP(){Xn.call(this,"c")}function Nv(){}function Zf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Kf(this),this.P=yAe,this.V=new Rv(n=YM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new i7}function i7(){this.i=null,this.g="",this.h=!1}Nv.prototype.g=function(){return new XMLHttpRequest},Nv.prototype.i=function(){return{}},_P=new Nv;var yAe=45e3,yP={},Fv={};function vP(n,e,t){n.L=1,n.v=Uv(Ys(e)),n.s=t,n.S=!0,s7(n,null)}function s7(n,e){n.G=Date.now(),Jf(n),n.A=Ys(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),g7(t.i,"t",r),n.C=0,t=n.l.J,n.h=new i7,n.g=B7(n.l,t?e:null,!n.s),0<n.O&&(n.M=new fAe(Qn(n.Pa,n,n.g),n.O)),Yq(n.U,n.g,"readystatechange",n.nb),e=n.I?Lq(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Yf(),function pAe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function o7(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function a7(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=vAe(n,t),i==Fv){4==e&&(n.o=4,fr(14),r=!1),yu(n.j,n.m,null,"[Incomplete Response]");break}if(i==yP){n.o=4,fr(15),yu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}yu(n.j,n.m,i,null),EP(n,i)}o7(n)&&i!=Fv&&i!=yP&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),DP(e),e.M=!0,fr(11))):(yu(n.j,n.m,t,"[Invalid Chunked Response]"),pl(n),ep(n))}function vAe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Fv:(t=Number(e.substring(t,r)),isNaN(t)?yP:(r+=1)+t>e.length?Fv:(e=e.slice(r,r+t),n.C=r+t,e))}function Jf(n){n.Y=Date.now()+n.P,l7(n,n.P)}function l7(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Qf(Qn(n.lb,n),e)}function Lv(n){n.B&&(ie.clearTimeout(n.B),n.B=null)}function ep(n){0==n.l.H||n.J||N7(n.l,n)}function pl(n){Lv(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,hP(n.V),Qq(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function EP(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||bP(t.i,n)))if(!n.K&&bP(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Qf(Qn(t.ib,t),6e3));else{if(t.g){if(!(t.g.G+3e3<n.G))break e;Wv(t),zv(t)}SP(t),fr(18)}if(1>=y7(t.i)&&t.oa){try{t.oa()}catch(c){}t.oa=void 0}}else ml(t,11)}else if((n.K||t.g==n)&&Wv(t),!Hf(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(wP(s,s.h),s.h=null))}if(r.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,ut(r.I,r.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=V7(r,r.J?r.pa:null,r.Y),o.K){v7(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Lv(a),Jf(a)),r.g=o}else P7(r);0<t.j.length&&Gv(t)}else"stop"!=c[0]&&"close"!=c[0]||ml(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ml(t,7):TP(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Yf()}catch(c){}}function c7(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Tv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function bAe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(Tv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function EAe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Tv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(N=Zf.prototype).setTimeout=function(n){this.P=n},N.nb=function(n){n=n.target;const e=this.M;e&&3==rs(n)?e.l():this.Pa(n)},N.Pa=function(n){try{if(n==this.g)e:{const u=rs(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||YM||this.g&&(this.h.h||this.g.ja()||D7(this.g)))){this.J||4!=u||7==e||Yf(),Lv(this);var t=this.g.da();this.ca=t;t:if(o7(this)){var r=D7(this.g);n="";var i=r.length,s=4==rs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){pl(this),ep(this);var o="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function gAe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hf(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,fr(12),pl(this),ep(this);break e}yu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,EP(this,t)}this.S?(a7(this,u,o),YM&&this.i&&3==u&&(Yq(this.U,this.V,"tick",this.mb),this.V.start())):(yu(this.j,this.m,o,null),EP(this,o)),4==u&&pl(this),this.i&&!this.J&&(4==u?N7(this.l,this):(this.i=!1,Jf(this)))}else(function BAe(n){const e={};n=(n.g&&2<=rs(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Hf(n[r]))continue;var t=uAe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function rAe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,fr(12)):(this.o=0,fr(13)),pl(this),ep(this)}}}catch(u){}},N.mb=function(){if(this.g){var n=rs(this.g),e=this.g.ja();this.C<e.length&&(Lv(this),a7(this,n,e),this.i&&4!=n&&Jf(this))}},N.cancel=function(){this.J=!0,pl(this)},N.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function mAe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yf(),fr(17)),pl(this),this.o=2,ep(this)):l7(this,this.Y-n)};var u7=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof gl){this.h=n.h,Vv(this,n.j),this.s=n.s,this.g=n.g,Bv(this,n.m),this.l=n.l;var e=n.i,t=new rp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),d7(this,t),this.o=n.o}else n&&(e=String(n).match(u7))?(this.h=!1,Vv(this,e[1]||"",!0),this.s=tp(e[2]||""),this.g=tp(e[3]||"",!0),Bv(this,e[4]),this.l=tp(e[5]||"",!0),d7(this,e[6]||"",!0),this.o=tp(e[7]||"")):(this.h=!1,this.i=new rp(null,this.h))}function Ys(n){return new gl(n)}function Vv(n,e,t){n.j=t?tp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Bv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function d7(n,e,t){e instanceof rp?(n.i=e,function AAe(n,e){e&&!n.j&&(jo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(f7(this,r),g7(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=np(e,SAe)),n.i=new rp(e,n.h))}function ut(n,e,t){n.i.set(e,t)}function Uv(n){return ut(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function tp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function np(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,IAe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function IAe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(np(e,h7,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(np(e,h7,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(np(t,"/"==t.charAt(0)?TAe:CAe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",np(t,DAe)),n.join("")};var h7=/[#\/\?@]/g,CAe=/[#\?:]/g,TAe=/[#\?]/g,SAe=/[#\?@]/g,DAe=/#/g;function rp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function jo(n){n.g||(n.g=new Map,n.h=0,n.i&&function wAe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function f7(n,e){jo(n),e=vu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function p7(n,e){return jo(n),e=vu(n,e),n.g.has(e)}function g7(n,e,t){f7(n,e),0<t.length&&(n.i=null,n.g.set(vu(n,e),qM(t)),n.h+=t.length)}function vu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function m7(n){this.l=n||kAe,n=ie.PerformanceNavigationTiming?0<(n=ie.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=rp.prototype).add=function(n,e){jo(this),this.i=null,n=vu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},N.forEach=function(n,e){jo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},N.ta=function(){jo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},N.Z=function(n){jo(this);let e=[];if("string"==typeof n)p7(this,n)&&(e=e.concat(this.g.get(vu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},N.set=function(n,e){return jo(this),this.i=null,p7(this,n=vu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},N.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var kAe=10;function _7(n){return!!n.h||!!n.g&&n.g.size>=n.j}function y7(n){return n.h?1:n.g?n.g.size:0}function bP(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function wP(n,e){n.g?n.g.add(e):n.h=e}function v7(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function E7(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return qM(n.i)}function MAe(){this.g=new class{stringify(n){return ie.JSON.stringify(n,void 0)}parse(n){return ie.JSON.parse(n,void 0)}}}function PAe(n,e,t){const r=t||"";try{c7(n,function(i,s){let o=i;$f(i)&&(o=uP(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function jv(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function ip(n){this.l=n.fc||null,this.j=n.ob||!1}function $v(n,e){En.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=IP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}m7.prototype.cancel=function(){if(this.i=E7(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ip.prototype.g=function(){return new $v(this.l,this.j)},ip.prototype.i=function(n){return function(){return n}}({});var IP=0;function b7(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function sp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,op(n)}function op(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(N=$v.prototype).open=function(n,e){if(this.readyState!=IP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,op(this)},N.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sp(this)),this.readyState=IP},N.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,op(this)),this.g&&(this.readyState=3,op(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==ie.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;b7(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?sp(this):op(this),3==this.readyState&&b7(this)}},N.Za=function(n){this.g&&(this.response=this.responseText=n,sp(this))},N.Ya=function(n){this.g&&(this.response=n,sp(this))},N.ka=function(){this.g&&sp(this)},N.setRequestHeader=function(n,e){this.v.append(n,e)},N.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var NAe=ie.JSON.parse;function Pt(n){En.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=w7,this.L=this.M=!1}var w7="",FAe=/^https?$/i,LAe=["POST","PUT"];function I7(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,C7(n),Hv(n)}function C7(n){n.F||(n.F=!0,Vn(n,"complete"),Vn(n,"error"))}function T7(n){if(n.h&&void 0!==GM&&(!n.C[1]||4!=rs(n)||2!=n.da()))if(n.v&&4==rs(n))fP(n.La,0,n);else if(Vn(n,"readystatechange"),4==rs(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(u7)[1]||null;!i&&ie.self&&ie.self.location&&(i=ie.self.location.protocol.slice(0,-1)),r=!FAe.test(i?i.toLowerCase():"")}t=r}if(t)Vn(n,"complete"),Vn(n,"success");else{n.m=6;try{var s=2<rs(n)?n.g.statusText:""}catch(a){s=""}n.j=s+" ["+n.da()+"]",C7(n)}}finally{Hv(n)}}}function Hv(n,e){if(n.g){S7(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Vn(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function S7(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ie.clearTimeout(n.A),n.A=null)}function rs(n){return n.g?n.g.readyState:0}function D7(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case w7:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function A7(n){let e="";return tP(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function CP(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=A7(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ut(n,e,t))}function ap(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function x7(n){this.Ga=0,this.j=[],this.l=new Mv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ap("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ap("baseRetryDelayMs",5e3,n),this.hb=ap("retryDelaySeedMs",1e4,n),this.eb=ap("forwardChannelMaxRetries",2,n),this.xa=ap("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new m7(n&&n.concurrentRequestLimit),this.Ja=new MAe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function TP(n){if(k7(n),3==n.H){var e=n.W++,t=Ys(n.I);if(ut(t,"SID",n.K),ut(t,"RID",e),ut(t,"TYPE","terminate"),lp(n,t),(e=new Zf(n,n.l,e)).L=2,e.v=Uv(Ys(t)),t=!1,ie.navigator&&ie.navigator.sendBeacon)try{t=ie.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!t&&ie.Image&&((new Image).src=e.v,t=!0),t||(e.g=B7(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Jf(e)}L7(n)}function zv(n){n.g&&(DP(n),n.g.cancel(),n.g=null)}function k7(n){zv(n),n.u&&(ie.clearTimeout(n.u),n.u=null),Wv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ie.clearTimeout(n.m),n.m=null)}function Gv(n){if(!_7(n.i)&&!n.m){n.m=!0;var e=n.Na;Wf||Wq(),qf||(Wf(),qf=!0),dP.add(e,n),n.C=0}}function R7(n,e){var t;t=e?e.m:n.W++;const r=Ys(n.I);ut(r,"SID",n.K),ut(r,"RID",t),ut(r,"AID",n.V),lp(n,r),n.o&&n.s&&CP(r,n.o,n.s),t=new Zf(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=M7(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),wP(n.i,t),vP(t,r,e)}function lp(n,e){n.na&&tP(n.na,function(t,r){ut(e,r,t)}),n.h&&c7({},function(t,r){ut(e,r,t)})}function M7(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Qn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{PAe(u,o,"req"+c+"_")}catch(d){r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function P7(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Wf||Wq(),qf||(Wf(),qf=!0),dP.add(e,n),n.A=0}}function SP(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Qf(Qn(n.Ma,n),F7(n,n.A)),n.A++,0))}function DP(n){null!=n.B&&(ie.clearTimeout(n.B),n.B=null)}function O7(n){n.g=new Zf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ys(n.wa);ut(e,"RID","rpc"),ut(e,"SID",n.K),ut(e,"AID",n.V),ut(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ut(e,"TO",n.qa),ut(e,"TYPE","xmlhttp"),lp(n,e),n.o&&n.s&&CP(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Uv(Ys(e)),t.s=null,t.S=!0,s7(t,n)}function Wv(n){null!=n.v&&(ie.clearTimeout(n.v),n.v=null)}function N7(n,e){var t=null;if(n.g==e){Wv(n),DP(n),n.g=null;var r=2}else{if(!bP(n.i,e))return;t=e.F,v7(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Vn(r=Pv(),new e7(r,t)),Gv(n)}else P7(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function UAe(n,e){return!(y7(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Qf(Qn(n.Na,n,e),F7(n,n.C)),n.C++,0)))}(n,e)||2==r&&SP(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ml(n,5);break;case 4:ml(n,10);break;case 3:ml(n,6);break;default:ml(n,2)}}function F7(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ml(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Qn(n.pb,n);t||(t=new gl("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||Vv(t,"https"),Uv(t)),function OAe(n,e){const t=new Mv;if(ie.Image){const r=new Image;r.onload=Sv(jv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Sv(jv,t,r,"TestLoadImage: error",!1,e),r.onabort=Sv(jv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sv(jv,t,r,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else fr(2);n.H=0,n.h&&n.h.za(e),L7(n),k7(n)}function L7(n){if(n.H=0,n.ma=[],n.h){const e=E7(n.i);(0!=e.length||0!=n.j.length)&&(Mq(n.ma,e),Mq(n.ma,n.j),n.i.i.length=0,qM(n.j),n.j.length=0),n.h.ya()}}function V7(n,e,t){var r=t instanceof gl?Ys(t):new gl(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Bv(r,r.m);else{var i=ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new gl(null);r&&Vv(s,r),e&&(s.g=e),i&&Bv(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&ut(r,t,e),ut(r,"VER",n.ra),lp(n,r),r}function B7(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pt(t&&n.Ha&&!n.va?new ip({ob:!0}):n.va)).Oa(n.J),e}function qv(){if(_u&&!(10<=Number(JDe)))throw Error("Environmental error: no available transport.")}function jr(n,e){En.call(this),this.g=new x7(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Hf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Eu(this)}function j7(n){gP.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function $7(){mP.call(this),this.status=1}function Eu(n){this.g=n}function Ai(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function AP(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function ze(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(N=Pt.prototype).Oa=function(n){this.M=n},N.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_P.g(),this.C=function n7(n){return n.h||(n.h=n.i())}(this.u?this.u:_P),this.g.onreadystatechange=Qn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void I7(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=ie.FormData&&n instanceof ie.FormData,!(0<=Rq(LAe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{S7(this),0<this.B&&((this.L=function VAe(n){return _u&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qn(this.ua,this)):this.A=fP(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){I7(this,s)}},N.ua=function(){void 0!==GM&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vn(this,"timeout"),this.abort(8))},N.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vn(this,"complete"),Vn(this,"abort"),Hv(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hv(this,!0)),Pt.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?T7(this):this.kb())},N.kb=function(){T7(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<rs(this)?this.g.status:-1}catch(n){return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},N.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),NAe(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=x7.prototype).ra=8,N.H=1,N.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Zf(this,this.l,n);let s=this.s;if(this.U&&(s?(s=Lq(s),Bq(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=M7(this,i,e),ut(t=Ys(this.I),"RID",n),ut(t,"CVER",22),this.F&&ut(t,"X-HTTP-Session-Id",this.F),lp(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(A7(s)))+"&"+e:this.o&&CP(t,this.o,s)),wP(this.i,i),this.bb&&ut(t,"TYPE","init"),this.P?(ut(t,"$req",e),ut(t,"SID","null"),i.aa=!0,vP(i,t,null)):vP(i,t,e),this.H=2}}else 3==this.H&&(n?R7(this,n):0==this.j.length||_7(this.i)||R7(this))},N.Ma=function(){if(this.u=null,O7(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Qf(Qn(this.jb,this),n)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fr(10),zv(this),O7(this))},N.ib=function(){null!=this.v&&(this.v=null,zv(this),SP(this),fr(19))},N.pb=function(n){n?(this.l.info("Successfully pinged google.com"),fr(2)):(this.l.info("Failed to ping google.com"),fr(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=function U7(){}.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},qv.prototype.g=function(n,e){return new jr(n,e)},jr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;fr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=V7(n,null,n.Y),Gv(n)},jr.prototype.close=function(){TP(this.g)},jr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=uP(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Gv(e)},jr.prototype.N=function(){this.g.h=null,delete this.j,TP(this.g),delete this.g,jr.$.N.call(this)},Eu.prototype.Ba=function(){Vn(this.g,"a")},Eu.prototype.Aa=function(n){Vn(this.g,new j7(n))},Eu.prototype.za=function(n){Vn(this.g,new $7)},Eu.prototype.ya=function(){Vn(this.g,"b")},Ai.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ai.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)AP(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){AP(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){AP(this,r),i=0;break}}this.h=i,this.i+=e},Ai.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var $Ae={};function xP(n){return-128<=n&&128>n?function QDe(n,e){var t=$Ae;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ze([0|e],0>e?-1:0)}):new ze([0|n],0>n?-1:0)}function is(n){if(isNaN(n)||!isFinite(n))return bu;if(0>n)return Bn(is(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=kP;return new ze(e,0)}var kP=4294967296,bu=xP(0),RP=xP(1),z7=xP(16777216);function Qs(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ui(n){return-1==n.h}function Bn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new ze(t,~n.h).add(RP)}function Kv(n,e){return n.add(Bn(e))}function Yv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function cp(n,e){this.g=n,this.h=e}function Qv(n,e){if(Qs(e))throw Error("division by zero");if(Qs(n))return new cp(bu,bu);if(ui(n))return e=Qv(Bn(n),e),new cp(Bn(e.g),Bn(e.h));if(ui(e))return e=Qv(n,Bn(e)),new cp(Bn(e.g),e.h);if(30<n.g.length){if(ui(n)||ui(e))throw Error("slowDivide_ only works with positive integers.");for(var t=RP,r=e;0>=r.X(n);)t=G7(t),r=G7(r);var i=wu(t,1),s=wu(r,1);for(r=wu(r,2),t=wu(t,2);!Qs(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=wu(r,1),t=wu(t,1)}return e=Kv(n,i.R(e)),new cp(i,e)}for(i=bu;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=is(t)).R(e);ui(o)||0<o.X(n);)o=(s=is(t-=r)).R(e);Qs(s)&&(s=RP),i=i.add(s),n=Kv(n,o)}return new cp(i,n)}function G7(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new ze(t,n.h)}function wu(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new ze(i,n.h)}(N=ze.prototype).ea=function(){if(ui(this))return-Bn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:kP+r)*e,e*=kP}return n},N.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Qs(this))return"0";if(ui(this))return"-"+Bn(this).toString(n);for(var e=is(Math.pow(n,6)),t=this,r="";;){var i=Qv(t,e).g,s=((0<(t=Kv(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Qs(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},N.X=function(n){return ui(n=Kv(this,n))?-1:Qs(n)?0:1},N.abs=function(){return ui(this)?Bn(this):this},N.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new ze(t,-2147483648&t[t.length-1]?-1:0)},N.R=function(n){if(Qs(this)||Qs(n))return bu;if(ui(this))return ui(n)?Bn(this).R(Bn(n)):Bn(Bn(this).R(n));if(ui(n))return Bn(this.R(Bn(n)));if(0>this.X(z7)&&0>n.X(z7))return is(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,Yv(t,2*r+2*i),t[2*r+2*i+1]+=s*l,Yv(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Yv(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Yv(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new ze(t,0)},N.gb=function(n){return Qv(this,n).h},N.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new ze(t,this.h&n.h)},N.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new ze(t,this.h|n.h)},N.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new ze(t,this.h^n.h)},qv.prototype.createWebChannel=qv.prototype.g,jr.prototype.send=jr.prototype.u,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,Ov.NO_ERROR=0,Ov.TIMEOUT=8,Ov.HTTP_ERROR=6,t7.COMPLETE="complete",r7.EventType=Xf,Xf.OPEN="a",Xf.CLOSE="b",Xf.ERROR="c",Xf.MESSAGE="d",En.prototype.listen=En.prototype.O,Pt.prototype.listenOnce=Pt.prototype.P,Pt.prototype.getLastError=Pt.prototype.Sa,Pt.prototype.getLastErrorCode=Pt.prototype.Ia,Pt.prototype.getStatus=Pt.prototype.da,Pt.prototype.getResponseJson=Pt.prototype.Wa,Pt.prototype.getResponseText=Pt.prototype.ja,Pt.prototype.send=Pt.prototype.ha,Pt.prototype.setWithCredentials=Pt.prototype.Oa,Ai.prototype.digest=Ai.prototype.l,Ai.prototype.reset=Ai.prototype.reset,Ai.prototype.update=Ai.prototype.j,ze.prototype.add=ze.prototype.add,ze.prototype.multiply=ze.prototype.R,ze.prototype.modulo=ze.prototype.gb,ze.prototype.compare=ze.prototype.X,ze.prototype.toNumber=ze.prototype.ea,ze.prototype.toString=ze.prototype.toString,ze.prototype.getBits=ze.prototype.D,ze.fromNumber=is,ze.fromString=function H7(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Bn(H7(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=is(Math.pow(e,8)),r=bu,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=is(Math.pow(e,s)),r=r.R(s).add(is(o))):r=(r=r.R(t)).add(is(o))}return r};var HAe=Di.createWebChannelTransport=function(){return new qv},zAe=Di.getStatEventTarget=function(){return Pv()},MP=Di.ErrorCode=Ov,GAe=Di.EventType=t7,WAe=Di.Event=fl,W7=Di.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},qAe=Di.FetchXmlHttpFactory=ip,Xv=Di.WebChannel=r7,KAe=Di.XhrIo=Pt,YAe=Di.Md5=Ai,Iu=Di.Integer=ze;class bn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let Cu="9.23.0";const $o=new Ka("@firebase/firestore");function PP(){return $o.logLevel}function D(n,...e){if($o.logLevel<=J.DEBUG){const t=e.map(OP);$o.debug(`Firestore (${Cu}): ${n}`,...t)}}function Ut(n,...e){if($o.logLevel<=J.ERROR){const t=e.map(OP);$o.error(`Firestore (${Cu}): ${n}`,...t)}}function xi(n,...e){if($o.logLevel<=J.WARN){const t=e.map(OP);$o.warn(`Firestore (${Cu}): ${n}`,...t)}}function OP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function j(n="Unexpected state"){const e=`FIRESTORE (${Cu}) INTERNAL ASSERTION FAILED: `+n;throw Ut(e),new Error(e)}function z(n,e){n||j()}function P(n,e){return n}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends si{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ln{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class K7{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QAe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bn.UNAUTHENTICATED))}shutdown(){}}class XAe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class JAe{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class exe{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new JAe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function nxe(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Q7{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nxe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function ne(n,e){return n<e?-1:n>e?1:0}function Tu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Ct{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ct(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new Ct(0,0))}static max(){return new G(new Ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class up{constructor(e,t,r){void 0===t?t=0:t>e.length&&j(),void 0===r?r=e.length-t:r>e.length-t&&j(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===up.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof up?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Me extends up{construct(e,t,r){return new Me(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Me(t)}static emptyPath(){return new Me([])}}const rxe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends up{construct(e,t,r){return new jt(e,t,r)}static isValidIdentifier(e){return rxe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new T(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(Me.fromString(e))}static fromName(e){return new M(Me.fromString(e).popFirst(5))}static empty(){return new M(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Me.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Me.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new Me(e.slice()))}}function J7(n){return new $r(n.readTime,n.key,-1)}class $r{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new $r(G.min(),M.empty(),-1)}static max(){return new $r(G.max(),M.empty(),-1)}}function FP(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=M.comparator(n.documentKey,e.documentKey),0!==t?t:ne(n.largestBatchId,e.largestBatchId))}const e6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Ho(n){return LP.apply(this,arguments)}function LP(){return LP=g(function*(n){if(n.code!==I.FAILED_PRECONDITION||n.message!==e6)throw n;D("LocalStore","Unexpectedly lost primary lease")}),LP.apply(this,arguments)}class E{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&j(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new E((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof E?t:E.resolve(t)}catch(t){return E.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):E.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):E.reject(t)}static resolve(e){return new E((t,r)=>{t(e)})}static reject(e){return new E((t,r)=>{r(e)})}static waitFor(e){return new E((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=E.resolve(!1);for(const r of e)t=t.next(i=>i?E.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new E((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new E((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function zo(n){return"IndexedDbTransactionError"===n.name}let Hr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function fp(n){return null==n}function pp(n){return 0===n&&1/n==-1/0}function c6(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Go(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function u6(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class nt{constructor(e,t){this.comparator=e,this.root=t||Un.EMPTY}insert(e,t){return new nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nE(this.root,e,this.comparator,!1)}getReverseIterator(){return new nE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nE(this.root,e,this.comparator,!0)}}class nE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Un{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:Un.RED,this.left=null!=i?i:Un.EMPTY,this.right=null!=s?s:Un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Un(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Un.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw j();const e=this.left.check();if(e!==this.right.check())throw j();return e+(this.isRed()?0:1)}}Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1,Un.EMPTY=new class{constructor(){this.size=0}get key(){throw j()}get value(){throw j()}get color(){throw j()}get left(){throw j()}get right(){throw j()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Un(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class dt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new d6(this.data.getIterator())}getIteratorFrom(e){return new d6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new dt(this.comparator);return t.data=e,t}}class d6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cr{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new Cr([])}unionWith(e){let t=new dt(jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Cr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Tu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class h6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw"undefined"!=typeof DOMException&&i instanceof DOMException?new h6("Invalid base64 string: "+i):i}}(e);return new cn(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new cn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const xxe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wo(n){if(z(!!n),"string"==typeof n){let e=0;const t=xxe.exec(n);if(z(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Xs(n){return"string"==typeof n?cn.fromBase64String(n):cn.fromUint8Array(n)}function rE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function iE(n){const e=n.mapValue.fields.__previous_value__;return rE(e)?iE(e):e}function gp(n){const e=Wo(n.mapValue.fields.__local_write_time__.timestampValue);return new Ct(e.seconds,e.nanos)}class kxe{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class vl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}const qo_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Ko(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rE(n)?4:m6(n)?9007199254740991:10:j()}function os(n,e){if(n===e)return!0;const t=Ko(n);if(t!==Ko(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gp(n).isEqual(gp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Wo(r.timestampValue),o=Wo(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Xs(n.bytesValue).isEqual(Xs(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ot(r.geoPointValue.latitude)===Ot(i.geoPointValue.latitude)&&Ot(r.geoPointValue.longitude)===Ot(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ot(r.integerValue)===Ot(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ot(r.doubleValue),o=Ot(i.doubleValue);return s===o?pp(s)===pp(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return Tu(n.arrayValue.values||[],e.arrayValue.values||[],os);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(c6(s)!==c6(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!os(s[a],o[a])))return!1;return!0}(n,e);default:return j()}var i}function mp(n,e){return void 0!==(n.values||[]).find(t=>os(t,e))}function Yo(n,e){if(n===e)return 0;const t=Ko(n),r=Ko(e);if(t!==r)return ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ne(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ot(i.integerValue||i.doubleValue),a=Ot(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return f6(n.timestampValue,e.timestampValue);case 4:return f6(gp(n),gp(e));case 5:return ne(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Xs(i),a=Xs(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=ne(o[l],a[l]);if(0!==c)return c}return ne(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ne(Ot(i.latitude),Ot(s.latitude));return 0!==o?o:ne(Ot(i.longitude),Ot(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Yo(o[l],a[l]);if(c)return c}return ne(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===qo_mapValue&&s===qo_mapValue)return 0;if(i===qo_mapValue)return 1;if(s===qo_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=ne(a[u],c[u]);if(0!==d)return d;const h=Yo(o[a[u]],l[c[u]]);if(0!==h)return h}return ne(a.length,c.length)}(n.mapValue,e.mapValue);default:throw j()}}function f6(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ne(n,e);const t=Wo(n),r=Wo(e),i=ne(t.seconds,r.seconds);return 0!==i?i:ne(t.nanos,r.nanos)}function Du(n){return UP(n)}function UP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Wo(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Xs(n.bytesValue).toBase64():"referenceValue"in n?M.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=UP(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${UP(r.fields[a])}`;return s+"}"}(n.mapValue):j();var e}function jP(n){return!!n&&"integerValue"in n}function _p(n){return!!n&&"arrayValue"in n}function p6(n){return!!n&&"nullValue"in n}function g6(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function aE(n){return!!n&&"mapValue"in n}function yp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Go(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function m6(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!aE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yp(t)}setAll(e){let t=jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=yp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());aE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return os(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];aE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Go(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new jn(yp(this.value))}}function v6(n){const e=[];return Go(n.fields,(t,r)=>{const i=new jt([t]);if(aE(r)){const s=v6(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Cr(e)}class ht{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ht(e,0,G.min(),G.min(),G.min(),jn.empty(),0)}static newFoundDocument(e,t,r,i){return new ht(e,1,t,G.min(),r,i,0)}static newNoDocument(e,t){return new ht(e,2,t,G.min(),G.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new ht(e,3,t,G.min(),G.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(G.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qo{constructor(e,t){this.position=e,this.inclusive=t}}function E6(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),t.key):Yo(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function b6(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!os(n.position[t],e.position[t]))return!1;return!0}class Au{constructor(e,t="asc"){this.field=e,this.dir=t}}function Pxe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class w6{}class Ce extends w6{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Oxe(e,t,r):"array-contains"===t?new Lxe(e,r):"in"===t?new A6(e,r):"not-in"===t?new Vxe(e,r):"array-contains-any"===t?new Bxe(e,r):new Ce(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Nxe(e,r):new Fxe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yo(t,this.value)):null!==t&&Ko(this.value)===Ko(t)&&this.matchesComparison(Yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return j()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ge extends w6{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ge(e,t)}matches(e){return xu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function xu(n){return"and"===n.op}function HP(n){return function I6(n){for(const e of n.filters)if(e instanceof Ge)return!1;return!0}(n)&&xu(n)}function zP(n){if(n instanceof Ce)return n.field.canonicalString()+n.op.toString()+Du(n.value);if(HP(n))return n.filters.map(e=>zP(e)).join(",");{const e=n.filters.map(t=>zP(t)).join(",");return`${n.op}(${e})`}}function C6(n,e){return n instanceof Ce?(t=n,(r=e)instanceof Ce&&t.op===r.op&&t.field.isEqual(r.field)&&os(t.value,r.value)):n instanceof Ge?function(t,r){return r instanceof Ge&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&C6(s,r.filters[o]),!0)}(n,e):void j();var t,r}function S6(n){return n instanceof Ce?function(e){return`${e.field.canonicalString()} ${e.op} ${Du(e.value)}`}(n):n instanceof Ge?function(e){return e.op.toString()+" {"+e.getFilters().map(S6).join(" ,")+"}"}(n):"Filter"}class Oxe extends Ce{constructor(e,t,r){super(e,t,r),this.key=M.fromName(r.referenceValue)}matches(e){const t=M.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nxe extends Ce{constructor(e,t){super(e,"in",t),this.keys=D6(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Fxe extends Ce{constructor(e,t){super(e,"not-in",t),this.keys=D6(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function D6(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>M.fromName(r.referenceValue))}class Lxe extends Ce{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _p(t)&&mp(t.arrayValue,this.value)}}class A6 extends Ce{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&mp(this.value.arrayValue,t)}}class Vxe extends Ce{constructor(e,t){super(e,"not-in",t)}matches(e){if(mp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!mp(this.value.arrayValue,t)}}class Bxe extends Ce{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_p(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>mp(this.value.arrayValue,r))}}class Uxe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function GP(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Uxe(n,e,t,r,i,s,o)}function bl(n){const e=P(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zP(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),fp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Du(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Du(r)).join(",")),e.dt=t}return e.dt}function vp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Pxe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!C6(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!b6(n.startAt,e.startAt)&&b6(n.endAt,e.endAt)}function lE(n){return M.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Zs{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null}}function ku(n){return new Zs(n)}function M6(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wl(n){const e=P(n);if(null===e.wt){e.wt=[];const t=function uE(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function WP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Au(t)),e.wt.push(new Au(jt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Au(jt.keyField(),s))}}}return e.wt}function pr(n){const e=P(n);if(!e._t)if("F"===e.limitType)e._t=GP(e.path,e.collectionGroup,wl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of wl(e))t.push(new Au(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Qo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Qo(e.startAt.position,e.startAt.inclusive):null;e._t=GP(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function dE(n,e,t){return new Zs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ep(n,e){return vp(pr(n),pr(e))&&n.limitType===e.limitType}function P6(n){return`${bl(pr(n))}|lt:${n.limitType}`}function YP(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>S6(r)).join(", ")}]`),fp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Du(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Du(r)).join(",")),`Target(${t})`}(pr(n))}; limitType=${n.limitType})`}function bp(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):M.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of wl(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=E6(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,wl(t),r)||t.endAt&&!function(i,s,o){const a=E6(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,wl(t),r)));var t,r}function N6(n){return(e,t)=>{let r=!1;for(const i of wl(n)){const s=jxe(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function jxe(n,e,t){const r=n.field.isKeyField()?M.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?Yo(a,l):j()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return j()}}class Js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Go(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return u6(this.inner)}size(){return this.innerSize}}const $xe=new nt(M.comparator);function Tr(){return $xe}const F6=new nt(M.comparator);function wp(...n){let e=F6;for(const t of n)e=e.insert(t.key,t);return e}function L6(n){let e=F6;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function as(){return Ip()}function V6(){return Ip()}function Ip(){return new Js(n=>n.toString(),(n,e)=>n.isEqual(e))}const Hxe=new nt(M.comparator),zxe=new dt(M.comparator);function he(...n){let e=zxe;for(const t of n)e=e.add(t);return e}const Gxe=new dt(ne);function B6(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pp(e)?"-0":e}}function U6(n){return{integerValue:""+n}}function j6(n,e){return function n6(n){return"number"==typeof n&&Number.isInteger(n)&&!pp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?U6(e):B6(n,e)}class hE{constructor(){this._=void 0}}function Wxe(n,e,t){return n instanceof Ru?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&rE(i)&&(i=iE(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Il?H6(n,e):n instanceof Cl?z6(n,e):function(r,i){const s=$6(r,i),o=G6(s)+G6(r.gt);return jP(s)&&jP(r.gt)?U6(o):B6(r.serializer,o)}(n,e)}function qxe(n,e,t){return n instanceof Il?H6(n,e):n instanceof Cl?z6(n,e):t}function $6(n,e){return n instanceof Mu?jP(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ru extends hE{}class Il extends hE{constructor(e){super(),this.elements=e}}function H6(n,e){const t=W6(e);for(const r of n.elements)t.some(i=>os(i,r))||t.push(r);return{arrayValue:{values:t}}}class Cl extends hE{constructor(e){super(),this.elements=e}}function z6(n,e){let t=W6(e);for(const r of n.elements)t=t.filter(i=>!os(i,r));return{arrayValue:{values:t}}}class Mu extends hE{constructor(e,t){super(),this.serializer=e,this.gt=t}}function G6(n){return Ot(n.integerValue||n.doubleValue)}function W6(n){return _p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yxe{constructor(e,t){this.version=e,this.transformResults=t}}class yt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yt}static exists(e){return new yt(void 0,e)}static updateTime(e){return new yt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class pE{}function q6(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ou(n.key,yt.none()):new Pu(n.key,n.data,yt.none());{const t=n.data,r=jn.empty();let i=new dt(jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new eo(n.key,r,new Cr(i.toArray()),yt.none())}}function Qxe(n,e,t){n instanceof Pu?function(r,i,s){const o=r.value.clone(),a=Q6(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof eo?function(r,i,s){if(!fE(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Q6(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Y6(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tp(n,e,t,r){return n instanceof Pu?function(i,s,o,a){if(!fE(i.precondition,s))return o;const l=i.value.clone(),c=X6(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof eo?function(i,s,o,a){if(!fE(i.precondition,s))return o;const l=X6(i.fieldTransforms,a,s),c=s.data;return c.setAll(Y6(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,fE(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Xxe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=$6(r.transform,i||null);null!=s&&(null===t&&(t=jn.empty()),t.set(r.field,s))}return t||null}function K6(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Tu(t,r,(i,s)=>function Kxe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Il&&r instanceof Il||t instanceof Cl&&r instanceof Cl?Tu(t.elements,r.elements,os):t instanceof Mu&&r instanceof Mu?os(t.gt,r.gt):t instanceof Ru&&r instanceof Ru);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Pu extends pE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class eo extends pE{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Y6(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Q6(n,e,t){const r=new Map;z(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,qxe(o,a,t[i]))}return r}function X6(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Wxe(s,o,e))}return r}class Ou extends pE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XP extends pE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZP{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Qxe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Tp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Tp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=V6();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=q6(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&Tu(this.mutations,e.mutations,(t,r)=>K6(t,r))&&Tu(this.baseMutations,e.baseMutations,(t,r)=>K6(t,r))}}class JP{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){z(e.mutations.length===r.length);let i=Hxe;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new JP(e,t,r,i)}}class eO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jxe{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zt,Pe;function Z6(n){switch(n){default:return j();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}function J6(n){if(void 0===n)return Ut("GRPC error has no .code"),I.UNKNOWN;switch(n){case Zt.OK:return I.OK;case Zt.CANCELLED:return I.CANCELLED;case Zt.UNKNOWN:return I.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return I.INTERNAL;case Zt.UNAVAILABLE:return I.UNAVAILABLE;case Zt.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Zt.NOT_FOUND:return I.NOT_FOUND;case Zt.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Zt.ABORTED:return I.ABORTED;case Zt.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Zt.DATA_LOSS:return I.DATA_LOSS;default:return j()}}(Pe=Zt||(Zt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";class tO{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return gE}static getOrCreateInstance(){return null===gE&&(gE=new tO),gE}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let gE=null;const eke=new Iu([4294967295,4294967295],0);function t8(n){const e=function e8(){return new TextEncoder}().encode(n),t=new YAe;return t.update(e),new Uint8Array(t.digest())}function n8(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Iu([t,r],0),new Iu([i,s],0)]}class nO{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Sp(`Invalid padding: ${t}`);if(r<0)throw new Sp(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Sp(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Sp(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Iu.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Iu.fromNumber(r)));return 1===i.compare(eke)&&(i=new Iu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=t8(e),[r,i]=n8(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new nO(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=t8(e),[r,i]=n8(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Sp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dp{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Ap.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Dp(G.min(),i,new nt(ne),Tr(),he())}}class Ap{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ap(r,t,he(),he(),he())}}class mE{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class r8{constructor(e,t){this.targetId=e,this.Vt=t}}class i8{constructor(e,t,r=cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class s8{constructor(){this.St=0,this.Dt=a8(),this.Ct=cn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=he(),t=he(),r=he();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:j()}}),new Ap(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=a8()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class tke{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Tr(),this.zt=o8(),this.Wt=new nt(ne)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:j()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(lE(o))if(0===i){const a=new M(o.path);this.Yt(r,a,ht.newNoDocument(a,G.min()))}else z(1===i);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);0!==l&&(this.ee(r),this.Wt=this.Wt.insert(r,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=tO.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,u,d){var h,f,p,m,_,v;const y={localCacheCount:u,existenceFilterCount:d.count},C=d.unchangedNames;return C&&(y.bloomFilter={applied:0===c,hashCount:null!==(h=null==C?void 0:C.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(m=null===(p=null===(f=null==C?void 0:C.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==m?m:0,padding:null!==(v=null===(_=null==C?void 0:C.bits)||void 0===_?void 0:_.padding)&&void 0!==v?v:0}),y}(l,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=Xs(s).toUint8Array()}catch(u){if(u instanceof h6)return xi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new nO(l,o,a)}catch(u){return xi(u instanceof Sp?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&lE(a.target)){const l=new M(a.target.path);null!==this.jt.get(l)||this.ae(o,l)||this.Yt(o,l,ht.newNoDocument(l,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=he();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Dp(e,t,this.Wt,this.jt,r);return this.jt=Tr(),this.zt=o8(),this.Wt=new nt(ne),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new s8,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new dt(ne),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||D("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new s8),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function o8(){return new nt(M.comparator)}function a8(){return new nt(M.comparator)}const nke=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),rke=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),ike=(()=>({and:"AND",or:"OR"}))();class ske{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function rO(n,e){return n.useProto3Json||fp(e)?e:{value:e}}function Nu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l8(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function oke(n,e){return Nu(n,e.toTimestamp())}function $t(n){return z(!!n),G.fromTimestamp(function(e){const t=Wo(e);return new Ct(t.seconds,t.nanos)}(n))}function iO(n,e){return(t=n,new Me(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function c8(n){const e=Me.fromString(n);return z(y8(e)),e}function xp(n,e){return iO(n.databaseId,e.path)}function ls(n,e){const t=c8(e);if(t.get(1)!==n.databaseId.projectId)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new M(d8(t))}function sO(n,e){return iO(n.databaseId,e)}function kp(n){return new Me(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function d8(n){return z(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function h8(n,e,t){return{name:xp(n,e),fields:t.value.mapValue.fields}}function p8(n,e){return{documents:[sO(n,e.path)]}}function aO(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=sO(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sO(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return _8(Ge.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:Xo((u=c).field),direction:dke(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=rO(n,e.limit);var a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function g8(n){let e=function u8(n){const e=c8(n);return 4===e.length?Me.emptyPath():d8(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){z(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const d=m8(u);return d instanceof Ge&&HP(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Au(Fu((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,fp(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new Qo((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new Qo(u.values||[],!u.before)}(t.endAt)),function R6(n,e,t,r,i,s,o,a){return new Zs(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function m8(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Fu(e.unaryFilter.field);return Ce.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Fu(e.unaryFilter.field);return Ce.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fu(e.unaryFilter.field);return Ce.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Fu(e.unaryFilter.field);return Ce.create(s,"!=",{nullValue:"NULL_VALUE"});default:return j()}}(n):void 0!==n.fieldFilter?function(e){return Ce.create(Fu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return j()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):void 0!==n.compositeFilter?function(e){return Ge.create(e.compositeFilter.filters.map(t=>m8(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return j()}}(e.compositeFilter.op))}(n):j()}function dke(n){return nke[n]}function hke(n){return rke[n]}function fke(n){return ike[n]}function Xo(n){return{fieldPath:n.canonicalString()}}function Fu(n){return jt.fromServerFormat(n.fieldPath)}function _8(n){return n instanceof Ce?function(e){if("=="===e.op){if(g6(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NAN"}};if(p6(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(g6(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NOT_NAN"}};if(p6(e.value))return{unaryFilter:{field:Xo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(e.field),op:hke(e.op),value:e.value}}}(n):n instanceof Ge?function(e){const t=e.getFilters().map(r=>_8(r));return 1===t.length?t[0]:{compositeFilter:{op:fke(e.op),filters:t}}}(n):j()}function pke(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function y8(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class to{constructor(e,t,r,i,s=G.min(),o=G.min(),a=cn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new to(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class v8{constructor(e){this.fe=e}}function lO(n){const e=g8({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?dE(e,e.limit,"L"):e}class Al{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ot(e.integerValue));else if("doubleValue"in e){const r=Ot(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),pp(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Xs(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?m6(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):j()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),M.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Al.Ve=new Al;class Ike{constructor(){this.rn=new pO}addToCollectionParentIndex(e,t){return this.rn.add(t),E.resolve()}getCollectionParents(e,t){return E.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return E.resolve()}deleteFieldIndex(e,t){return E.resolve()}getDocumentsMatchingTarget(e,t){return E.resolve(null)}getIndexType(e,t){return E.resolve(0)}getFieldIndexes(e,t){return E.resolve([])}getNextCollectionGroupToUpdate(e){return E.resolve(null)}getMinOffset(e,t){return E.resolve($r.min())}getMinOffsetFromCollectionGroup(e,t){return E.resolve($r.min())}updateCollectionGroup(e,t,r){return E.resolve()}updateIndexEntries(e,t){return E.resolve()}}class pO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new dt(Me.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Me.comparator)).toArray()}}class Jn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Jn(e,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(41943040,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);class kl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new kl(0)}static Mn(){return new kl(-1)}}class Mke{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class G8{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Tp(r.mutation,i,Cr.empty(),Ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){const i=as();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=wp();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=as();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Tr();const o=Ip(),a=Ip();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof eo)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),Tp(u.mutation,c,u.mutation.getFieldMask(),Ct.now())):o.set(c.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new Mke(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Ip();let i=new nt((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||Cr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||he()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=V6();u.forEach(h=>{if(!s.has(h)){const f=q6(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return M.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function qP(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):E.resolve(as());let a=-1,l=s;return o.next(c=>E.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?E.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,he())).next(u=>({batchId:a,changes:L6(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new M(t)).next(r=>{let i=wp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=wp();return this.indexManager.getCollectionParents(e,i).next(o=>E.forEach(o,a=>{const l=(c=t,u=a.child(i),new Zs(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,ht.newInvalidDocument(c)))});let o=wp();return s.forEach((a,l)=>{const c=i.get(a);void 0!==c&&Tp(c.mutation,l,Cr.empty(),Ct.now()),bp(t,l)&&(o=o.insert(a,l))}),o})}}class Pke{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return E.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:$t(r.createTime)}),E.resolve()}getNamedQuery(e,t){return E.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:lO(r.bundledQuery),readTime:$t(r.readTime)}),E.resolve();var r}}class Oke{constructor(){this.overlays=new nt(M.comparator),this.ls=new Map}getOverlay(e,t){return E.resolve(this.overlays.get(t))}getOverlays(e,t){const r=as();return E.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),E.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),E.resolve()}getOverlaysForCollection(e,t,r){const i=as(),s=t.length+1,o=new M(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return E.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new nt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=as(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=as(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return E.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eO(t,r));let s=this.ls.get(t);void 0===s&&(s=he(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class gO{constructor(){this.fs=new dt(In.ds),this.ws=new dt(In._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new In(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new In(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new M(new Me([])),r=new In(t,e),i=new In(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new M(new Me([])),r=new In(t,e),i=new In(t,e+1);let s=he();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new In(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class In{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return M.comparator(e.key,t.key)||ne(e.As,t.As)}static _s(e,t){return ne(e.As,t.As)||M.comparator(e.key,t.key)}}class Nke{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new dt(In.ds)}checkEmpty(e){return E.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new ZP(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new In(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(e,t){return E.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return E.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new In(t,0),i=new In(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),E.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new dt(ne);return t.forEach(i=>{const s=new In(i,0),o=new In(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),E.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new In(new M(s),0);let a=new dt(ne);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),E.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){z(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return E.forEach(t.mutations,i=>{const s=new In(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new In(t,0),i=this.Rs.firstAfterOrEqual(r);return E.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return E.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Fke{constructor(e){this.Ds=e,this.docs=new nt(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return E.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(t))}getEntries(e,t){let r=Tr();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ht.newInvalidDocument(i))}),E.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Tr();const o=t.path,a=new M(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||FP(J7(u),r)<=0||(i.has(u.key)||bp(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return E.resolve(s)}getAllFromCollectionGroup(e,t,r,i){j()}Cs(e,t){return E.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Lke(this)}getSize(e){return E.resolve(this.size)}}class Lke extends class xke{constructor(){this.changes=new Js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?E.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),E.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Vke{constructor(e){this.persistence=e,this.xs=new Js(t=>bl(t),vp),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Ns=0,this.ks=new gO,this.targetCount=0,this.Ms=kl.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),E.resolve()}getLastRemoteSnapshotVersion(e){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return E.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),E.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new kl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,E.resolve()}updateTargetData(e,t){return this.Fn(t),E.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,E.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),E.waitFor(s).next(()=>i)}getTargetCount(e){return E.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return E.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),E.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),E.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),E.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return E.resolve(r)}containsKey(e,t){return E.resolve(this.ks.containsKey(t))}}class mO{constructor(e,t){this.$s={},this.overlays={},this.Os=new Hr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Vke(this),this.indexManager=new Ike,this.remoteDocumentCache=new Fke(r=>this.referenceDelegate.Ls(r)),this.serializer=new v8(t),this.qs=new Pke(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Oke,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Nke(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){D("MemoryPersistence","Starting transaction:",e);const i=new Bke(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return E.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Bke extends class oxe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class TE{constructor(e){this.persistence=e,this.Qs=new gO,this.js=null}static zs(e){return new TE(e)}get Ws(){if(this.js)return this.js;throw j()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),E.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),E.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),E.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,G.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return E.or([()=>E.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class EO{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=he(),i=he();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new EO(e,t.fromCache,r,i)}}class q8{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(M6(t))return E.resolve(null);let r=pr(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=dE(t,null,"F"),r=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=he(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(t,a);return this.zi(t,c,o,l.readTime)?this.Ki(e,dE(t,null,"F")):this.Wi(e,c,t,l)}))})))}Gi(e,t,r,i){return M6(t)||i.isEqual(G.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(PP()<=J.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),YP(t)),this.Wi(e,o,t,function Z7(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=G.fromTimestamp(1e9===r?new Ct(t+1,0):new Ct(t,r));return new $r(i,M.empty(),e)}(i,-1)))})}ji(e,t){let r=new dt(N6(e));return t.forEach((i,s)=>{bp(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return PP()<=J.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",YP(t)),this.Ui.getDocumentsMatchingQuery(e,t,$r.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class jke{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new nt(ne),this.Yi=new Js(s=>bl(s),vp),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G8(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Y8(n,e){return bO.apply(this,arguments)}function bO(){return bO=g(function*(n,e){const t=P(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=he();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),bO.apply(this,arguments)}function $ke(n,e){const t=P(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=E.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=l.docVersions.get(f);z(null!==m),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=he();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Q8(n){const e=P(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Hke(n,e){const t=P(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,_;null!==e.targetMismatches.get(d)?f=f.withResumeToken(cn.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),m=f,_=u,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let l=Tr(),c=he();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function X8(n,e,t){let r=he(),i=he();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Tr();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(G.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(G.min())){const u=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return E.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ji=i,s))}function zke(n,e){const t=P(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Bu(n,e){const t=P(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,E.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new to(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Uu(n,e,t){return wO.apply(this,arguments)}function wO(){return wO=g(function*(n,e,t){const r=P(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!zo(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),wO.apply(this,arguments)}function AE(n,e,t){const r=P(n);let i=G.min(),s=he();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=P(a),d=u.Yi.get(c);return void 0!==d?E.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(r,o,pr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:G.min(),t?s:he())).next(a=>(function e9(n,e,t){let r=n.Xi.get(e)||G.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function O6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class DO{constructor(){this.activeTargetIds=function QP(){return Gxe}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class r9{constructor(){this.Hr=new DO,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new DO,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qke{Yr(e){}shutdown(){}}class i9{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let RE=null;function xO(){return null===RE?RE=268435456+Math.round(2147483648*Math.random()):RE++,"0x"+RE.toString(16)}const Kke={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yke{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const er="WebChannelConnection";class Qke extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=xO(),a=this.To(e,t);D("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(c=>(D("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw xi("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${Kke[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=xO();return new Promise((o,a)=>{const l=new KAe;l.setWithCredentials(!0),l.listenOnce(GAe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case MP.NO_ERROR:const u=l.getResponseJson();D(er,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case MP.TIMEOUT:D(er,`RPC '${e}' ${s} timed out`),a(new T(I.DEADLINE_EXCEEDED,"Request time out"));break;case MP.HTTP_ERROR:const d=l.getStatus();if(D(er,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=null==h?void 0:h.error;if(f&&f.status&&f.message){const p=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(_)>=0?_:I.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(I.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new T(I.UNAVAILABLE,"Connection failed."));break;default:j()}}finally{D(er,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);D(er,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=xO(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=HAe(),a=zAe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new qAe({})),this.Eo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");D(er,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new Yke({ro:_=>{f?D(er,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(D(er,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),D(er,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},oo:()=>d.close()}),m=(_,v,y)=>{_.listen(v,C=>{try{y(C)}catch(x){setTimeout(()=>{throw x},0)}})};return m(d,Xv.EventType.OPEN,()=>{f||D(er,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Xv.EventType.CLOSE,()=>{f||(f=!0,D(er,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,Xv.EventType.ERROR,_=>{f||(f=!0,xi(er,`RPC '${e}' stream ${i} transport errored:`,_),p.wo(new T(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,Xv.EventType.MESSAGE,_=>{var v;if(!f){const y=_.data[0];z(!!y);const C=y,x=C.error||(null===(v=C[0])||void 0===v?void 0:v.error);if(x){D(er,`RPC '${e}' stream ${i} received error:`,x);const $=x.status;let W=function(pt){const Et=Zt[pt];if(void 0!==Et)return J6(Et)}($),ce=x.message;void 0===W&&(W=I.INTERNAL,ce="Unknown error status: "+$+" with message "+x.message),f=!0,p.wo(new T(W,ce)),d.close()}else D(er,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),m(a,WAe.STAT_EVENT,_=>{_.stat===W7.PROXY?D(er,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===W7.NOPROXY&&D(er,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function ME(){return"undefined"!=typeof document?document:null}function Up(n){return new ske(n,!0)}class kO{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class o9{constructor(e,t,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new kO(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return g(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return g(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return g(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===I.RESOURCE_EXHAUSTED?(Ut(t.toString()),Ut("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new T(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(g(function*(){e.state=0,e.start()}))}tu(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xke extends o9{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function lke(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:j(),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(z(void 0===c||"string"==typeof c),cn.fromBase64String(c||"")):(z(void 0===c||c instanceof Uint8Array),cn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?I.UNKNOWN:J6(l.code);return new T(c,l.message||"")}(o);t=new i8(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ls(n,r.document.name),s=$t(r.document.updateTime),o=r.document.createTime?$t(r.document.createTime):G.min(),a=new jn({mapValue:{fields:r.document.fields}}),l=ht.newFoundDocument(i,s,o,a);t=new mE(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=ls(n,r.document),s=r.readTime?$t(r.readTime):G.min(),o=ht.newNoDocument(i,s);t=new mE([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ls(n,r.document);t=new mE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return j();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Jxe(i,s);t=new r8(r.targetId,o)}}var l;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return G.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?G.min():s.readTime?$t(s.readTime):G.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=kp(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=lE(a)?{documents:p8(i,a)}:{query:aO(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=l8(i,s.resumeToken);const l=rO(i,s.expectedCount);null!==l&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(G.min())>0){o.readTime=Nu(i,s.snapshotVersion.toTimestamp());const l=rO(i,s.expectedCount);null!==l&&(o.expectedCount=l)}return o}(this.serializer,e);const r=function uke(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return j()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=kp(this.serializer),t.removeTarget=e,this.Wo(t)}}class Zke extends o9{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function cke(n,e){return n&&n.length>0?(z(void 0!==e),n.map(t=>function(r,i){let s=$t(r.updateTime?r.updateTime:i);return s.isEqual(G.min())&&(s=$t(i)),new Yxe(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=$t(e.commitTime);return this.listener.cu(r,t)}return z(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=kp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Rp(n,e){let t;if(e instanceof Pu)t={update:h8(n,e.key,e.value)};else if(e instanceof Ou)t={delete:xp(n,e.key)};else if(e instanceof eo)t={update:h8(n,e.key,e.data),updateMask:pke(e.fieldMask)};else{if(!(e instanceof XP))return j();t={verify:xp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ru)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Il)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Cl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Mu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw j()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:oke(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:j()),t;var i}(this.serializer,r))};this.Wo(t)}}class Jke extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(I.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class tRe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ut(t),this.mu=!1):D("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class nRe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(g(function*(){var l;ta(o)&&(D("RemoteStore","Restarting streams for network reachability change."),yield(l=g(function*(c){const u=P(c);u.vu.add(4),yield ju(u),u.bu.set("Unknown"),u.vu.delete(4),yield jp(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.bu=new tRe(r,i)}}function jp(n){return MO.apply(this,arguments)}function MO(){return MO=g(function*(n){if(ta(n))for(const e of n.Ru)yield e(!0)}),MO.apply(this,arguments)}function ju(n){return PO.apply(this,arguments)}function PO(){return PO=g(function*(n){for(const e of n.Ru)yield e(!1)}),PO.apply(this,arguments)}function PE(n,e){const t=P(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),FO(t)?NO(t):Hu(t).Ko()&&OO(t,e))}function $p(n,e){const t=P(n),r=Hu(t);t.Au.delete(e),r.Ko()&&a9(t,e),0===t.Au.size&&(r.Ko()?r.jo():ta(t)&&t.bu.set("Unknown"))}function OO(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(G.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hu(n).su(e)}function a9(n,e){n.Vu.qt(e),Hu(n).iu(e)}function NO(n){n.Vu=new tke({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Hu(n).start(),n.bu.gu()}function FO(n){return ta(n)&&!Hu(n).Uo()&&n.Au.size>0}function ta(n){return 0===P(n).vu.size}function l9(n){n.Vu=void 0}function rRe(n){return LO.apply(this,arguments)}function LO(){return LO=g(function*(n){n.Au.forEach((e,t)=>{OO(n,e)})}),LO.apply(this,arguments)}function iRe(n,e){return VO.apply(this,arguments)}function VO(){return VO=g(function*(n,e){l9(n),FO(n)?(n.bu.Iu(e),NO(n)):n.bu.set("Unknown")}),VO.apply(this,arguments)}function sRe(n,e,t){return BO.apply(this,arguments)}function BO(){return BO=g(function*(n,e,t){if(n.bu.set("Online"),e instanceof i8&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield OE(n,r)}else if(e instanceof mE?n.Vu.Ht(e):e instanceof r8?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(G.min()))try{const r=yield Q8(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(cn.EMPTY_BYTE_STRING,c.snapshotVersion)),a9(i,a);const u=new to(c.target,a,l,c.sequenceNumber);OO(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){D("RemoteStore","Failed to raise snapshot:",r),yield OE(n,r)}var r}),BO.apply(this,arguments)}function OE(n,e,t){return UO.apply(this,arguments)}function UO(){return UO=g(function*(n,e,t){if(!zo(e))throw e;n.vu.add(1),yield ju(n),n.bu.set("Offline"),t||(t=()=>Q8(n.localStore)),n.asyncQueue.enqueueRetryable(g(function*(){D("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield jp(n)}))}),UO.apply(this,arguments)}function c9(n,e){return e().catch(t=>OE(n,t,e))}function $u(n){return jO.apply(this,arguments)}function jO(){return jO=g(function*(n){const e=P(n),t=na(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;oRe(e);)try{const i=yield zke(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,aRe(e,i)}catch(i){yield OE(e,i)}u9(e)&&d9(e)}),jO.apply(this,arguments)}function oRe(n){return ta(n)&&n.Eu.length<10}function aRe(n,e){n.Eu.push(e);const t=na(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function u9(n){return ta(n)&&!na(n).Uo()&&n.Eu.length>0}function d9(n){na(n).start()}function lRe(n){return $O.apply(this,arguments)}function $O(){return $O=g(function*(n){na(n).hu()}),$O.apply(this,arguments)}function cRe(n){return HO.apply(this,arguments)}function HO(){return HO=g(function*(n){const e=na(n);for(const t of n.Eu)e.uu(t.mutations)}),HO.apply(this,arguments)}function uRe(n,e,t){return zO.apply(this,arguments)}function zO(){return zO=g(function*(n,e,t){const r=n.Eu.shift(),i=JP.from(r,e,t);yield c9(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield $u(n)}),zO.apply(this,arguments)}function dRe(n,e){return GO.apply(this,arguments)}function GO(){return GO=g(function*(n,e){var t;e&&na(n).ou&&(yield(t=g(function*(r,i){if(Z6(s=i.code)&&s!==I.ABORTED){const o=r.Eu.shift();na(r).Qo(),yield c9(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield $u(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),u9(n)&&d9(n)}),GO.apply(this,arguments)}function h9(n,e){return WO.apply(this,arguments)}function WO(){return WO=g(function*(n,e){const t=P(n);t.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=ta(t);t.vu.add(3),yield ju(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield jp(t)}),WO.apply(this,arguments)}function KO(){return KO=g(function*(n,e){const t=P(n);e?(t.vu.delete(2),yield jp(t)):e||(t.vu.add(2),yield ju(t),t.bu.set("Unknown"))}),KO.apply(this,arguments)}function Hu(n){return n.Su||(n.Su=function(e,t,r){const i=P(e);return i.fu(),new Xke(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:rRe.bind(null,n),ao:iRe.bind(null,n),nu:sRe.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Su.Qo(),FO(n)?NO(n):n.bu.set("Unknown")):(yield n.Su.stop(),l9(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function na(n){return n.Du||(n.Du=function(e,t,r){const i=P(e);return i.fu(),new Zke(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:lRe.bind(null,n),ao:dRe.bind(null,n),au:cRe.bind(null,n),cu:uRe.bind(null,n)}),n.Ru.push(function(){var e=g(function*(t){t?(n.Du.Qo(),yield $u(n)):(yield n.Du.stop(),n.Eu.length>0&&(D("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class YO{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new YO(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zu(n,e){if(Ut("AsyncQueue",`${e}: ${n}`),zo(n))return new T(I.UNAVAILABLE,`${e}: ${n}`);throw n}class Gu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||M.comparator(t.key,r.key):(t,r)=>M.comparator(t.key,r.key),this.keyedMap=wp(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new Gu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Gu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Gu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class f9{constructor(){this.Cu=new nt(M.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):j():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Wu{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Wu(e,t,Gu.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class hRe{constructor(){this.Nu=void 0,this.listeners=[]}}class fRe{constructor(){this.queries=new Js(e=>P6(e),Ep),this.onlineState="Unknown",this.ku=new Set}}function QO(n,e){return XO.apply(this,arguments)}function XO(){return XO=g(function*(n,e){const t=P(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new hRe),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=zu(o,`Initialization of query '${YP(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&eN(t)}),XO.apply(this,arguments)}function ZO(n,e){return JO.apply(this,arguments)}function JO(){return JO=g(function*(n,e){const t=P(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),JO.apply(this,arguments)}function pRe(n,e){const t=P(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&eN(t)}function gRe(n,e,t){const r=P(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function eN(n){n.ku.forEach(e=>{e.next()})}class tN{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Wu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Wu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class m9{constructor(e){this.key=e}}class _9{constructor(e){this.key=e}}class y9{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=he(),this.mutatedKeys=he(),this.tc=N6(e),this.ec=new Gu(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new f9,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=bp(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),_=!0):this.rc(h,f)||(r.track({type:2,doc:f}),_=!0,(l&&this.tc(f,l)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(l||c)&&(a=!0)),_&&(f?(o=o.add(f),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return j()}};return f(d)-f(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,0!==s.length||l?{snapshot:new Wu(this.query,e.ec,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new f9,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=he(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new _9(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new m9(r))}),t}hc(e){this.Yu=e.ir,this.Zu=he();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Wu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class yRe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class vRe{constructor(e){this.key=e,this.fc=!1}}class ERe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Js(a=>P6(a),Ep),this._c=new Map,this.mc=new Set,this.gc=new nt(M.comparator),this.yc=new Map,this.Ic=new gO,this.Tc={},this.Ec=new Map,this.Ac=kl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function bRe(n,e){return nN.apply(this,arguments)}function nN(){return nN=g(function*(n,e){const t=TN(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield Bu(t.localStore,pr(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield rN(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&PE(t.remoteStore,o)}return i}),nN.apply(this,arguments)}function rN(n,e,t,r,i){return iN.apply(this,arguments)}function iN(){return iN=g(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=g(function*(m,_,v,y){let C=_.view.sc(v);C.zi&&(C=yield AE(m.localStore,_.query,!1).then(({documents:W})=>_.view.sc(W,C)));const x=y&&y.targetChanges.get(_.targetId),$=_.view.applyChanges(C,m.isPrimaryClient,x);return pN(m,_.targetId,$.cc),$.snapshot}),function(m,_,v,y){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield AE(n.localStore,e,!0),o=new y9(e,s.ir),a=o.sc(s.documents),l=Ap.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);pN(n,t,c.cc);const u=new yRe(e,t,o);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),iN.apply(this,arguments)}function wRe(n,e){return sN.apply(this,arguments)}function sN(){return sN=g(function*(n,e){const t=P(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!Ep(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Uu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),$p(t.remoteStore,r.targetId),qu(t,r.targetId)}).catch(Ho))):(qu(t,r.targetId),yield Uu(t.localStore,r.targetId,!0))}),sN.apply(this,arguments)}function oN(){return oN=g(function*(n,e,t){const r=SN(n);try{const i=yield function(s,o){const a=P(s),l=Ct.now(),c=o.reduce((h,f)=>h.add(f.key),he());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Tr(),p=he();return a.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((_,v)=>{v.isValidDocument()||(p=p.add(_))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const _=[];for(const v of o){const y=Xxe(v,u.get(v.key).overlayedDocument);null!=y&&_.push(new eo(v.key,y,v6(y.value.mapValue),yt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,_,o)}).next(m=>{d=m;const _=m.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,_)})}).then(()=>({batchId:d.batchId,changes:L6(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new nt(ne)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield no(r,i.changes),yield $u(r.remoteStore)}catch(i){const s=zu(i,"Failed to persist write");t.reject(s)}}),oN.apply(this,arguments)}function v9(n,e){return aN.apply(this,arguments)}function aN(){return aN=g(function*(n,e){const t=P(n);try{const r=yield Hke(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?z(o.fc):i.removedDocuments.size>0&&(z(o.fc),o.fc=!1))}),yield no(t,r,e)}catch(r){yield Ho(r)}}),aN.apply(this,arguments)}function E9(n,e,t){const r=P(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=P(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(o)&&(l=!0)}),l&&eN(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function CRe(n,e,t){return lN.apply(this,arguments)}function lN(){return lN=g(function*(n,e,t){const r=P(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new nt(M.comparator);o=o.insert(s,ht.newNoDocument(s,G.min()));const a=he().add(s),l=new Dp(G.min(),new Map,new nt(ne),o,a);yield v9(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),gN(r)}else yield Uu(r.localStore,e,!1).then(()=>qu(r,e,t)).catch(Ho)}),lN.apply(this,arguments)}function TRe(n,e){return cN.apply(this,arguments)}function cN(){return cN=g(function*(n,e){const t=P(n),r=e.batch.batchId;try{const i=yield $ke(t.localStore,e);fN(t,r,null),hN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield no(t,i)}catch(i){yield Ho(i)}}),cN.apply(this,arguments)}function SRe(n,e,t){return uN.apply(this,arguments)}function uN(){return uN=g(function*(n,e,t){const r=P(n);try{const i=yield function(s,o){const a=P(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(z(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);fN(r,e,t),hN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield no(r,i)}catch(i){yield Ho(i)}}),uN.apply(this,arguments)}function hN(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function fN(n,e,t){const r=P(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function qu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||b9(n,r)})}function b9(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&($p(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),gN(n))}function pN(n,e,t){for(const r of t)r instanceof m9?(n.Ic.addReference(r.key,e),ARe(n,r)):r instanceof _9?(D("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||b9(n,r.key)):j()}function ARe(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(D("SyncEngine","New document in limbo: "+t),n.mc.add(r),gN(n))}function gN(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new M(Me.fromString(e)),r=n.Ac.next();n.yc.set(r,new vRe(t)),n.gc=n.gc.insert(t,r),PE(n.remoteStore,new to(pr(ku(t.path)),r,"TargetPurposeLimboResolution",Hr.ct))}}function no(n,e,t){return mN.apply(this,arguments)}function mN(){return mN=g(function*(n,e,t){const r=P(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,(null==c?void 0:c.fromCache)?"not-current":"current"),c){i.push(c);const u=EO.Li(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=g(function*(l,c){const u=P(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>E.forEach(c,h=>E.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>E.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!zo(d))throw d;D("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,m)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),mN.apply(this,arguments)}function xRe(n,e){return _N.apply(this,arguments)}function _N(){return _N=g(function*(n,e){const t=P(n);if(!t.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=yield Y8(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield no(t,r.er)}var i}),_N.apply(this,arguments)}function kRe(n,e){const t=P(n),r=t.yc.get(e);if(r&&r.fc)return he().add(r.key);{let i=he();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function TN(n){const e=P(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=v9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kRe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CRe.bind(null,e),e.dc.nu=pRe.bind(null,e.eventManager),e.dc.Pc=gRe.bind(null,e.eventManager),e}function SN(n){const e=P(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TRe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SRe.bind(null,e),e}class NE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return g(function*(){t.serializer=Up(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function K8(n,e,t,r){return new jke(n,e,t,r)}(this.persistence,new q8,e.initialUser,this.serializer)}createPersistence(e){return new mO(TE.zs,this.serializer)}createSharedClientState(e){return new r9}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ku{initialize(e,t){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>E9(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=xRe.bind(null,r.syncEngine),yield function qO(n,e){return KO.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fRe}createDatastore(e){const t=Up(e.databaseInfo.databaseId),r=new Qke(e.databaseInfo);return new Jke(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>E9(this.syncEngine,a,0),o=i9.D()?new i9:new qke,new nRe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new ERe(r,i,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=g(function*(t){const r=P(t);D("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ju(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}class FE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ut("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class HRe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=bn.UNAUTHENTICATED,this.clientId=Q7.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){D("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(D("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=zu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function LE(n,e){return DN.apply(this,arguments)}function DN(){return DN=g(function*(n,e){n.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield Y8(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),DN.apply(this,arguments)}function AN(n,e){return xN.apply(this,arguments)}function xN(){return xN=g(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield kN(n);D("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>h9(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>h9(e.remoteStore,s)),n._onlineComponents=e}),xN.apply(this,arguments)}function D9(n){return"FirebaseError"===n.name?n.code===I.FAILED_PRECONDITION||n.code===I.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function kN(n){return RN.apply(this,arguments)}function RN(){return RN=g(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{yield LE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!D9(t))throw t;xi("Error using user provided cache. Falling back to memory cache: "+t),yield LE(n,new NE)}}else D("FirestoreClient","Using default OfflineComponentProvider"),yield LE(n,new NE);return n._offlineComponents}),RN.apply(this,arguments)}function VE(n){return MN.apply(this,arguments)}function MN(){return MN=g(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),yield AN(n,n._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),yield AN(n,new Ku))),n._onlineComponents}),MN.apply(this,arguments)}function Yu(n){return ON.apply(this,arguments)}function ON(){return ON=g(function*(n){const e=yield VE(n),t=e.eventManager;return t.onListen=bRe.bind(null,e.syncEngine),t.onUnlisten=wRe.bind(null,e.syncEngine),t}),ON.apply(this,arguments)}function P9(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const O9=new Map;function NN(n,e,t){if(!t)throw new T(I.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function N9(n){if(!M.isDocumentKey(n))throw new T(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function F9(n){if(M.isDocumentKey(n))throw new T(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function UE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":j()}function Ae(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new T(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=UE(n);throw new T(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class V9{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function ZRe(n,e,t,r){if(!0===e&&!0===r)throw new T(I.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=P9(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hp{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V9({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V9(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new QAe;switch(t.type){case"firstParty":return new exe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new T(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=O9.get(e);t&&(D("ComponentProvider","Removing Datastore"),O9.delete(e),t.terminate())}(this),Promise.resolve()}}class Ht{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}}class $n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $n(this.firestore,e,this._query)}}class cs extends $n{constructor(e,t,r){super(e,t,ku(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new M(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function eMe(n,e,...t){if(n=Vt(n),NN("collection","path",e),n instanceof Hp){const r=Me.fromString(e,...t);return F9(r),new cs(n,null,r)}{if(!(n instanceof Ht||n instanceof cs))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Me.fromString(e,...t));return F9(r),new cs(n.firestore,null,r)}}function B9(n,e,...t){if(n=Vt(n),1===arguments.length&&(e=Q7.A()),NN("doc","path",e),n instanceof Hp){const r=Me.fromString(e,...t);return N9(r),new Ht(n,null,new M(r))}{if(!(n instanceof Ht||n instanceof cs))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Me.fromString(e,...t));return N9(r),new Ht(n.firestore,n instanceof cs?n.converter:null,new M(r))}}class tMe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new kO(this,"async_queue_retry"),this.Xc=()=>{const t=ME();t&&D("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=ME();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ME();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new ln;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return g(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!zo(t))throw t;D("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Ut("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=YO.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&j()}verifyOperationInProgress(){}sa(){var e=this;return g(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class ft extends Hp{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new tMe,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||j9(this),this._firestoreClient.terminate()}}function rMe(n,e){const r="string"==typeof n?n:e||"(default)",i=Os("object"==typeof n?n:ef(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=cz("firestore");s&&function JRe(n,e,t,r={}){var i;const s=(n=Ae(n,Hp))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=bn.MOCK_USER;else{a=hz(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new T(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new bn(c)}n._authCredentials=new XAe(new K7(a,l))}}(i,...s)}return i}function Jt(n){return n._firestoreClient||j9(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function j9(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new kxe(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,P9(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new HRe(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ml(cn.fromBase64String(e))}catch(t){throw new T(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ml(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new T(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class LN{constructor(e){this._methodName=e}}class VN{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new T(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new T(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}}const sMe=/^__.*__$/;class oMe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pu(e,this.data,t,this.fieldTransforms)}}class z9{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new eo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function G9(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw j()}}class jE{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new jE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return HE(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(G9(this.ca)&&sMe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class aMe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Up(e)}ya(e,t,r,i=!1){return new jE({ca:e,methodName:t,ga:r,path:jt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xu(n){const e=n._freezeSettings(),t=Up(n._databaseId);return new aMe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BN(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);jN("Data must be an object, but it was:",o,r);const a=Q9(r,o);let l,c;if(s.merge)l=new Cr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Wp(e,d,t);if(!o.contains(h))throw new T(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Z9(u,h)||u.push(h)}l=new Cr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new oMe(new jn(a),l,c)}class Gp extends LN{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gp}}function Pl(n,e){if(X9(n=Vt(n)))return jN("Unsupported field value:",e,n),Q9(n,e);if(n instanceof LN)return function(t,r){if(!G9(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=Pl(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Vt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return j6(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Ct.fromDate(t);return{timestampValue:Nu(r.serializer,i)}}if(t instanceof Ct){const i=new Ct(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Nu(r.serializer,i)}}if(t instanceof VN)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ml)return{bytesValue:l8(r.serializer,t._byteString)};if(t instanceof Ht){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iO(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${UE(t)}`)}(n,e)}function Q9(n,e){const t={};return u6(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Go(n,(r,i)=>{const s=Pl(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function X9(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof VN||n instanceof Ml||n instanceof Ht||n instanceof LN)}function jN(n,e,t){if(!X9(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=UE(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Wp(n,e,t){if((e=Vt(e))instanceof Qu)return e._internalPath;if("string"==typeof e)return $E(n,e);throw HE("Field path arguments must be of type string or ",n,!1,void 0,t)}const dMe=new RegExp("[~\\*/\\[\\]]");function $E(n,e,t){if(e.search(dMe)>=0)throw HE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qu(...e.split("."))._internalPath}catch(r){throw HE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function HE(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new T(I.INVALID_ARGUMENT,a+n+l)}function Z9(n,e){return n.some(t=>t.isEqual(e))}class $N{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hMe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hMe extends $N{data(){return super.data()}}function zE(n,e){return"string"==typeof e?$E(n,e):e instanceof Qu?e._internalPath:e._delegate._internalPath}class Ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ju extends $N{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new KE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(zE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class KE extends Ju{data(e={}){return super.data(e)}}class ed{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ol(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new KE(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new T(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new KE(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ol(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new KE(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Ol(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:mMe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function mMe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return j()}}function _Me(n){n=Ae(n,Ht);const e=Ae(n.firestore,ft);return function R9(n,e,t={}){const r=new ln;return n.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,l){const c=new FE({next:d=>{s.enqueueAndForget(()=>ZO(i,u));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new T(I.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?l.reject(new T(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new tN(ku(o.path),c,{includeMetadataChanges:!0,Ku:!0});return QO(i,u)}(yield Yu(n),n.asyncQueue,e,t,r)})),r.promise}(Jt(e),n._key).then(t=>function GN(n,e,t){const r=t.docs.get(e._key),i=new ra(n);return new Ju(n,i,e._key,r,new Ol(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class ra extends class pMe{convertValue(e,t="none"){switch(Ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw j()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Go(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new VN(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=iE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gp(e));default:return null}}convertTimestamp(e){const t=Wo(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Me.fromString(e);z(y8(r));const i=new vl(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(t)||Ut(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,t)}}function yMe(n){n=Ae(n,$n);const e=Ae(n.firestore,ft),t=Jt(e),r=new ra(e);return function J9(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new T(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function M9(n,e,t={}){const r=new ln;return n.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,l){const c=new FE({next:d=>{s.enqueueAndForget(()=>ZO(i,u)),d.fromCache&&"server"===a.source?l.reject(new T(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new tN(o,c,{includeMetadataChanges:!0,Ku:!0});return QO(i,u)}(yield Yu(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new ed(e,r,n,i))}function vMe(n,e,t,...r){n=Ae(n,Ht);const i=Ae(n.firestore,ft),s=Xu(i);let o;return o="string"==typeof(e=Vt(e))||e instanceof Qu?function K9(n,e,t,r,i,s){const o=n.ya(1,e,t),a=[Wp(e,r,t)],l=[i];if(s.length%2!=0)throw new T(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Wp(e,s[h])),l.push(s[h+1]);const c=[],u=jn.empty();for(let h=a.length-1;h>=0;--h)if(!Z9(c,a[h])){const f=a[h];let p=l[h];p=Vt(p);const m=o.da(f);if(p instanceof Gp)c.push(f);else{const _=Pl(p,m);null!=_&&(c.push(f),u.set(f,_))}}const d=new Cr(c);return new z9(u,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function q9(n,e,t,r){const i=n.ya(1,e,t);jN("Data must be an object, but it was:",i,r);const s=[],o=jn.empty();Go(r,(l,c)=>{const u=$E(e,l,t);c=Vt(c);const d=i.da(u);if(c instanceof Gp)s.push(u);else{const h=Pl(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new Cr(s);return new z9(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),Kp(i,[o.toMutation(n._key,yt.exists(!0))])}function EMe(n){return Kp(Ae(n.firestore,ft),[new Ou(n._key,yt.none())])}function bMe(n,e){const t=Ae(n.firestore,ft),r=B9(n),i=function zN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Kp(t,[BN(Xu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,yt.exists(!1))]).then(()=>r)}function Kp(n,e){return function(t,r){const i=new ln;return t.asyncQueue.enqueueAndForget(g(function*(){return function IRe(n,e,t){return oN.apply(this,arguments)}(yield function PN(n){return VE(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Jt(n),e)}class QE{constructor(e){return e}}const aK="firestore",WN=new B("angularfire2.firestore-instances");function NMe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new QE(r)}}const FMe={provide:class PMe{constructor(){return sf(aK)}},deps:[[new ot,WN]]},LMe={provide:QE,useFactory:function OMe(n,e){const t=rf(aK,n,e);return t&&new QE(t)},deps:[[new ot,WN],Oo]};let VMe=(()=>{class n{constructor(){qe("angularfire",Po.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({providers:[LMe,FMe]}),n})();function BMe(n,...e){return{ngModule:VMe,providers:[{provide:WN,useFactory:NMe(n),multi:!0,deps:[le,Fe,af,lf,[new ot,HM],[new ot,Vy],...e]}]}}const UMe=Fn(bMe,!0),lK=Fn(eMe,!0),jMe=Fn(EMe,!0),qN=Fn(B9,!0),$Me=Fn(_Me,!0),HMe=Fn(yMe,!0),zMe=Fn(rMe,!0),GMe=Fn(vMe,!0);let KN=(()=>{class n{constructor(t){this.firestore=t}getMyNotes(t){const r=lK(this.firestore,"notes-"+t);return HMe(r)}getNoteById(t,r){const i=qN(this.firestore,"notes-"+t,r);return $Me(i)}saveNote(t,r){const i=lK(this.firestore,"notes-"+t);return UMe(i,r)}updateNote(t,r,i){const s=qN(this.firestore,"notes-"+t,i);return GMe(s,r)}deleteNote(t,r){const i=qN(this.firestore,"notes-"+t,r);return jMe(i)}}return n.\u0275fac=function(t){return new(t||n)(w(QE))},n.\u0275prov=V({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WMe=(()=>{class n{constructor(t,r,i){this.credentialsService=t,this.authService=r,this.router=i,this.user={name:"",email:"",photo:""}}ngOnInit(){this.user=this.credentialsService.credentials}logOut(){this.authService.logOut().then(()=>{localStorage.removeItem("me"),this.router.navigate([""])})}}return n.\u0275fac=function(t){return new(t||n)(b(jf),b(kq),b(Kn))},n.\u0275cmp=rr({type:n,selectors:[["app-user-bar"]],decls:5,vars:2,consts:[["alt","profile photo",1,"photo",3,"src"],[1,"fa-solid","fa-right-from-bracket",3,"click"]],template:function(t,r){1&t&&(ke(0,"article"),sn(1,"img",0),ke(2,"p"),vr(3),Re(),ke(4,"i",1),at("click",function(){return r.logOut()}),Re()()),2&t&&(xt(1),UI("src",r.user.photo,um),xt(2),th("Hi, ",r.user.name,""))},styles:["article[_ngcontent-%COMP%]{display:flex;align-items:center;gap:25px}.photo[_ngcontent-%COMP%]{border-radius:50px;height:45px;width:45px;object-fit:contain}p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;margin:0}i[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();const qMe=function(n){return["/edit/",n]};function KMe(n,e){if(1&n){const t=bm();ke(0,"article",8)(1,"header")(2,"h3"),vr(3),Re(),ke(4,"button",9),at("click",function(i){const o=tc(t).$implicit;return bi(2).openDeleteDialog(o),i.stopPropagation()}),sn(5,"i",10),Re()(),ke(6,"div",11)(7,"p"),vr(8),Re(),ke(9,"div",12),vr(10," Tap the note to continue "),Re()()()}if(2&n){const t=e.$implicit;rn("routerLink",fU(3,qMe,t.id)),xt(3),eh(t.note_title),xt(5),th(" ",t.note_content," ")}}function YMe(n,e){if(1&n&&(ke(0,"section",6),Ei(1,KMe,11,5,"article",7),Re()),2&n){const t=bi();xt(1),rn("ngForOf",t.notes)}}function QMe(n,e){1&n&&(ke(0,"article",13),sn(1,"mat-spinner",14),Re()),2&n&&(xt(1),rn("diameter",70))}const XMe=function(){return["/new-note"]};let ZMe=(()=>{class n{constructor(t,r,i){this.firestoreService=t,this.credentialsService=r,this.dialog=i,this.userEmail="",this.notes=[],this.isLoading=!0}ngOnInit(){this.userEmail=this.credentialsService.credentials.email,this.getMyNotes()}getMyNotes(){var t=this;return wy(function*(){t.notes=[],(yield t.firestoreService.getMyNotes(t.userEmail)).forEach(i=>{const s={id:i.id,note_content:i.data().note_content,note_title:i.data().note_title};t.notes.push(s)}),t.isLoading=!1})()}openDeleteDialog(t){this.dialog.open($De,{panelClass:"custom-dialog"}).afterClosed().subscribe(i=>{i&&(this.isLoading=!0,this.deleteNote(t))})}deleteNote(t){this.firestoreService.deleteNote(this.userEmail,t.id),this.getMyNotes()}}return n.\u0275fac=function(t){return new(t||n)(b(KN),b(jf),b(Q_))},n.\u0275cmp=rr({type:n,selectors:[["app-my-notes"]],decls:9,vars:4,consts:[[1,"containerNotes"],[3,"routerLink"],[1,"green-btn"],[1,"fa-solid","fa-pencil"],["class","allNotes",4,"ngIf","ngIfElse"],["spinner",""],[1,"allNotes"],["class","notes",3,"routerLink",4,"ngFor","ngForOf"],[1,"notes",3,"routerLink"],[1,"delete-btn",3,"click"],[1,"fa-solid","fa-trash"],[1,"note-content"],[1,"edit"],[1,"spinner"],[3,"diameter"]],template:function(t,r){if(1&t&&(ke(0,"section",0),sn(1,"app-user-bar"),ke(2,"a",1)(3,"article",2),sn(4,"i",3),vr(5," Create new note "),Re()(),Ei(6,YMe,2,1,"section",4),Ei(7,QMe,2,1,"ng-template",null,5,aC),Re()),2&t){const i=Xd(8);xt(2),rn("routerLink",function hU(n,e,t){const r=sr()+n,i=S();return i[r]===ae?ji(i,r,t?e.call(t):e()):function Qd(n,e){return n[e]}(i,r)}(3,XMe)),xt(4),rn("ngIf",!r.isLoading)("ngIfElse",i)}},directives:[WMe,fy,Qm,D3,hy,Ki],styles:[".containerNotes[_ngcontent-%COMP%]{display:flex;margin:20px;flex-direction:column;align-items:center;gap:15px}.allNotes[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;gap:15px}.green-btn[_ngcontent-%COMP%]{height:74px}.green-btn[_ngcontent-%COMP%], .notes[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background:linear-gradient(99.63deg,#C7EBB3 12.78%,rgba(199,235,179,0) 132.88%);border-radius:37px;display:flex;align-items:center;justify-content:center;gap:10px;font-size:16px;cursor:pointer}a[_ngcontent-%COMP%]{width:80%;text-decoration:none;color:#000}.notes[_ngcontent-%COMP%]{width:80%;flex-direction:column;gap:15px;padding:20px}.notes[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;justify-content:space-between}.notes[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-family:Poppins,sans-serif}.notes[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{color:#888;margin:7px 0 0 7px;padding:5px;border-radius:4px;border-left:3px solid #888888}.note-content[_ngcontent-%COMP%]{background:white;padding:16px;width:100%;border-radius:37px}.note-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden}.delete-btn[_ngcontent-%COMP%]{border-radius:50%;width:45px;height:45px;border:none;background:white;font-size:16px}h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.spinner[_ngcontent-%COMP%]{padding:20px}"]}),n})(),JMe=(()=>{class n{constructor(t,r,i){this.firestoreService=t,this.credentialsService=r,this._snackBar=i,this.title="",this.noteContent="",this.userEmail=""}ngOnInit(){this.userEmail=this.credentialsService.credentials.email}saveNote(){var t=this;return wy(function*(){const r={note_title:t.title,note_content:t.noteContent};yield t.firestoreService.saveNote(t.userEmail,r),t.openSnackBar()})()}openSnackBar(){this._snackBar.open("Note saved","",{duration:3e3})}}return n.\u0275fac=function(t){return new(t||n)(b(KN),b(jf),b(Y4))},n.\u0275cmp=rr({type:n,selectors:[["app-new-note"]],decls:7,vars:2,consts:[[1,"new-note"],["placeholder","Insert title","autosize","",1,"title",3,"ngModel","ngModelChange"],[1,"save-btn",3,"click"],[1,"fa-solid","fa-floppy-disk"],[1,"content"],["placeholder","Insert your note content","autosize","",1,"content-input",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(ke(0,"section",0)(1,"header")(2,"textarea",1),at("ngModelChange",function(s){return r.title=s}),Re(),ke(3,"button",2),at("click",function(){return r.saveNote()}),sn(4,"i",3),Re()(),ke(5,"section",4)(6,"textarea",5),at("ngModelChange",function(s){return r.noteContent=s}),Re()()()),2&t&&(xt(2),rn("ngModel",r.title),xt(4),rn("ngModel",r.noteContent))},directives:[bh,a$,eT,p_],styles:['.new-note[_ngcontent-%COMP%]{padding:25px 20px;background:linear-gradient(99.63deg,#C7EBB3 12.78%,rgba(199,235,179,0) 132.88%);height:auto;display:flex;gap:10px;flex-direction:column}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:30px}.title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;margin:0}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:none;background:none;resize:none;width:100%}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, .textarea[_ngcontent-%COMP%]:focus{outline:none}.textarea[_ngcontent-%COMP%]{display:block;width:100%;line-height:30px;resize:both}.textarea[contenteditable][_ngcontent-%COMP%]:empty:before{content:"Insert title";color:gray}.content[_ngcontent-%COMP%]{background:white;font-family:Poppins,sans-serif;border-radius:40px;height:auto;min-height:100%;padding:25px 20px}.content-input[_ngcontent-%COMP%]{width:100%;min-height:100%;height:auto;font-family:Poppins,sans-serif;font-size:16px}.save-btn[_ngcontent-%COMP%]{background:rgba(255,255,255,.7);width:40px;height:40px;border-radius:50%;border:none;font-size:20px}']}),n})();function ePe(n,e){if(1&n){const t=bm();ke(0,"section",2)(1,"header")(2,"textarea",3),at("ngModelChange",function(i){return tc(t),bi().title=i}),Re(),ke(3,"button",4),at("click",function(){return tc(t),bi().updateNote()}),sn(4,"i",5),Re()(),ke(5,"section",6)(6,"textarea",7),at("ngModelChange",function(i){return tc(t),bi().noteContent=i}),Re()()()}if(2&n){const t=bi();xt(2),rn("ngModel",t.title),xt(4),rn("ngModel",t.noteContent)}}function tPe(n,e){1&n&&(ke(0,"article",8),sn(1,"mat-spinner",9),Re()),2&n&&(xt(1),rn("diameter",70))}const nPe=[{path:"",component:jDe},{path:"my-notes",component:ZMe},{path:"new-note",component:JMe},{path:"edit/:id",component:(()=>{class n{constructor(t,r,i){this.firestoreService=t,this.credentialsService=r,this._snackBar=i,this.title="",this.noteContent="",this.userEmail="",this.noteId="",this.isLoading=!0}ngOnInit(){this.userEmail=this.credentialsService.credentials.email,this.getNoteById()}getNoteById(){var t=this;return wy(function*(){t.noteId=window.location.pathname.replace("/edit/","");const r=yield t.firestoreService.getNoteById(t.userEmail,t.noteId);r.exists()?(t.title=r.data().note_title,t.noteContent=r.data().note_content,t.isLoading=!1):console.log("No existe ese documento")})()}updateNote(){this.firestoreService.updateNote(this.userEmail,{note_title:this.title,note_content:this.noteContent},this.noteId),this.openSnackBar()}openSnackBar(){this._snackBar.open("Note saved","",{duration:3e3})}}return n.\u0275fac=function(t){return new(t||n)(b(KN),b(jf),b(Y4))},n.\u0275cmp=rr({type:n,selectors:[["app-edit"]],decls:3,vars:2,consts:[["class","new-note",4,"ngIf","ngIfElse"],["spinner",""],[1,"new-note"],["placeholder","Insert title","autosize","",1,"title",3,"ngModel","ngModelChange"],[1,"save-btn",3,"click"],[1,"fa-solid","fa-floppy-disk"],[1,"content"],["placeholder","Insert your note content","autosize","",1,"content-input",3,"ngModel","ngModelChange"],[1,"spinner"],[3,"diameter"]],template:function(t,r){if(1&t&&(Ei(0,ePe,7,2,"section",0),Ei(1,tPe,2,1,"ng-template",null,1,aC)),2&t){const i=Xd(2);rn("ngIf",!r.isLoading)("ngIfElse",i)}},directives:[Qm,bh,a$,eT,p_,Ki],styles:['.new-note[_ngcontent-%COMP%]{padding:25px 20px;background:linear-gradient(99.63deg,#C7EBB3 12.78%,rgba(199,235,179,0) 132.88%);height:auto;display:flex;gap:10px;flex-direction:column}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:30px}.title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;margin:0}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:none;background:none;resize:none;width:100%}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, .textarea[_ngcontent-%COMP%]:focus{outline:none}.textarea[_ngcontent-%COMP%]{display:block;width:100%;line-height:30px;resize:both}.textarea[contenteditable][_ngcontent-%COMP%]:empty:before{content:"Insert title";color:gray}.content[_ngcontent-%COMP%]{background:white;font-family:Poppins,sans-serif;border-radius:40px;height:auto;min-height:100%;padding:25px 20px}.content-input[_ngcontent-%COMP%]{width:100%;min-height:100%;height:auto;font-family:Poppins,sans-serif;font-size:16px}.save-btn[_ngcontent-%COMP%]{background:rgba(255,255,255,.7);width:40px;height:40px;border-radius:50%;border:none;font-size:20px}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:45px}']}),n})()}];let rPe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({imports:[[tz.forRoot(nPe)],tz]}),n})(),iPe=(()=>{class n{constructor(){this.title="labNotes"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=rr({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&sn(0,"router-outlet")},directives:[D0],styles:[""]}),n})();const YN_firebase={projectId:"labnotes-luva",appId:"1:697079395685:web:7e0dc0ffc7dc56cc199d8c",storageBucket:"labnotes-luva.appspot.com",apiKey:"AIzaSyCFXj0uBvIZhmElvTsw9SRnqY_t0fZJnLk",authDomain:"labnotes-luva.firebaseapp.com",messagingSenderId:"697079395685",measurementId:"G-1NLMNNFN3E"};class Yp{constructor(e){return e}}const cK="analytics",uK=ky.async,lPe=Fn(TEe,!0),cPe=Fn(PG,!0),uPe=Fn(AEe,!0);let QN=(()=>{class n{constructor(t,r,i){let s;this.disposables=[],qe("angularfire",Po.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),uK().then(()=>{const o=i.get(Yp);o?this.disposables=[LDe(t).subscribe(a=>{uPe(o,null==a?void 0:a.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(w(Uf),w(le),w(Fe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const dK="firebase_screen_id",XN="outlet",Qp="screen_class",hK="screen_name";let wPe=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const ZN={},IPe=n=>{const e=[n[Qp],n[XN]].join("#");if(ZN.hasOwnProperty(e))return ZN[e];{const t=wPe++;return ZN[e]=t,t}},CPe=(n,e,t)=>n.events.pipe(Yt(i=>i instanceof oH)).pipe(Vr(i=>{var s;const a=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",l=n.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!l)return Q(null);let c=l;for(;c.firstChild;)c=c.firstChild;const u=c.pathFromRoot.map(f=>{var p;return null===(p=f.routeConfig)||void 0===p?void 0:p.path}).filter(f=>f).join("/")||"/",d={[hK]:u,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:u,[XN]:i.snapshot.outlet};e&&(d.page_title=e.getTitle());let h=l.component;if(h){if(h===A0){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;h=f.component}}else h=i.snapshot.component;if("string"==typeof h)return Q(Object.assign(Object.assign({},d),{[Qp]:h}));if(h){const f=t.resolveComponentFactory(h);return Q(Object.assign(Object.assign({},d),{[Qp]:f.selector}))}return Q(null)}),Yt(i=>!!i),_e(i=>Object.assign({firebase_screen_class:i[Qp],[dK]:IPe(i)},i)),function sPe(n,e,t,r){return st((i,s)=>{let o;e&&"function"!=typeof e?({duration:t,element:o,connector:r}=e):o=e;const a=new Map,l=p=>{a.forEach(p),p(s)},c=p=>l(m=>m.error(p));let u=0,d=!1;const h=new bF(s,p=>{try{const m=n(p);let _=a.get(m);if(!_){a.set(m,_=r?r():new Te);const v=function f(p,m){const _=new Le(v=>{u++;const y=m.subscribe(v);return()=>{y.unsubscribe(),0==--u&&d&&h.unsubscribe()}});return _.key=p,_}(m,_);if(s.next(v),t){const y=Xe(_,()=>{_.complete(),null==y||y.unsubscribe()},void 0,void 0,()=>a.delete(m));h.add(dn(t(v)).subscribe(y))}}_.next(o?o(p):p)}catch(m){c(m)}},()=>l(p=>p.complete()),c,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(h)})}(i=>i[XN]),Nt(i=>i.pipe(f$((s,o)=>JSON.stringify(s)===JSON.stringify(o)),K_(void 0),function oPe(){return st((n,e)=>{let t,r=!1;n.subscribe(Xe(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}(),_e(([s,o])=>s?Object.assign({firebase_previous_class:s[Qp],firebase_previous_screen:s[hK],firebase_previous_id:s[dK]},o):o))));let fK=(()=>{class n{constructor(t,r,i,s,o,a){qe("angularfire",Po.full,"screen-tracking"),uK().then(()=>{const l=a.get(Yp);!t||!l||s.runOutsideAngular(()=>{this.disposable=CPe(t,r,i).pipe(Vr(c=>jb(this,void 0,void 0,function*(){return o&&(yield o.initialized),cPe(l,"screen_view",c)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(w(Kn,8),w(Q3,8),w(vo),w(le),w(QN,8),w(Fe))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();const JN=new B("angularfire2.analytics-instances");function SPe(n){return(e,t)=>{if(!ky.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new Yp(r)}}const DPe={provide:class aPe{constructor(){return sf(cK)}},deps:[[new ot,JN]]},APe={provide:Yp,useFactory:function TPe(n,e){if(!ky.sync())return null;const t=rf(cK,n,e);return t&&new Yp(t)},deps:[[new ot,JN],Oo]};let xPe=(()=>{class n{constructor(t,r){qe("angularfire",Po.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(w(fK,8),w(QN,8))},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({providers:[APe,DPe,{provide:dh,useValue:ky.async,multi:!0}]}),n})();function kPe(n,...e){return{ngModule:xPe,providers:[{provide:JN,useFactory:SPe(n),multi:!0,deps:[le,Fe,af,lf,...e]}]}}class MPe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Zh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class PPe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ps(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const mK=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new MPe(e)}}catch(e){}return new PPe},Nl=mK("localStorage"),t1=mK("sessionStorage"),td=new Ka("@firebase/database"),_K=function(){let n=1;return function(){return n++}}(),yK=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,O(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new pme;t.update(e);const r=t.digest();return py.encodeByteArray(r)},Xp=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Xp.apply(null,r):e+="object"==typeof r?Pn(r):r,e+=" "}return e};let Fl=null,vK=!0;const Cn=function(...n){if(!0===vK&&(vK=!1,null===Fl&&!0===t1.get("logging_enabled")&&function(n,e){O(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(td.logLevel=J.VERBOSE,Fl=td.log.bind(td),e&&t1.set("logging_enabled",!0)):"function"==typeof n?Fl=n:(Fl=null,t1.remove("logging_enabled"))}(!0)),Fl){const e=Xp.apply(null,n);Fl(e)}},Zp=function(n){return function(...e){Cn(n,...e)}},n1=function(...n){const e="FIREBASE INTERNAL ERROR: "+Xp(...n);td.error(e)},us=function(...n){const e=`FIREBASE FATAL ERROR: ${Xp(...n)}`;throw td.error(e),new Error(e)},tr=function(...n){const e="FIREBASE WARNING: "+Xp(...n);td.warn(e)},ia="[MIN_NAME]",ro="[MAX_NAME]",Ll=function(n,e){if(n===e)return 0;if(n===ia||e===ro)return-1;if(e===ia||n===ro)return 1;{const t=IK(n),r=IK(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},Jp=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Pn(e))},r1=function(n){if("object"!=typeof n||null===n)return Pn(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=Pn(e[r]),t+=":",t+=r1(n[e[r]]);return t+="}",t},bK=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};const wK=function(n){O(!function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)}(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},UPe=new RegExp("^-?(0*)\\d{1,10}$"),IK=function(n){if(UPe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},nd=function(n){try{n()}catch(e){setTimeout(()=>{throw tr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},eg=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};let tg=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const AK=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,RK="websocket",MK="long_polling";class o1{constructor(e,t,r,i,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Nl.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Nl.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function PK(n,e,t){let r;if(O("string"==typeof e,"typeof type must == string"),O("object"==typeof t,"typeof params must == object"),e===RK)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==MK)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function WPe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return function Tn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class qPe{constructor(){this.counters_={}}incrementCounter(e,t=1){Ps(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return tme(this.counters_)}}const a1={};function c1(n){const e=n.toString();return a1[e]||(a1[e]=new qPe),a1[e]}class YPe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&nd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class sa{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zp(e),this.stats_=c1(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),PK(t,MK,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new YPe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new u1((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&AK.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){sa.forceAllow_=!0}static forceDisallow(){sa.forceDisallow_=!0}static isAvailable(){return!(!sa.forceAllow_&&(sa.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Pn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=oz(t),i=bK(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Pn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class u1{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_K(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=u1.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Cn("frame writing exception"),a.stack&&Cn(a.stack),Cn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Cn("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Cn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let JE=null;"undefined"!=typeof MozWebSocket?JE=MozWebSocket:"undefined"!=typeof WebSocket&&(JE=WebSocket);let rd=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zp(this.connId),this.stats_=c1(r),this.connURL=n.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return"undefined"!=typeof location&&location.hostname&&AK.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),PK(t,RK,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Nl.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new JE(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==JE&&!n.forceDisallow_}static previouslyFailed(){return Nl.isInMemoryStorage||!0===Nl.get("previous_websocket_failure")}markConnectionHealthy(){Nl.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Zh(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(O(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=Pn(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=bK(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),UK=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[sa,rd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=rd&&rd.isAvailable();let i=r&&!rd.previouslyFailed();if(t.webSocketOnly&&(r||tr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[rd];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class qK{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zp("c:"+this.id+":"),this.transportManager_=new UK(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=eg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Jp("t",e),r=Jp("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Jp("t",e),r=Jp("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Jp("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?n1("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):n1("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&tr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),eg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):eg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Nl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class YK{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){O(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class eb extends YK{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!F0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new eb}getInitialEvent(e){return O("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Be{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ge(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function oa(n){return n.pieces_.length-n.pieceNum_}function Qe(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Be(n.pieces_,e)}class p1 extends YK{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new p1}getInitialEvent(e){return O("visible"===e,"Unknown event type: "+e),[this.visible_]}}const rg=1e3;let nb,Bl=(()=>{class n extends class KK{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}{constructor(t,r,i,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Zp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rg,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");p1.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&eb.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(Pn(o)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new nu,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&Ps(t,"w")){const i=ru(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();tr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=yy(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=yy(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Pn(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):n1("Unrecognized action received from server: "+Pn(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rg,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=rg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return g(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(f){O(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?Cn("getToken() completed but was canceled"):(Cn("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new qK(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,m=>{tr(m+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&tr(f),u())}}})()}interrupt(t){Cn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Cn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],B0(this.interruptReasons_)&&(this.reconnectDelay_=rg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>r1(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Be(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){Cn("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Cn("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+"".replace(/\./g,"-")]=1,F0()?t["framework.cordova"]=1:fz()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=eb.getInstance().currentlyOnline();return B0(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Ee{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ee(e,t)}}class tb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Ee(ia,e),i=new Ee(ia,t);return 0!==this.compare(r,i)}minPost(){return Ee.MIN}}class nY extends tb{static get __EMPTY_NODE(){return nb}static set __EMPTY_NODE(e){nb=e}compare(e,t){return Ll(e.name,t.name)}isDefinedOn(e){throw tu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ee.MIN}maxPost(){return new Ee(ro,nb)}makePost(e,t){return O("string"==typeof e,"KeyIndex indexValue must always be a string."),new Ee(e,nb)}toString(){return".key"}}const ds=new nY;class rb{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let Ri=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:Sr.EMPTY_NODE,this.right=null!=o?o:Sr.EMPTY_NODE}copy(t,r,i,s,o){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Sr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Sr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class TOe{copy(e,t,r,i,s){return this}insert(e,t,r){return new Ri(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Sr{constructor(e,t=Sr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Sr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ri.BLACK,null,null))}remove(e){return new Sr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ri.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new rb(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new rb(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new rb(this.root_,null,this.comparator_,!0,e)}}function g1(n,e){return Ll(n,e)}Sr.EMPTY_NODE=new TOe;const rY=function(n){return"number"==typeof n?"number:"+wK(n):"string:"+n},iY=function(n){if(n.isLeafNode()){const e=n.val();O("string"==typeof e||"number"==typeof e||"object"==typeof e&&Ps(e,".sv"),"Priority must be a string or number.")}else O(undefined===n||n.isEmpty(),"priority of unexpected type.");O(undefined===n||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let sY,id=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,O(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),iY(this.priorityNode_)}static set __childrenNodeConstructor(t){sY=t}static get __childrenNodeConstructor(){return sY}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return function me(n){return n.pieceNum_>=n.pieces_.length}(t)?this:".priority"===ge(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=ge(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(O(".priority"!==i||1===oa(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qe(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+rY(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?wK(this.value_):this.value_,this.lazyHash_=yK(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(O(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return O(s>=0,"Unknown leaf type: "+r),O(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();class kOe extends tb{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?Ll(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ee.MIN}maxPost(){return new Ee(ro,new id("[PRIORITY-POST]",undefined))}makePost(e,t){const r=undefined(e);return new Ee(t,new id("[PRIORITY-POST]",r))}toString(){return".priority"}}const rt=new kOe,ROe=Math.log(2);class MOe{constructor(e){this.count=parseInt(Math.log(e+1)/ROe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ib=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new Ri(h,d.node,Ri.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),m=i(f+1,c);return d=n[f],h=t?t(d):d,new Ri(h,d.node,Ri.BLACK,p,m)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,m){const _=d-p,v=d;d-=p;const y=i(_+1,v),C=n[_],x=t?t(C):C;f(new Ri(x,C.node,m,null,y))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),_=Math.pow(2,l.count-(p+1));m?h(_,Ri.BLACK):(h(_,Ri.BLACK),h(_,Ri.RED))}return u}(new MOe(n.length));return new Sr(r||e,a)};let _1;const sd={};class io{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return O(sd&&rt,"ChildrenNode.ts has not been loaded"),_1=_1||new io({".priority":sd},{".priority":rt}),_1}get(e){const t=ru(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Sr?t:null}hasIndex(e){return Ps(this.indexSet_,e.toString())}addIndex(e,t){O(e!==ds,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(Ee.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?ib(r,e.getCompare()):sd;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new io(u,c)}addToIndexes(e,t){const r=vy(this.indexes_,(i,s)=>{const o=ru(this.indexSet_,s);if(O(o,"Missing index implementation for "+s),i===sd){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(Ee.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),ib(a,o.getCompare())}return sd}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new Ee(e.name,a))),l.insert(e,e.node)}});return new io(r,this.indexSet_)}removeFromIndexes(e,t){const r=vy(this.indexes_,i=>{if(i===sd)return i;{const s=t.get(e.name);return s?i.remove(new Ee(e.name,s)):i}});return new io(r,this.indexSet_)}}let ig,ue=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&iY(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ig||(ig=new n(new Sr(g1),null,io.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ig}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?ig:r}}getChild(t){const r=ge(t);return null===r?this:this.getImmediateChild(r).getChild(Qe(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(O(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Ee(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?ig:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=ge(t);if(null===i)return r;{O(".priority"!==ge(t)||1===oa(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Qe(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(rt,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+rY(this.getPriority().val())+":"),this.forEachChild(rt,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":yK(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new Ee(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Ee(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Ee(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Ee.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Ee.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===sg?-1:0}withIndex(t){if(t===ds||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===ds||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(rt),s=r.getIterator(rt);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===ds?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();class POe extends ue{constructor(){super(new Sr(g1),ue.EMPTY_NODE,io.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}}const sg=new POe;function G1e(n=ef(),e){const t=Os(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=cz("database");r&&function W1e(n,e,t,r={}){(n=Vt(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&us("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&us('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new tg(tg.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:hz(r.mockUserToken,n.app.options.projectId);s=new tg(o)}!function B1e(n,e,t,r){n.repoInfo_=new o1(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r)}return t}nY.__EMPTY_NODE=ue.EMPTY_NODE,id.__childrenNodeConstructor=ue,Bl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Bl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};class cF{constructor(e){return e}}const uQ="database",uF=new B("angularfire2.database-instances");function Z1e(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new cF(r)}}const J1e={provide:class Q1e{constructor(){return sf(uQ)}},deps:[[new ot,uF]]},eFe={provide:cF,useFactory:function X1e(n,e){const t=rf(uQ,n,e);return t&&new cF(t)},deps:[[new ot,uF],Oo]};let tFe=(()=>{class n{constructor(){qe("angularfire",Po.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({providers:[eFe,J1e]}),n})();function nFe(n,...e){return{ngModule:tFe,providers:[{provide:uF,useFactory:Z1e(n),multi:!0,deps:[le,Fe,af,lf,[new ot,HM],[new ot,Vy],...e]}]}}const rFe=Fn(G1e,!0),pa=new Le(_d),sFe={connector:()=>new Te};function dQ(n,e=sFe){const{connector:t}=e;return st((r,i)=>{const s=t();dn(n(function iFe(n){return new Le(e=>n.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}function hQ(n,e){return e?t=>Kc(e.pipe(pn(1),function lFe(){return st((n,e)=>{n.subscribe(Xe(e,_d))})}()),t.pipe(hQ(n))):Nt((t,r)=>dn(n(t,r)).pipe(pn(1),function cFe(n){return _e(()=>n)}(t)))}const Ig="Service workers are disabled or not supported by this browser";class Rb{constructor(e){if(this.serviceWorker=e,e){const r=Mh(e,"controllerchange").pipe(_e(()=>e.controller)),s=Kc(Lh(()=>Q(e.controller)),r);this.worker=s.pipe(Yt(u=>!!u)),this.registration=this.worker.pipe(Vr(()=>e.getRegistration()));const c=Mh(e,"message").pipe(_e(u=>u.data)).pipe(Yt(u=>u&&u.type)).pipe(function aFe(n){return n?e=>dQ(n)(e):e=>function oFe(n,e){const t=re(n)?n:()=>n;return re(e)?dQ(e,{connector:t}):r=>new J4(r,t)}(new Te)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function dFe(n){return Lh(()=>Vh(new Error(n)))}(Ig)}postMessage(e,t){return this.worker.pipe(pn(1),dr(r=>{r.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,t);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Yt(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(pn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Yt(t=>t.nonce===e),pn(1),_e(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let hFe=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new Te,!t.isEnabled)return this.messages=pa,this.notificationClicks=pa,void(this.subscription=pa);this.messages=this.sw.eventsOfType("PUSH").pipe(_e(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(_e(i=>i.data)),this.pushManager=this.sw.registration.pipe(_e(i=>i.pushManager));const r=this.pushManager.pipe(Vr(i=>i.getSubscription()));this.subscription=xg(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(Ig));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(Vr(o=>o.subscribe(r)),pn(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(pn(1),Vr(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Ig))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(w(Rb))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})(),fFe=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=pa,this.available=pa,this.activated=pa,void(this.unrecoverable=pa);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(Yt(r=>"VERSION_READY"===r.type),_e(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ig));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Ig));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(w(Rb))},n.\u0275prov=V({token:n,factory:n.\u0275fac}),n})();class dF{}const fQ=new B("NGSW_REGISTER_SCRIPT");function pFe(n,e,t,r){return()=>{if(!LC(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)s=t.registrationStrategy();else{const[a,...l]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=Q(null);break;case"registerWithDelay":s=pQ(+l[0]||0);break;case"registerWhenStable":s=l[0]?xg(gQ(n),pQ(+l[0])):gQ(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(le).runOutsideAngular(()=>s.pipe(pn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function pQ(n){return Q(null).pipe(function uFe(n,e=Nh){const t=S4(n,e);return hQ(()=>t)}(n))}function gQ(n){return n.get(fh).isStable.pipe(Yt(t=>t))}function gFe(n,e){return new Rb(LC(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let mFe=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:fQ,useValue:t},{provide:dF,useValue:r},{provide:Rb,useFactory:gFe,deps:[dF,Aa]},{provide:dh,useFactory:pFe,deps:[Fe,fQ,dF,Aa],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n}),n.\u0275inj=Ve({providers:[hFe,fFe]}),n})(),_Fe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=$e({type:n,bootstrap:[iPe]}),n.\u0275inj=Ve({providers:[fK,QN],imports:[[Y3,rPe,_ce,HEe(()=>zEe(YN_firebase)),kPe(()=>lPe()),FDe(()=>VDe()),nFe(()=>rFe()),BMe(()=>zMe()),nhe,Ece,Ghe,q4,Gfe,U4,mFe.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]]}),n})();(function fse(){n3=!1})(),Jae().bootstrapModule(_Fe).catch(n=>console.error(n))}},re=>{re(re.s=858)}]);