"use strict";var mAe=Object.defineProperty,_Ae=Object.defineProperties,yAe=Object.getOwnPropertyDescriptors,m9=Object.getOwnPropertySymbols,vAe=Object.prototype.hasOwnProperty,wAe=Object.prototype.propertyIsEnumerable,_9=(ne,nn,Kn)=>nn in ne?mAe(ne,nn,{enumerable:!0,configurable:!0,writable:!0,value:Kn}):ne[nn]=Kn,fw=(ne,nn)=>{for(var Kn in nn||(nn={}))vAe.call(nn,Kn)&&_9(ne,Kn,nn[Kn]);if(m9)for(var Kn of m9(nn))wAe.call(nn,Kn)&&_9(ne,Kn,nn[Kn]);return ne},pw=(ne,nn)=>_Ae(ne,yAe(nn));(self.webpackChunklabNotes=self.webpackChunklabNotes||[]).push([[179],{125:()=>{function ne(n){return"function"==typeof n}function nn(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Kn=nn(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function wl(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class wn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ne(r))try{r()}catch(s){e=s instanceof Kn?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{xP(s)}catch(o){e=null!=e?e:[],o instanceof Kn?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Kn(e)}}add(e){var t;if(e&&e!==this)if(this.closed)xP(e);else{if(e instanceof wn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&wl(t,e)}remove(e){const{_finalizers:t}=this;t&&wl(t,e),e instanceof wn&&e._removeParent(this)}}wn.EMPTY=(()=>{const n=new wn;return n.closed=!0,n})();const SP=wn.EMPTY;function AP(n){return n instanceof wn||n&&"closed"in n&&ne(n.remove)&&ne(n.add)&&ne(n.unsubscribe)}function xP(n){ne(n)?n():n.unsubscribe()}const Xo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sp={setTimeout(n,e,...t){const{delegate:r}=Sp;return(null==r?void 0:r.setTimeout)?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Sp;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function MP(n){Sp.setTimeout(()=>{const{onUnhandledError:e}=Xo;if(!e)throw n;e(n)})}function Bu(){}const y9=gw("C",void 0,void 0);function gw(n,e,t){return{kind:n,value:e,error:t}}let Zo=null;function Ap(n){if(Xo.useDeprecatedSynchronousErrorHandling){const e=!Zo;if(e&&(Zo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Zo;if(Zo=null,t)throw r}}else n()}class mw extends wn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,AP(e)&&e.add(this)):this.destination=T9}static create(e,t,r){return new Uu(e,t,r)}next(e){this.isStopped?yw(function w9(n){return gw("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?yw(function v9(n){return gw("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yw(y9,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const E9=Function.prototype.bind;function _w(n,e){return E9.call(n,e)}class C9{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){xp(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){xp(r)}else xp(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){xp(t)}}}class Uu extends mw{constructor(e,t,r){let i;if(super(),ne(e)||!e)i={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0};else{let s;this&&Xo.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_w(e.next,s),error:e.error&&_w(e.error,s),complete:e.complete&&_w(e.complete,s)}):i=e}this.destination=new C9(i)}}function xp(n){Xo.useDeprecatedSynchronousErrorHandling?function b9(n){Xo.useDeprecatedSynchronousErrorHandling&&Zo&&(Zo.errorThrown=!0,Zo.error=n)}(n):MP(n)}function yw(n,e){const{onStoppedNotification:t}=Xo;t&&Sp.setTimeout(()=>t(n,e))}const T9={closed:!0,next:Bu,error:function I9(n){throw n},complete:Bu},vw="function"==typeof Symbol&&Symbol.observable||"@@observable";function $s(n){return n}let Fe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function S9(n){return n&&n instanceof mw||function D9(n){return n&&ne(n.next)&&ne(n.error)&&ne(n.complete)}(n)&&AP(n)}(t)?t:new Uu(t,r,i);return Ap(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=RP(r))((i,s)=>{const o=new Uu({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[vw](){return this}pipe(...t){return function kP(n){return 0===n.length?$s:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}(t)(this)}toPromise(t){return new(t=RP(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function RP(n){var e;return null!==(e=null!=n?n:Xo.Promise)&&void 0!==e?e:Promise}const A9=nn(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ie=(()=>{class n extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new PP(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new A9}next(t){Ap(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ap(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ap(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?SP:(this.currentObservers=null,s.push(t),new wn(()=>{this.currentObservers=null,wl(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Fe;return t.source=this,t}}return n.create=(e,t)=>new PP(e,t),n})();class PP extends Ie{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:SP}}function NP(n){return ne(null==n?void 0:n.lift)}function rt(n){return e=>{if(NP(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(n,e,t,r,i){return new OP(n,e,t,r,i)}class OP extends mw{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function me(n,e){return rt((t,r)=>{let i=0;t.subscribe(Qe(r,s=>{r.next(n.call(e,s,i++))}))})}function zs(n){return this instanceof zs?(this.v=n,this):new zs(n)}function VP(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof zs?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function BP(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Cw(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Iw=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function UP(n){return ne(null==n?void 0:n.then)}function jP(n){return ne(n[vw])}function $P(n){return Symbol.asyncIterator&&ne(null==n?void 0:n[Symbol.asyncIterator])}function zP(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const HP=function Y9(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function WP(n){return ne(null==n?void 0:n[HP])}function GP(n){return VP(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield zs(t.read());if(i)return yield zs(void 0);yield yield zs(r)}}finally{t.releaseLock()}})}function qP(n){return ne(null==n?void 0:n.getReader)}function rn(n){if(n instanceof Fe)return n;if(null!=n){if(jP(n))return function X9(n){return new Fe(e=>{const t=n[vw]();if(ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Iw(n))return function Z9(n){return new Fe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(UP(n))return function J9(n){return new Fe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,MP)})}(n);if($P(n))return KP(n);if(WP(n))return function e8(n){return new Fe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(qP(n))return function t8(n){return KP(GP(n))}(n)}throw zP(n)}function KP(n){return new Fe(e=>{(function n8(n,e){var t,r,i,s;return function FP(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=BP(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ns(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function kt(n,e,t=1/0){return ne(e)?kt((r,i)=>me((s,o)=>e(r,s,i,o))(rn(n(r,i))),t):("number"==typeof e&&(t=e),rt((r,i)=>function r8(n,e,t,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<r?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let m=!1;rn(t(g,u++)).subscribe(Qe(e,v=>{null==i||i(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<r;){const v=l.shift();o?ns(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Qe(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,n,t)))}function ju(n=1/0){return kt($s,n)}const rs=new Fe(n=>n.complete());function QP(n){return n&&ne(n.schedule)}function Tw(n){return n[n.length-1]}function YP(n){return ne(Tw(n))?n.pop():void 0}function $u(n){return QP(Tw(n))?n.pop():void 0}function Mp(n,e=0){return rt((t,r)=>{t.subscribe(Qe(r,i=>ns(r,n,()=>r.next(i),e),()=>ns(r,n,()=>r.complete(),e),i=>ns(r,n,()=>r.error(i),e)))})}function kp(n,e=0){return rt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function XP(n,e){if(!n)throw new Error("Iterable cannot be null");return new Fe(t=>{ns(t,e,()=>{const r=n[Symbol.asyncIterator]();ns(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function bn(n,e){return e?function d8(n,e){if(null!=n){if(jP(n))return function o8(n,e){return rn(n).pipe(kp(e),Mp(e))}(n,e);if(Iw(n))return function l8(n,e){return new Fe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(UP(n))return function a8(n,e){return rn(n).pipe(kp(e),Mp(e))}(n,e);if($P(n))return XP(n,e);if(WP(n))return function c8(n,e){return new Fe(t=>{let r;return ns(t,e,()=>{r=n[HP](),ns(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>ne(null==r?void 0:r.return)&&r.return()})}(n,e);if(qP(n))return function u8(n,e){return XP(GP(n),e)}(n,e)}throw zP(n)}(n,e):rn(n)}function Rp(...n){const e=$u(n),t=function s8(n,e){return"number"==typeof Tw(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?rn(r[0]):ju(t)(bn(r,e)):rs}function Dw(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Uu({next:()=>{r.unsubscribe(),n()}});return rn(e(...t)).subscribe(r)}function Ge(n){for(let e in n)if(n[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function Sw(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Be(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Be).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Aw(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const f8=Ge({__forward_ref__:Ge});function Ye(n){return n.__forward_ref__=Ye,n.toString=function(){return Be(this())},n}function de(n){return ZP(n)?n():n}function ZP(n){return"function"==typeof n&&n.hasOwnProperty(f8)&&n.__forward_ref__===Ye}class B extends Error{constructor(e,t){super(function xw(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function En(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}function Pp(n,e){const t=e?` in ${e}`:"";throw new B(-201,`No provider for ${En(n)} found${t}`)}function wr(n,e){null==n&&function Ue(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Le(n){return{providers:n.providers||[],imports:n.imports||[]}}function Mw(n){return JP(n,Np)||JP(n,tN)}function JP(n,e){return n.hasOwnProperty(e)?n[e]:null}function eN(n){return n&&(n.hasOwnProperty(kw)||n.hasOwnProperty(w8))?n[kw]:null}const Np=Ge({\u0275prov:Ge}),kw=Ge({\u0275inj:Ge}),tN=Ge({ngInjectableDef:Ge}),w8=Ge({ngInjectorDef:Ge});var ee=(()=>((ee=ee||{})[ee.Default=0]="Default",ee[ee.Host=1]="Host",ee[ee.Self=2]="Self",ee[ee.SkipSelf=4]="SkipSelf",ee[ee.Optional=8]="Optional",ee))();let Rw;function Hs(n){const e=Rw;return Rw=n,e}function nN(n,e,t){const r=Mw(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ee.Optional?null:void 0!==e?e:void Pp(Be(n),"Injector")}function Ws(n){return{toString:n}.toString()}var ei=(()=>((ei=ei||{})[ei.OnPush=0]="OnPush",ei[ei.Default=1]="Default",ei))(),ti=(()=>{return(n=ti||(ti={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ti;var n})();const E8="undefined"!=typeof globalThis&&globalThis,C8="undefined"!=typeof window&&window,I8="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,He=E8||"undefined"!=typeof global&&global||C8||I8,bl={},qe=[],Op=Ge({\u0275cmp:Ge}),Pw=Ge({\u0275dir:Ge}),Nw=Ge({\u0275pipe:Ge}),rN=Ge({\u0275mod:Ge}),ss=Ge({\u0275fac:Ge}),zu=Ge({__NG_ELEMENT_ID__:Ge});let T8=0;function Qn(n){return Ws(()=>{const t={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ei.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||qe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ti.Emulated,id:"c",styles:n.styles||qe,_:null,setInput:null,schemas:n.schemas||null,tView:null},i=n.directives,s=n.features,o=n.pipes;return r.id+=T8++,r.inputs=aN(n.inputs,t),r.outputs=aN(n.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(iN):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(sN):null,r})}function iN(n){return Cn(n)||function Gs(n){return n[Pw]||null}(n)}function sN(n){return function Jo(n){return n[Nw]||null}(n)}const oN={};function je(n){return Ws(()=>{const e={type:n.type,bootstrap:n.bootstrap||qe,declarations:n.declarations||qe,imports:n.imports||qe,exports:n.exports||qe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(oN[n.id]=n.type),e})}function aN(n,e){if(null==n)return bl;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const W=Qn;function Cn(n){return n[Op]||null}function Vr(n,e){const t=n[rN]||null;if(!t&&!0===e)throw new Error(`Type ${Be(n)} does not have '\u0275mod' property.`);return t}function Ci(n){return Array.isArray(n)&&"object"==typeof n[1]}function ri(n){return Array.isArray(n)&&!0===n[1]}function Lw(n){return 0!=(8&n.flags)}function Bp(n){return 2==(2&n.flags)}function Up(n){return 1==(1&n.flags)}function ii(n){return null!==n.template}function k8(n){return 0!=(512&n[2])}function ra(n,e){return n.hasOwnProperty(ss)?n[ss]:null}class N8{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function dr(){return cN}function cN(n){return n.type.prototype.ngOnChanges&&(n.setInput=F8),O8}function O8(){const n=dN(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===bl)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function F8(n,e,t,r){const i=dN(n)||function L8(n,e){return n[uN]=e}(n,{previous:bl,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],l=o[a];s[a]=new N8(l&&l.currentValue,e,o===bl),n[r]=e}dr.ngInherit=!0;const uN="__ngSimpleChanges__";function dN(n){return n[uN]||null}let $w;function Ct(n){return!!n.listen}const hN={createRenderer:(n,e)=>function zw(){return void 0!==$w?$w:"undefined"!=typeof document?document:void 0}()};function Vt(n){for(;Array.isArray(n);)n=n[0];return n}function jp(n,e){return Vt(e[n])}function Er(n,e){return Vt(e[n.index])}function Hw(n,e){return n.data[e]}function Cr(n,e){const t=e[n];return Ci(t)?t:t[0]}function fN(n){return 4==(4&n[2])}function Ww(n){return 128==(128&n[2])}function qs(n,e){return null==e?null:n[e]}function pN(n){n[18]=0}function Gw(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const se={lFrame:CN(null),bindingsEnabled:!0};function mN(){return se.bindingsEnabled}function D(){return se.lFrame.lView}function Ae(){return se.lFrame.tView}function Sl(n){return se.lFrame.contextLView=n,n[8]}function Qt(){let n=_N();for(;null!==n&&64===n.type;)n=n.parent;return n}function _N(){return se.lFrame.currentTNode}function Ii(n,e){const t=se.lFrame;t.currentTNode=n,t.isParent=e}function qw(){return se.lFrame.isParent}function Kw(){se.lFrame.isParent=!1}function Xn(){const n=se.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Al(){return se.lFrame.bindingIndex++}function e7(n,e){const t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,Qw(e)}function Qw(n){se.lFrame.currentDirectiveIndex=n}function Yw(n){const e=se.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function wN(){return se.lFrame.currentQueryIndex}function Xw(n){se.lFrame.currentQueryIndex=n}function n7(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function bN(n,e,t){if(t&ee.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&ee.Host||(i=n7(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=se.lFrame=EN();return r.currentTNode=e,r.lView=n,!0}function zp(n){const e=EN(),t=n[1];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function EN(){const n=se.lFrame,e=null===n?null:n.child;return null===e?CN(n):e}function CN(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function IN(){const n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const TN=IN;function Hp(){const n=IN();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zn(){return se.lFrame.selectedIndex}function Ks(n){se.lFrame.selectedIndex=n}function gt(){const n=se.lFrame;return Hw(n.tView,n.selectedIndex)}function Wp(){se.lFrame.currentNamespace="svg"}function Gp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function qp(n,e,t){DN(n,e,3,t)}function Kp(n,e,t,r){(3&n[2])===t&&DN(n,e,t,r)}function Zw(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function DN(n,e,t,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(u7(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function u7(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ku{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Qp(n,e,t){const r=Ct(n);let i=0;for(;i<t.length;){const s=t[i];if("number"==typeof s){if(0!==s)break;i++;const o=t[i++],a=t[i++],l=t[i++];r?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++i];eb(o)?r&&n.setProperty(e,o,a):r?n.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function SN(n){return 3===n||4===n||6===n}function eb(n){return 64===n.charCodeAt(0)}function Yp(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||AN(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function AN(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function xN(n){return-1!==n}function xl(n){return 32767&n}function Ml(n,e){let t=function g7(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let tb=!0;function Xp(n){const e=tb;return tb=n,e}let m7=0;function Yu(n,e){const t=rb(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,nb(r.data,n),nb(e,null),nb(r.blueprint,null));const i=Zp(n,e),s=n.injectorIndex;if(xN(i)){const o=xl(i),a=Ml(i,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function nb(n,e){n.push(0,0,0,0,0,0,0,0,e)}function rb(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Zp(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Jp(n,e,t){!function _7(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(zu)&&(r=t[zu]),null==r&&(r=t[zu]=m7++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function RN(n,e,t){if(t&ee.Optional)return n;Pp(e,"NodeInjector")}function PN(n,e,t,r){if(t&ee.Optional&&void 0===r&&(r=null),0==(t&(ee.Self|ee.Host))){const i=n[9],s=Hs(void 0);try{return i?i.get(e,r,t&ee.Optional):nN(e,r,t&ee.Optional)}finally{Hs(s)}}return RN(r,e,t)}function NN(n,e,t,r=ee.Default,i){if(null!==n){const s=function b7(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(zu)?n[zu]:void 0;return"number"==typeof e?e>=0?255&e:v7:e}(t);if("function"==typeof s){if(!bN(e,n,r))return r&ee.Host?RN(i,t,r):PN(e,t,r,i);try{const o=s(r);if(null!=o||r&ee.Optional)return o;Pp(t)}finally{TN()}}else if("number"==typeof s){let o=null,a=rb(n,e),l=-1,c=r&ee.Host?e[16][6]:null;for((-1===a||r&ee.SkipSelf)&&(l=-1===a?Zp(n,e):e[a+8],-1!==l&&LN(r,!1)?(o=e[1],a=xl(l),e=Ml(l,e)):a=-1);-1!==a;){const u=e[1];if(FN(s,a,u.data)){const d=w7(a,e,t,o,r,c);if(d!==ON)return d}l=e[a+8],-1!==l&&LN(r,e[1].data[a+8]===c)&&FN(s,a,e)?(o=u,a=xl(l),e=Ml(l,e)):a=-1}}}return PN(e,t,r,i)}const ON={};function v7(){return new kl(Qt(),D())}function w7(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],u=eg(a,o,t,null==r?Bp(a)&&tb:r!=o&&0!=(3&a.type),i&ee.Host&&s===a);return null!==u?Xu(e,o,u,a):ON}function eg(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=i?a+u:n.directiveEnd;for(let f=r?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(i){const f=o[l];if(f&&ii(f)&&f.type===t)return l}return null}function Xu(n,e,t,r){let i=n[t];const s=e.data;if(function d7(n){return n instanceof Ku}(i)){const o=i;o.resolving&&function p8(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new B(-200,`Circular dependency in DI detected for ${n}${t}`)}(En(s[t]));const a=Xp(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Hs(o.injectImpl):null;bN(n,r,ee.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function c7(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=cN(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Hs(l),Xp(a),o.resolving=!1,TN()}}return i}function FN(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function LN(n,e){return!(n&ee.Self||n&ee.Host&&e)}class kl{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return NN(this._tNode,this._lView,e,r,t)}}function In(n){return Ws(()=>{const e=n.prototype.constructor,t=e[ss]||ib(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ss]||ib(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ib(n){return ZP(n)?()=>{const e=ib(de(n));return e&&e()}:ra(n)}function Zu(n){return function y7(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(SN(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Qt(),n)}const Pl="__parameters__";function Ol(n,e,t){return Ws(()=>{const r=function sb(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Pl)?l[Pl]:Object.defineProperty(l,Pl,{value:[]})[Pl];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class V{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=L({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const C7=new V("AnalyzeForEntryComponents");function jr(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),jr(r,e)):e!==n&&e.push(r)}return e}function Ti(n,e){n.forEach(t=>Array.isArray(t)?Ti(t,e):e(t))}function BN(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function tg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function td(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function Ir(n,e,t){let r=Fl(n,e);return r>=0?n[1|r]=t:(r=~r,function D7(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function ab(n,e){const t=Fl(n,e);if(t>=0)return n[1|t]}function Fl(n,e){return function $N(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const nd={},cb="__NG_DI_FLAG__",rg="ngTempTokenPath",P7=/\n/gm,HN="__source",O7=Ge({provide:String,useValue:Ge});let rd;function WN(n){const e=rd;return rd=n,e}function F7(n,e=ee.Default){if(void 0===rd)throw new B(203,"");return null===rd?nN(n,void 0,e):rd.get(n,e&ee.Optional?null:void 0,e)}function E(n,e=ee.Default){return(function b8(){return Rw}()||F7)(de(n),e)}const ub=E;function db(n){const e=[];for(let t=0;t<n.length;t++){const r=de(n[t]);if(Array.isArray(r)){if(0===r.length)throw new B(900,"");let i,s=ee.Default;for(let o=0;o<r.length;o++){const a=r[o],l=L7(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(E(i,s))}else e.push(E(r))}return e}function id(n,e){return n[cb]=e,n.prototype[cb]=e,n}function L7(n){return n[cb]}const ig=id(Ol("Inject",n=>({token:n})),-1),it=id(Ol("Optional"),8),sd=id(Ol("SkipSelf"),4);var Tr=(()=>((Tr=Tr||{})[Tr.Important=1]="Important",Tr[Tr.DashCase=2]="DashCase",Tr))();const JN="__ngContext__";function Ln(n,e){n[JN]=e}function pb(n){const e=function ad(n){return n[JN]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function mb(n,e){return undefined(n,e)}function ld(n){const e=n[3];return ri(e)?e[3]:e}function _b(n){return oO(n[13])}function yb(n){return oO(n[4])}function oO(n){for(;null!==n&&!ri(n);)n=n[4];return n}function Vl(n,e,t,r,i){if(null!=r){let s,o=!1;ri(r)?s=r:Ci(r)&&(o=!0,r=r[0]);const a=Vt(r);0===n&&null!==t?null==i?hO(e,t,a):ia(e,t,a,i||null,!0):1===n&&null!==t?ia(e,t,a,i||null,!0):2===n?function Tb(n,e,t){const r=og(n,e);r&&function pK(n,e,t,r){Ct(n)?n.removeChild(e,t,r):e.removeChild(t)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function _K(n,e,t,r,i){const s=t[7];s!==Vt(t)&&Vl(e,n,r,s,i);for(let a=10;a<t.length;a++){const l=t[a];cd(l[1],l,n,e,r,s)}}(e,n,s,t,i)}}function wb(n,e,t){if(Ct(n))return n.createElement(e,t);{const r=null!==t?function j8(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?n.createElement(e):n.createElementNS(r,e)}}function lO(n,e){const t=n[9],r=t.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Gw(i,-1)),t.splice(r,1)}function bb(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&lO(i,r),e>0&&(n[t-1][4]=r[4]);const s=tg(n,10+e);!function oK(n,e){cd(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function cO(n,e){if(!(256&e[2])){const t=e[11];Ct(t)&&t.destroyNode&&cd(n,e,t,3,null,null),function cK(n){let e=n[13];if(!e)return Eb(n[1],n);for(;e;){let t=null;if(Ci(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Ci(e)&&Eb(e[1],e),e=e[3];null===e&&(e=n),Ci(e)&&Eb(e[1],e),t=e&&e[4]}e=t}}(e)}}function Eb(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function fK(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ku)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function hK(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Vt(e[o]),l=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(n,e),1===e[1].type&&Ct(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&ri(e[3])){t!==e[3]&&lO(t,e);const r=e[19];null!==r&&r.detachView(n)}}}function uO(n,e,t){return function dO(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===ti.None||i===ti.Emulated)return null}return Er(r,t)}(n,e.parent,t)}function ia(n,e,t,r,i){Ct(n)?n.insertBefore(e,t,r,i):e.insertBefore(t,r,i)}function hO(n,e,t){Ct(n)?n.appendChild(e,t):e.appendChild(t)}function fO(n,e,t,r,i){null!==r?ia(n,e,t,r,i):hO(n,e,t)}function og(n,e){return Ct(n)?n.parentNode(e):e.parentNode}function pO(n,e,t){return mO(n,e,t)}let mO=function gO(n,e,t){return 40&n.type?Er(n,t):null};function ag(n,e,t,r){const i=uO(n,r,e),s=e[11],a=pO(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)fO(s,i,t[l],a,!1);else fO(s,i,t,a,!1)}function lg(n,e){if(null!==e){const t=e.type;if(3&t)return Er(e,n);if(4&t)return Ib(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return lg(n,r);{const i=n[e.index];return ri(i)?Ib(-1,i):Vt(i)}}if(32&t)return mb(e,n)()||Vt(n[e.index]);{const r=yO(n,e);return null!==r?Array.isArray(r)?r[0]:lg(ld(n[16]),r):lg(n,e.next)}}return null}function yO(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Ib(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return lg(r,i)}return e[7]}function Db(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],l=t.type;if(o&&0===e&&(a&&Ln(Vt(a),r),t.flags|=4),64!=(64&t.flags))if(8&l)Db(n,e,t.child,r,i,s,!1),Vl(e,n,i,a,s);else if(32&l){const c=mb(t,r);let u;for(;u=c();)Vl(e,n,i,u,s);Vl(e,n,i,a,s)}else 16&l?vO(n,e,r,t,i,s):Vl(e,n,i,a,s);t=o?t.projectionNext:t.next}}function cd(n,e,t,r,i,s){Db(t,r,n.firstChild,e,i,s,!1)}function vO(n,e,t,r,i,s){const o=t[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Vl(e,n,i,l[c],s);else Db(n,e,l,o[3],i,s,!0)}function wO(n,e,t){Ct(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function Sb(n,e,t){Ct(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}class IO{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ys(n){return n instanceof IO?n.changingThisBreaksApplicationSecurity:n}const kK=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,RK=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Bt=(()=>((Bt=Bt||{})[Bt.NONE=0]="NONE",Bt[Bt.HTML=1]="HTML",Bt[Bt.STYLE=2]="STYLE",Bt[Bt.SCRIPT=3]="SCRIPT",Bt[Bt.URL=4]="URL",Bt[Bt.RESOURCE_URL=5]="RESOURCE_URL",Bt))();function fg(n){const e=function hd(){const n=D();return n&&n[12]}();return e?e.sanitize(Bt.URL,n)||"":function ud(n,e){const t=function SK(n){return n instanceof IO&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?Ys(n):function dg(n){return(n=String(n)).match(kK)||n.match(RK)?n:"unsafe:"+n}(ie(n))}function Ob(n){return n.ngOriginalError}function QK(n,...e){n.error(...e)}class fd{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),r=function KK(n){return n&&n.ngErrorLogger||QK}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ob(e);for(;t&&Ob(t);)t=Ob(t);return t||null}}const nQ=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(He))();function Si(n){return n instanceof Function?n():n}function NO(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const OO="ng-template";function oQ(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==NO(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function FO(n){return 4===n.type&&n.value!==OO}function aQ(n,e,t){return e===(4!==n.type||t?n.value:OO)}function lQ(n,e,t){let r=4;const i=n.attrs||[],s=function dQ(n){for(let e=0;e<n.length;e++)if(SN(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!aQ(n,l,t)||""===l&&1===e.length){if(si(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==n.attrs){if(!oQ(n.attrs,c,t)){if(si(r))return!1;o=!0}continue}const d=cQ(8&r?"class":l,i,FO(n),t);if(-1===d){if(si(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==NO(f,c,0)||2&r&&c!==h){if(si(r))return!1;o=!0}}}}else{if(!o&&!si(r)&&!si(l))return!1;if(o&&si(l))continue;o=!1,r=l|1&r}}return si(r)||o}function si(n){return 0==(1&n)}function cQ(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function hQ(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function LO(n,e,t=!1){for(let r=0;r<e.length;r++)if(lQ(n,e[r],t))return!0;return!1}function fQ(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function VO(n,e){return n?":not("+e.trim()+")":e}function pQ(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!si(o)&&(e+=VO(s,i),i=""),r=o,s=s||!si(r);t++}return""!==i&&(e+=VO(s,i)),e}const oe={};function It(n){BO(Ae(),D(),Zn()+n,!1)}function BO(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&qp(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Kp(e,s,0,t)}Ks(t)}function pg(n,e){return n<<17|e<<2}function oi(n){return n>>17&32767}function Fb(n){return 2|n}function ls(n){return(131068&n)>>2}function Lb(n,e){return-131069&n|e<<2}function Vb(n){return 1|n}function YO(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Xw(i),o.contentQueries(2,e[s],s)}}}function pd(n,e,t,r,i,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,pN(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function Ul(n,e,t,r,i){let s=n.data[e];if(null===s)s=function qb(n,e,t,r,i){const s=_N(),o=qw(),l=n.data[e]=function RQ(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,r,i),function J8(){return se.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function qu(){const n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ii(s,!0),s}function jl(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function gd(n,e,t){zp(e);try{const r=n.viewQuery;null!==r&&nE(1,r,t);const i=n.template;null!==i&&XO(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&YO(n,e),n.staticViewQueries&&nE(2,n.viewQuery,t);const s=n.components;null!==s&&function xQ(n,e){for(let t=0;t<e.length;t++)YQ(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Hp()}}function $l(n,e,t,r){const i=e[2];if(256!=(256&i)){zp(e);try{pN(e),function yN(n){return se.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&XO(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&qp(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Kp(e,c,0,null),Zw(e,0)}if(function KQ(n){for(let e=_b(n);null!==e;e=yb(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(1024&i[2])&&Gw(s,1),i[2]|=1024}}}(e),function qQ(n){for(let e=_b(n);null!==e;e=yb(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Ww(r)&&$l(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&YO(n,e),o){const c=n.contentCheckHooks;null!==c&&qp(e,c)}else{const c=n.contentHooks;null!==c&&Kp(e,c,1),Zw(e,1)}!function SQ(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Ks(~i);else{const s=i,o=t[++r],a=t[++r];e7(o,s),a(2,e[s])}}}finally{Ks(-1)}}(n,e);const a=n.components;null!==a&&function AQ(n,e){for(let t=0;t<e.length;t++)QQ(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&nE(2,l,r),o){const c=n.viewCheckHooks;null!==c&&qp(e,c)}else{const c=n.viewHooks;null!==c&&Kp(e,c,2),Zw(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,Gw(e[3],-1))}finally{Hp()}}}function MQ(n,e,t,r){const i=e[10],o=fN(e);try{!o&&i.begin&&i.begin(),o&&gd(n,e,r),$l(n,e,t,r)}finally{!o&&i.end&&i.end()}}function XO(n,e,t,r,i){const s=Zn(),o=2&r;try{Ks(-1),o&&e.length>20&&BO(n,e,20,!1),t(r,i)}finally{Ks(s)}}function Kb(n,e,t){!mN()||(function BQ(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Yu(t,e),Ln(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const l=n.data[a],c=ii(l);c&&HQ(e,t,l);const u=Xu(e,n,a,t);Ln(u,e),null!==o&&WQ(0,a-i,u,l,0,o),c&&(Cr(t.index,e)[8]=u)}}(n,e,t,Er(t,e)),128==(128&t.flags)&&function UQ(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,a=function t7(){return se.lFrame.currentDirectiveIndex}();try{Ks(o);for(let l=r;l<i;l++){const c=n.data[l],u=e[l];Qw(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&a1(c,u)}}finally{Ks(-1),Qw(a)}}(n,e,t))}function Qb(n,e,t=Er){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function JO(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=_g(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function _g(n,e,t,r,i,s,o,a,l,c){const u=20+r,d=u+i,h=function kQ(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:oe);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function n1(n,e,t,r){const i=f1(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&p1(n).push(r,i.length-1))}function r1(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function Dr(n,e,t,r,i,s,o,a){const l=Er(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(_1(n,t,u,r,i),Bp(e)&&function OQ(n,e){const t=Cr(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(r=function NQ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,Ct(s)?s.setProperty(l,r,i):eb(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Yb(n,e,t,r){let i=!1;if(mN()){const s=function jQ(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];LO(t,o.selectors,!1)&&(i||(i=[]),Jp(Yu(t,e),n,o.type),ii(o)?(l1(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,c1(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=jl(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=Yp(t.mergedAttrs,d.hostAttrs),u1(n,t,e,c,d),zQ(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function PQ(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<r;c++){const u=i[c],d=u.inputs,h=null===s||FO(e)?null:GQ(d,s);o.push(h),a=r1(d,c,a),l=r1(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function $Q(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new B(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Yp(t.mergedAttrs,t.attrs),i}function o1(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function VQ(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function a1(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function l1(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function zQ(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ii(e)&&(t[""]=n)}}function c1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function u1(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ra(i.type)),o=new Ku(s,ii(i),null);n.blueprint[r]=o,t[r]=o,o1(n,e,0,r,jl(n,t,i.hostVars,oe),i)}function HQ(n,e,t){const r=Er(e,n),i=JO(t),s=n[10],o=yg(n,pd(n,i,null,t.onPush?64:16,r,e,s,s.createRenderer(r,t),null,null));n[e.index]=o}function Ai(n,e,t,r,i,s){const o=Er(n,e);!function Xb(n,e,t,r,i,s,o){if(null==s)Ct(n)?n.removeAttribute(e,i,t):e.removeAttribute(i);else{const a=null==o?ie(s):o(s,r||"",i);Ct(n)?n.setAttribute(e,i,a,t):t?e.setAttributeNS(t,i,a):e.setAttribute(i,a)}}(e[11],o,s,n.value,t,r,i)}function WQ(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(t,d,c,u):t[u]=d}}}function GQ(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function d1(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function QQ(n,e){const t=Cr(e,n);if(Ww(t)){const r=t[1];80&t[2]?$l(r,t,r.template,t[8]):t[5]>0&&Zb(t)}}function Zb(n){for(let r=_b(n);null!==r;r=yb(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];$l(o,s,o.template,s[8])}else s[5]>0&&Zb(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Cr(t[r],n);Ww(i)&&i[5]>0&&Zb(i)}}function YQ(n,e){const t=Cr(e,n),r=t[1];(function XQ(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),gd(r,t,t[8])}function yg(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function Jb(n){for(;n;){n[2]|=64;const e=ld(n);if(k8(n)&&!e)return n;n=e}return null}function h1(n){!function eE(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],r=pb(t),i=r[1];MQ(i,r,i.template,t)}}(n[8])}function nE(n,e,t){Xw(0),e(n,t)}const JQ=(()=>Promise.resolve(null))();function f1(n){return n[7]||(n[7]=[])}function p1(n){return n.cleanup||(n.cleanup=[])}function g1(n,e,t){return(null===n||ii(n))&&(t=function H8(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(t[e.index])),t[11]}function m1(n,e){const t=n[9],r=t?t.get(fd,null):null;r&&r.handleError(e)}function _1(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function cs(n,e,t){const r=jp(e,n);!function aO(n,e,t){Ct(n)?n.setValue(e,t):e.textContent=t}(n[11],r,t)}function vg(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Aw(i,a):2==s&&(r=Aw(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}const rE=new V("INJECTOR",-1);class y1{get(e,t=nd){if(t===nd){const r=new Error(`NullInjectorError: No provider for ${Be(e)}!`);throw r.name="NullInjectorError",r}return t}}const iE=new V("Set Injector scope."),md={},nY={};let sE;function v1(){return void 0===sE&&(sE=new y1),sE}function w1(n,e=null,t=null,r){const i=b1(n,e,t,r);return i._resolveInjectorDefTypes(),i}function b1(n,e=null,t=null,r){return new rY(n,t,e||v1(),r)}class rY{constructor(e,t,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Ti(t,a=>this.processProvider(a,e,t)),Ti([e],a=>this.processInjectorType(a,[],s)),this.records.set(rE,zl(void 0,this));const o=this.records.get(iE);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:Be(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=nd,r=ee.Default){this.assertNotDestroyed();const i=WN(this),s=Hs(void 0);try{if(!(r&ee.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function dY(n){return"function"==typeof n||"object"==typeof n&&n instanceof V}(e)&&Mw(e);a=l&&this.injectableDefInScope(l)?zl(oE(e),md):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&ee.Self?v1():this.parent).get(e,t=r&ee.Optional&&t===nd?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[rg]=o[rg]||[]).unshift(Be(e)),i)throw o;return function V7(n,e,t,r){const i=n[rg];throw e[HN]&&i.unshift(e[HN]),n.message=function B7(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let i=Be(e);if(Array.isArray(e))i=e.map(Be).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Be(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(P7,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[rg]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Hs(s),WN(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(Be(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processInjectorType(e,t,r){if(!(e=de(e)))return!1;let i=eN(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=eN(s)),null==i)return!1;if(null!=i.imports&&!a){let u;r.push(o);try{Ti(i.imports,d=>{this.processInjectorType(d,t,r)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];Ti(f,p=>this.processProvider(p,h,f||qe))}}this.injectorDefTypes.add(o);const l=ra(o)||(()=>new o);this.records.set(o,zl(l,md));const c=i.providers;if(null!=c&&!a){const u=e;Ti(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,r){let i=Hl(e=de(e))?e:de(e&&e.provide);const s=function sY(n,e,t){return C1(n)?zl(void 0,n.useValue):zl(E1(n),md)}(e);if(Hl(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=zl(void 0,md,!0),o.factory=()=>db(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,t){return t.value===md&&(t.value=nY,t.value=t.factory()),"object"==typeof t.value&&t.value&&function uY(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=de(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function oE(n){const e=Mw(n),t=null!==e?e.factory:ra(n);if(null!==t)return t;if(n instanceof V)throw new B(204,!1);if(n instanceof Function)return function iY(n){const e=n.length;if(e>0)throw td(e,"?"),new B(204,!1);const t=function y8(n){const e=n&&(n[Np]||n[tN]);if(e){const t=function v8(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new B(204,!1)}function E1(n,e,t){let r;if(Hl(n)){const i=de(n);return ra(i)||oE(i)}if(C1(n))r=()=>de(n.useValue);else if(function aY(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...db(n.deps||[]));else if(function oY(n){return!(!n||!n.useExisting)}(n))r=()=>E(de(n.useExisting));else{const i=de(n&&(n.useClass||n.provide));if(!function cY(n){return!!n.deps}(n))return ra(i)||oE(i);r=()=>new i(...db(n.deps))}return r}function zl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function C1(n){return null!==n&&"object"==typeof n&&O7 in n}function Hl(n){return"function"==typeof n}let Oe=(()=>{class n{static create(t,r){var i;if(Array.isArray(t))return w1({name:""},r,t,"");{const s=null!==(i=t.name)&&void 0!==i?i:"";return w1({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=nd,n.NULL=new y1,n.\u0275prov=L({token:n,providedIn:"any",factory:()=>E(rE)}),n.__NG_ELEMENT_ID__=-1,n})();function vY(n,e){Gp(pb(n)[1],Qt())}function Te(n){let e=function O1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ii(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,"");i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=cE(n.inputs),o.declaredInputs=cE(n.declaredInputs),o.outputs=cE(n.outputs);const a=i.hostBindings;a&&CY(n,a);const l=i.viewQuery,c=i.contentQueries;if(l&&bY(n,l),c&&EY(n,c),Sw(n.inputs,i.inputs),Sw(n.declaredInputs,i.declaredInputs),Sw(n.outputs,i.outputs),ii(i)&&i.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Te&&(t=!1)}}e=Object.getPrototypeOf(e)}!function wY(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Yp(i.hostAttrs,t=Yp(t,i.hostAttrs))}}(r)}function cE(n){return n===bl?{}:n===qe?[]:n}function bY(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function EY(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function CY(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let wg=null;function Wl(){if(!wg){const n=He.Symbol;if(n&&n.iterator)wg=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(wg=r)}}}return wg}function _d(n){return!!function uE(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Wl()in n)}function xi(n,e,t){return n[e]=t}function Vn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function on(n,e,t,r){const i=D();return Vn(i,Al(),e)&&(Ae(),Ai(gt(),i,n,e,t,r)),on}function ql(n,e,t,r){return Vn(n,Al(),t)?e+ie(t)+r:oe}function li(n,e,t,r,i,s,o,a){const l=D(),c=Ae(),u=n+20,d=c.firstCreatePass?function MY(n,e,t,r,i,s,o,a,l){const c=e.consts,u=Ul(e,n,4,o||null,qs(c,a));Yb(e,t,u,qs(c,l)),Gp(e,u);const d=u.tViews=_g(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,r,i,s,o):c.data[u];Ii(d,!1);const h=l[11].createComment("");ag(c,l,h,d),Ln(h,l),yg(l,l[u]=d1(h,l,h,d)),Up(d)&&Kb(c,l,d),null!=o&&Qb(l,d,a)}function vd(n){return function Dl(n,e){return n[e]}(function Z8(){return se.lFrame.contextLView}(),20+n)}function b(n,e=ee.Default){const t=D();return null===t?E(n,e):NN(Qt(),t,de(n),e)}function Cg(){throw new Error("invalid")}function Xt(n,e,t){const r=D();return Vn(r,Al(),e)&&Dr(Ae(),gt(),r,n,e,r[11],t,!1),Xt}function gE(n,e,t,r,i){const o=i?"class":"style";_1(n,t,e.inputs[o],o,r)}function ke(n,e,t,r){const i=D(),s=Ae(),o=20+n,a=i[11],l=i[o]=wb(a,e,function l7(){return se.lFrame.currentNamespace}()),c=s.firstCreatePass?function XY(n,e,t,r,i,s,o){const a=e.consts,c=Ul(e,n,2,i,qs(a,s));return Yb(e,t,c,qs(a,o)),null!==c.attrs&&vg(c,c.attrs,!1),null!==c.mergedAttrs&&vg(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Ii(c,!0);const u=c.mergedAttrs;null!==u&&Qp(a,l,u);const d=c.classes;null!==d&&Sb(a,l,d);const h=c.styles;return null!==h&&wO(a,l,h),64!=(64&c.flags)&&ag(s,i,l,c),0===function q8(){return se.lFrame.elementDepthCount}()&&Ln(l,i),function K8(){se.lFrame.elementDepthCount++}(),Up(c)&&(Kb(s,i,c),function ZO(n,e,t){if(Lw(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,i)),null!==r&&Qb(i,c),ke}function Re(){let n=Qt();qw()?Kw():(n=n.parent,Ii(n,!1));const e=n;!function Q8(){se.lFrame.elementDepthCount--}();const t=Ae();return t.firstCreatePass&&(Gp(t,n),Lw(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function f7(n){return 0!=(16&n.flags)}(e)&&gE(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function p7(n){return 0!=(32&n.flags)}(e)&&gE(t,e,D(),e.stylesWithoutHost,!1),Re}function an(n,e,t,r){return ke(n,e,t,r),Re(),an}function Ig(){return D()}function wd(n){return!!n&&"function"==typeof n.then}const yE=function nF(n){return!!n&&"function"==typeof n.subscribe};function st(n,e,t,r){const i=D(),s=Ae(),o=Qt();return rF(s,i,i[11],o,n,e,!!t,r),st}function Tg(n,e){const t=Qt(),r=D(),i=Ae();return rF(i,r,g1(Yw(i.data),t,r),t,n,e,!1),Tg}function rF(n,e,t,r,i,s,o,a){const l=Up(r),u=n.firstCreatePass&&p1(n),d=e[8],h=f1(e);let f=!0;if(3&r.type||a){const m=Er(r,e),v=a?a(m):m,y=h.length,I=a?x=>a(Vt(x[r.index])):r.index;if(Ct(t)){let x=null;if(!a&&l&&(x=function JY(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=s,x.__ngLastListenerFn__=s,f=!1;else{s=vE(r,e,d,s,!1);const $=t.listen(v,i,s);h.push(s,$),u&&u.push(i,I,y,y+1)}}else s=vE(r,e,d,s,!0),v.addEventListener(i,s,o),h.push(s),u&&u.push(i,I,y,o)}else s=vE(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let v=0;v<m;v+=2){const G=e[g[v]][g[v+1]].subscribe(s),fe=h.length;h.push(s,G),u&&u.push(i,r.index,fe,-(fe+1))}}}function iF(n,e,t,r){try{return!1!==t(r)}catch(i){return m1(n,i),!1}}function vE(n,e,t,r,i){return function s(o){if(o===Function)return r;const a=2&n.flags?Cr(n.index,e):e;0==(32&e[2])&&Jb(a);let l=iF(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)l=iF(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function ci(n=1){return function r7(n){return(se.lFrame.contextLView=function i7(n,e){for(;n>0;)e=e[15],n--;return e}(n,se.lFrame.contextLView))[8]}(n)}function eX(n,e){let t=null;const r=function uQ(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?LO(n,s,!0):fQ(r,s))return i}else t=i}return t}function wE(n,e,t){return bE(n,"",e,"",t),wE}function bE(n,e,t,r,i){const s=D(),o=ql(s,e,t,r);return o!==oe&&Dr(Ae(),gt(),s,n,o,s[11],i,!1),bE}function gF(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?oi(s):ls(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];rX(n[a],e)&&(l=!0,n[a+1]=r?Vb(u):Fb(u)),a=r?oi(u):ls(u)}l&&(n[t+1]=r?Fb(s):Vb(s))}function rX(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Fl(n,e)>=0}function rc(n,e,t){return ui(n,e,t,!1),rc}function Js(n,e){return ui(n,e,null,!0),Js}function ui(n,e,t,r){const i=D(),s=Ae(),o=function as(n){const e=se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function CF(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Zn()],o=function EF(n,e){return e>=n.expandoStartIndex}(n,t);(function SF(n,e){return 0!=(n.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function hX(n,e,t,r){const i=Yw(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=bd(t=EE(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=EE(i,n,e,t,r),null===s){let l=function fX(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ls(r))return n[oi(r)]}(n,e,r);void 0!==l&&Array.isArray(l)&&(l=EE(null,n,e,l[1],r),l=bd(l,e.attrs,r),function pX(n,e,t,r){n[oi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,l))}else s=function gX(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=bd(r,n[s].hostAttrs,t);return bd(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function tX(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=oi(o),l=ls(o);n[r]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||Fl(d,u)>0)&&(c=!0)}else u=t;if(i)if(0!==l){const h=oi(n[a+1]);n[r+1]=pg(h,a),0!==h&&(n[h+1]=Lb(n[h+1],r)),n[a+1]=function _Q(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=pg(a,0),0!==a&&(n[a+1]=Lb(n[a+1],r)),a=r;else n[r+1]=pg(l,0),0===a?a=r:n[l+1]=Lb(n[l+1],r),l=r;c&&(n[r+1]=Fb(n[r+1])),gF(n,u,r,!0),gF(n,u,r,!1),function nX(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Fl(s,e)>=0&&(t[r+1]=Vb(t[r+1]))}(e,u,n,r,s),o=pg(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==oe&&Vn(i,o,e)&&function TF(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];Dg(function $O(n){return 1==(1&n)}(c)?DF(l,e,t,i,ls(c),o):void 0)||(Dg(s)||function jO(n){return 2==(2&n)}(c)&&(s=DF(l,null,t,i,a,o)),function yK(n,e,t,r,i){const s=Ct(n);if(e)i?s?n.addClass(t,r):t.classList.add(r):s?n.removeClass(t,r):t.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Tr.DashCase;if(null==i)s?n.removeStyle(t,r,o):t.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Tr.Important),s?n.setStyle(t,r,i,o):t.style.setProperty(r,i,a?"important":"")}}}(r,o,jp(Zn(),t),i,s))}(s,s.data[Zn()],i,i[11],n,i[o+1]=function yX(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Be(Ys(n)))),n}(e,t),r,o)}function EE(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=bd(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function bd(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ir(n,o,!!t||e[++s]))}return void 0===n?null:n}function DF(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const l=n[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[i+1];h===oe&&(h=d?qe:void 0);let f=d?ab(h,r):u===r?h:void 0;if(c&&!Dg(f)&&(f=ab(l,r)),Dg(f)&&(a=f,o))return a;const p=n[i+1];i=o?oi(p):ls(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=ab(l,r))}return a}function Dg(n){return void 0!==n}function hr(n,e=""){const t=D(),r=Ae(),i=n+20,s=r.firstCreatePass?Ul(r,i,1,e,null):r.data[i],o=t[i]=function vb(n,e){return Ct(n)?n.createText(e):n.createTextNode(e)}(t[11],e);ag(r,t,o,s),Ii(s,!1)}function Ed(n){return Cd("",n,""),Ed}function Cd(n,e,t){const r=D(),i=ql(r,n,e,t);return i!==oe&&cs(r,Zn(),i),Cd}function Sg(n,e,t){const r=D();return Vn(r,Al(),e)&&Dr(Ae(),gt(),r,n,e,r[11],t,!0),Sg}function Ag(n,e,t){const r=D();if(Vn(r,Al(),e)){const s=Ae(),o=gt();Dr(s,o,r,n,e,g1(Yw(s.data),o,r),t,!0)}return Ag}const xg="en-US";let qF=xg;function TE(n,e,t,r,i){if(n=de(n),Array.isArray(n))for(let s=0;s<n.length;s++)TE(n[s],e,t,r,i);else{const s=Ae(),o=D();let a=Hl(n)?n:de(n.provide),l=E1(n);const c=Qt(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Hl(n)||!n.multi){const f=new Ku(l,i,b),p=SE(a,e,i?u:u+h,d);-1===p?(Jp(Yu(c,o),s,a),DE(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=SE(a,e,u+h,d),p=SE(a,e,u,u+h),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){Jp(Yu(c,o),s,a);const v=function LZ(n,e,t,r,i){const s=new Ku(n,t,b);return s.multi=[],s.index=e,s.componentProviders=0,_L(s,i,r&&!t),s}(i?FZ:OZ,t.length,i,r,l);!i&&m&&(t[p].providerFactory=v),DE(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(v),o.push(v)}else DE(s,n,f>-1?f:p,_L(t[i?p:f],l,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function DE(n,e,t,r){const i=Hl(e),s=function lY(n){return!!n.useClass}(e);if(i||s){const l=(s?de(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[r,l]):c[u+1].push(r,l)}else c.push(t,l)}}}function _L(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function SE(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function OZ(n,e,t,r){return AE(this.multi,[])}function FZ(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Xu(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),AE(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],AE(i,s);return s}function AE(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function dt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function NZ(n,e,t){const r=Ae();if(r.firstCreatePass){const i=ii(n);TE(t,r.data,r.blueprint,i,!0),TE(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class yL{}class UZ{resolveComponentFactory(e){throw function BZ(n){const e=Error(`No component factory found for ${Be(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let eo=(()=>{class n{}return n.NULL=new UZ,n})();function jZ(){return oc(Qt(),D())}function oc(n,e){return new ht(Er(n,e))}let ht=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=jZ,n})();function $Z(n){return n instanceof ht?n.nativeElement:n}class Ad{}let us=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function HZ(){const n=D(),t=Cr(Qt().index,n);return function zZ(n){return n[11]}(Ci(t)?t:n)}(),n})(),WZ=(()=>{class n{}return n.\u0275prov=L({token:n,providedIn:"root",factory:()=>null}),n})();class to{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const wL=new to("13.4.0"),xE={};function Ng(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Vt(s)),ri(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&Ng(l[1],l,c,r)}const o=t.type;if(8&o)Ng(n,e,t.child,r);else if(32&o){const a=mb(t,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=yO(e,t);if(Array.isArray(a))r.push(...a);else{const l=ld(e[16]);Ng(l[1],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class xd{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Ng(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ri(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(bb(e,r),tg(t,r))}this._attachedToViewContainer=!1}cO(this._lView[1],this._lView)}onDestroy(e){n1(this._lView[1],this._lView,null,e)}markForCheck(){Jb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function tE(n,e,t){const r=e[10];r.begin&&r.begin();try{$l(n,e,n.template,t)}catch(i){throw m1(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lK(n,e){cd(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,"");this._appRef=e}}class GZ extends xd{constructor(e){super(e),this._view=e}detectChanges(){h1(this._view)}checkNoChanges(){}get context(){return null}}class bL extends eo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Cn(e);return new ME(t,this.ngModule)}}function EL(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class ME extends yL{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function gQ(n){return n.map(pQ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return EL(this.componentDef.inputs)}get outputs(){return EL(this.componentDef.outputs)}create(e,t,r,i){const s=(i=i||this.ngModule)?function KZ(n,e){return{get:(t,r,i)=>{const s=n.get(t,xE,i);return s!==xE||r===xE?s:e.get(t,r,i)}}}(e,i.injector):e,o=s.get(Ad,hN),a=s.get(WZ,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=r?function t1(n,e,t){if(Ct(n))return n.selectRootElement(e,t===ti.ShadowDom);let r="string"==typeof e?n.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):wb(o.createRenderer(null,this.componentDef),c,function qZ(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function N1(n,e){return{components:[],scheduler:n||nQ,clean:JQ,playerHandler:e||null,flags:0}}(),f=_g(0,null,null,1,0,null,null,null,null,null),p=pd(null,f,h,d,null,null,o,l,a,s);let g,m;zp(p);try{const v=function R1(n,e,t,r,i,s){const o=t[1];t[20]=n;const l=Ul(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(vg(l,c,!0),null!==n&&(Qp(i,n,c),null!==l.classes&&Sb(i,n,l.classes),null!==l.styles&&wO(i,n,l.styles)));const u=r.createRenderer(n,e),d=pd(t,JO(e),null,e.onPush?64:16,t[20],l,r,u,s||null,null);return o.firstCreatePass&&(Jp(Yu(l,t),o,e.type),l1(o,l),c1(l,t.length,1)),yg(t,d),t[20]=d}(u,this.componentDef,p,o,l);if(u)if(r)Qp(l,u,["ng-version",wL.full]);else{const{attrs:y,classes:I}=function mQ(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!si(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);y&&Qp(l,u,y),I&&I.length>0&&Sb(l,u,I.join(" "))}if(m=Hw(f,20),void 0!==t){const y=m.projection=[];for(let I=0;I<this.ngContentSelectors.length;I++){const x=t[I];y.push(null!=x?Array.from(x):null)}}g=function P1(n,e,t,r,i){const s=t[1],o=function LQ(n,e,t){const r=Qt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),u1(n,r,e,jl(n,e,1,null),t));const i=Xu(e,n,r.directiveStart,r);Ln(i,e);const s=Er(r,e);return s&&Ln(s,e),i}(s,t,e);if(r.components.push(o),n[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=Qt();e.contentQueries(1,o,l.directiveStart)}const a=Qt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Ks(a.index),o1(t[1],a,0,a.directiveStart,a.directiveEnd,e),a1(e,o)),o}(v,this.componentDef,p,h,[vY]),gd(f,p,null)}finally{Hp()}return new YZ(this.componentType,g,oc(m,p),p,m)}}class YZ extends class VZ{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new GZ(i),this.componentType=e}get injector(){return new kl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class ds{}class CL{}const ac=new Map;class DL extends ds{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new bL(this);const r=Vr(e);this._bootstrapComponents=Si(r.bootstrap),this._r3Injector=b1(e,t,[{provide:ds,useValue:this},{provide:eo,useValue:this.componentFactoryResolver}],Be(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=Oe.THROW_IF_NOT_FOUND,r=ee.Default){return e===Oe||e===ds||e===rE?this:this._r3Injector.get(e,t,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class kE extends CL{constructor(e){super(),this.moduleType=e,null!==Vr(e)&&function ZZ(n){const e=new Set;!function t(r){const i=Vr(r,!0),s=i.id;null!==s&&(function IL(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Be(e)} vs ${Be(e.name)}`)}(s,ac.get(s),r),ac.set(s,r));const o=Si(i.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new DL(this.moduleType,e)}}function AL(n,e,t,r){return function xL(n,e,t,r,i,s){const o=e+t;return Vn(n,o,i)?xi(n,o+1,s?r.call(s,i):r(i)):function Md(n,e){const t=n[e];return t===oe?void 0:t}(n,o+1)}(D(),Xn(),n,e,t,r)}function RE(n){return e=>{setTimeout(n,void 0,e)}}const Ze=class pJ extends Ie{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){var i,s,o;let a=e,l=t||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=RE(l),a&&(a=RE(a)),c&&(c=RE(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof wn&&e.add(u),u}};function gJ(){return this._results[Wl()]()}class PE{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Wl(),r=PE.prototype;r[t]||(r[t]=gJ)}get changes(){return this._changes||(this._changes=new Ze)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=jr(e);(this._changesDetected=!function I7(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let hi=(()=>{class n{}return n.__NG_ELEMENT_ID__=yJ,n})();const mJ=hi,_J=class extends mJ{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e){const t=this._declarationTContainer.tViews,r=pd(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(t)),gd(t,r,e),new xd(r)}};function yJ(){return Og(Qt(),D())}function Og(n,e){return 4&n.type?new _J(e,n,oc(n,e)):null}let zr=(()=>{class n{}return n.__NG_ELEMENT_ID__=vJ,n})();function vJ(){return FL(Qt(),D())}const wJ=zr,NL=class extends wJ{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return oc(this._hostTNode,this._hostLView)}get injector(){return new kl(this._hostTNode,this._hostLView)}get parentInjector(){const e=Zp(this._hostTNode,this._hostLView);if(xN(e)){const t=Ml(e,this._hostLView),r=xl(e);return new kl(t[1].data[r+8],t)}return new kl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=OL(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){const i=e.createEmbeddedView(t||{});return this.insert(i,r),i}createComponent(e,t,r,i,s){const o=e&&!function ed(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const l=o?e:new ME(Cn(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(ds,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const r=e._lView,i=r[1];if(function G8(n){return ri(n[3])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[3],h=new NL(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function uK(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],BN(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function dK(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(i,r,o,s);const a=Ib(s,o),l=r[11],c=og(l,o[7]);return null!==c&&function aK(n,e,t,r,i,s){r[0]=i,r[6]=e,cd(n,r,t,1,i,s)}(i,o[6],l,r,c,a),e.attachToViewContainerRef(),BN(NE(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=OL(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=bb(this._lContainer,t);r&&(tg(NE(this._lContainer),t),cO(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=bb(this._lContainer,t);return r&&null!=tg(NE(this._lContainer),t)?new xd(r):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function OL(n){return n[8]}function NE(n){return n[8]||(n[8]=[])}function FL(n,e){let t;const r=e[n.index];if(ri(r))t=r;else{let i;if(8&n.type)i=Vt(r);else{const s=e[11];i=s.createComment("");const o=Er(n,e);ia(s,og(s,o),i,function gK(n,e){return Ct(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=d1(r,e,i,n),yg(e,t)}return new NL(t,n,e)}class OE{constructor(e){this.queryList=e,this.matches=null}clone(){return new OE(this.queryList)}setDirty(){this.queryList.setDirty()}}class FE{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new FE(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==jL(e,t).matches&&this.queries[t].setDirty()}}class LL{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class LE{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new LE(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class VE{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new VE(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,CJ(t,s)),this.matchTNodeWithReadOption(e,t,eg(t,e,s,!1,!1))}else r===hi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,eg(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===ht||i===zr||i===hi&&4&t.type)this.addMatch(t.index,-2);else{const s=eg(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function CJ(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function TJ(n,e,t,r){return-1===t?function IJ(n,e){return 11&n.type?oc(n,e):4&n.type?Og(n,e):null}(e,n):-2===t?function DJ(n,e,t){return t===ht?oc(e,n):t===hi?Og(e,n):t===zr?FL(e,n):void 0}(n,e,r):Xu(n,n[1],t,e)}function VL(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:TJ(e,s[c],o[l+1],t.metadata.read))}i.matches=a}return i.matches}function BE(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=VL(n,e,i,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&BE(h[1],h,c,r)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];BE(f[1],f,c,r)}}}}}return r}function lc(n){const e=D(),t=Ae(),r=wN();Xw(r+1);const i=jL(t,r);if(n.dirty&&fN(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?BE(t,e,r,[]):VL(t,e,i,r);n.reset(s,$Z),n.notifyOnChanges()}return!0}return!1}function Fg(n,e,t){const r=Ae();r.firstCreatePass&&(function UL(n,e,t){null===n.queries&&(n.queries=new LE),n.queries.track(new VE(e,t))}(r,new LL(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function BL(n,e,t){const r=new PE(4==(4&t));n1(n,e,r,r.destroy),null===e[19]&&(e[19]=new FE),e[19].queries.push(new OE(r))}(r,D(),e)}function cc(){return function SJ(n,e){return n[19].queries[e].queryList}(D(),wN())}function jL(n,e){return n.queries.getByIndex(e)}function jE(n,e){return Og(n,e)}function Bg(...n){}const Pd=new V("Application Initializer");let qE=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Bg,this.reject=Bg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(wd(s))t.push(s);else if(yE(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(E(Pd,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nd=new V("AppId",{providedIn:"root",factory:function iV(){return`${KE()}${KE()}${KE()}`}});function KE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sV=new V("Platform Initializer"),la=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oV=new V("appBootstrapListener");let WJ=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const hs=new V("LocaleId",{providedIn:"root",factory:()=>ub(hs,ee.Optional|ee.SkipSelf)||function GJ(){return"undefined"!=typeof $localize&&$localize.locale||xg}()});class KJ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let aV=(()=>{class n{compileModuleSync(t){return new kE(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Si(Vr(t).declarations).reduce((o,a)=>{const l=Cn(a);return l&&o.push(new ME(l)),o},[]);return new KJ(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YJ=(()=>Promise.resolve(0))();function QE(n){"undefined"==typeof Zone?YJ.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ae{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ze(!1),this.onMicrotaskEmpty=new Ze(!1),this.onStable=new Ze(!1),this.onError=new Ze(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function XJ(){let n=He.requestAnimationFrame,e=He.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function eee(n){const e=()=>{!function JJ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(He,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,XE(n),n.isCheckStableRunning=!0,YE(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),XE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return lV(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),cV(n)}},onInvoke:(t,r,i,s,o,a,l)=>{try{return lV(n),t.invoke(i,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),cV(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,XE(n),YE(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ae.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ae.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ZJ,Bg,Bg);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const ZJ={};function YE(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function XE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function lV(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cV(n){n._nesting--,YE(n)}class tee{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ze,this.onMicrotaskEmpty=new Ze,this.onStable=new Ze,this.onError=new Ze}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}let ZE=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ae.assertNotInAngularZone(),QE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())QE(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(E(ae))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),nee=(()=>{class n{constructor(){this._applications=new Map,JE.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return JE.findTestabilityInTree(this,t,r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class ree{addToWindow(e){}findTestabilityInTree(e,t,r){return null}}let JE=new ree,ca=null;const uV=new V("AllowMultipleToken"),dV=new V("PlatformOnDestroy");class hV{constructor(e,t){this.name=e,this.token=t}}function fV(n,e,t=[]){const r=`Platform: ${e}`,i=new V(r);return(s=[])=>{let o=eC();if(!o||o.injector.get(uV,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function aee(n){if(ca&&!ca.get(uV,!1))throw new B(400,"");ca=n;const e=n.get(pV),t=n.get(sV,null);t&&t.forEach(r=>r())}(function cee(n=[],e){return Oe.create({name:e,providers:[{provide:iE,useValue:"platform"},{provide:dV,useValue:()=>ca=null},...n]})}(a,r))}return function lee(n){const e=eC();if(!e)throw new B(401,"");return e}()}}function eC(){var n;return null!==(n=null==ca?void 0:ca.get(pV))&&void 0!==n?n:null}let pV=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const a=function uee(n,e){let t;return t="noop"===n?new tee:("zone.js"===n?void 0:n)||new ae({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:ae,useValue:a}];return a.run(()=>{const c=Oe.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(fd,null);if(!d)throw new B(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{tC(this._modules,u),h.unsubscribe()})}),function dee(n,e,t){try{const r=t();return wd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(d,a,()=>{const h=u.injector.get(qE);return h.runInitializers(),h.donePromise.then(()=>(function zX(n){wr(n,"Expected localeId to be defined"),"string"==typeof n&&(qF=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(hs,xg)||xg),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,r=[]){const i=gV({},r);return function see(n,e,t){const r=new kE(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Od);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new B(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new B(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(dV,null);null==t||t(),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(E(Oe))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function gV(n,e){return Array.isArray(e)?e.reduce(gV,n):Object.assign(Object.assign({},n),e)}let Od=(()=>{class n{constructor(t,r,i,s){this._zone=t,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Fe(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new Fe(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{ae.assertNotInAngularZone(),QE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{ae.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=Rp(o,a.pipe(function h8(n={}){const{connector:e=(()=>new Ie),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return rt((g,m)=>{c++,!d&&!u&&h();const v=l=null!=l?l:e();m.add(()=>{c--,0===c&&!d&&!u&&(a=Dw(p,i))}),v.subscribe(m),!o&&c>0&&(o=new Uu({next:y=>v.next(y),error:y=>{d=!0,h(),a=Dw(f,t,y),v.error(y)},complete:()=>{u=!0,h(),a=Dw(f,r),v.complete()}}),rn(g).subscribe(o))})(s)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new B(405,"");let i;i=t instanceof yL?t:this._injector.get(eo).resolveComponentFactory(t),this.componentTypes.push(i.componentType);const s=function oee(n){return n.isBoundToModule}(i)?void 0:this._injector.get(ds),a=i.create(Oe.NULL,[],r||i.selector,s),l=a.location.nativeElement,c=a.injector.get(ZE,null),u=c&&a.injector.get(nee);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),tC(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new B(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;tC(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(oV,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(E(ae),E(Oe),E(fd),E(qE))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let _V=!0,ua=(()=>{class n{}return n.__NG_ELEMENT_ID__=pee,n})();function pee(n){return function gee(n,e,t){if(Bp(n)&&!t){const r=Cr(n.index,e);return new xd(r,r)}return 47&n.type?new xd(e[16],e):null}(Qt(),D(),16==(16&n))}class EV{constructor(){}supports(e){return _d(e)}create(e){return new bee(e)}}const wee=(n,e)=>e;class bee{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||wee}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<IV(r,i,s)?t:r,a=IV(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!_d(e))throw new B(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function xY(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Wl()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Eee(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new CV),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CV),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Eee{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Cee{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class CV{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Cee,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function IV(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function DV(){return new $g([new EV])}let $g=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||DV()),deps:[[n,new sd,new it]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new B(901,"")}}return n.\u0275prov=L({token:n,providedIn:"root",factory:DV}),n})();const Aee=fV(null,"core",[]);let xee=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(E(Od))},n.\u0275mod=je({type:n}),n.\u0275inj=Le({}),n})(),zg=null;function Ri(){return zg}const De=new V("DocumentToken");let ha=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:function(){return function Pee(){return E(AV)}()},providedIn:"platform"}),n})();const Nee=new V("Location Initialized");let AV=(()=>{class n extends ha{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ri().getBaseHref(this._doc)}onPopState(t){const r=Ri().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ri().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){xV()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){xV()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(E(De))},n.\u0275prov=L({token:n,factory:function(){return function Oee(){return new AV(E(De))}()},providedIn:"platform"}),n})();function xV(){return!!window.history.pushState}function oC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function MV(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function fs(n){return n&&"?"!==n[0]?"?"+n:n}let dc=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:function(){return function Fee(n){const e=E(De).location;return new kV(E(ha),e&&e.origin||"")}()},providedIn:"root"}),n})();const aC=new V("appBaseHref");let kV=(()=>{class n extends dc{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return oC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+fs(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+fs(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+fs(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(E(ha),E(aC,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),Lee=(()=>{class n extends dc{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=oC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+fs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+fs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(E(ha),E(aC,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),Ld=(()=>{class n{constructor(t,r){this._subject=new Ze,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=MV(RV(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+fs(r))}normalize(t){return n.stripTrailingSlash(function Bee(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,RV(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fs(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fs(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=fs,n.joinWithSlash=oC,n.stripTrailingSlash=MV,n.\u0275fac=function(t){return new(t||n)(E(dc),E(ha))},n.\u0275prov=L({token:n,factory:function(){return function Vee(){return new Ld(E(dc),E(ha))}()},providedIn:"root"}),n})();function RV(n){return n.replace(/\/index.html$/,"")}class Tte{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jV=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Tte(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),$V(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{$V(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(zr),b(hi),b($g))},n.\u0275dir=W({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function $V(n,e){n.context.$implicit=e.item}let Jg=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Dte,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zV("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zV("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(zr),b(hi))},n.\u0275dir=W({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Dte{constructor(){this.$implicit=null,this.ngIf=null}}function zV(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Be(e)}'.`)}const HV="browser";function _C(n){return n===HV}class wC{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let nm=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=W({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),QV=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new wC(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(b(zr),b(hi),b(nm,9))},n.\u0275dir=W({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),CC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({}),n})(),Dne=(()=>{class n{}return n.\u0275prov=L({token:n,providedIn:"root",factory:()=>new Sne(E(De),window)}),n})();class Sne{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ane(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ZV(this.window.history)||ZV(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ZV(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class IC extends class kne extends class Ree{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function kee(n){zg||(zg=n)}(new IC)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Rne(){return jd=jd||document.querySelector("base"),jd?jd.getAttribute("href"):null}();return null==t?null:function Pne(n){rm=rm||document.createElement("a"),rm.setAttribute("href",n);const e=rm.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){jd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ete(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let rm,jd=null;const JV=new V("TRANSITION_ID"),One=[{provide:Pd,useFactory:function Nne(n,e,t){return()=>{t.get(qE).donePromise.then(()=>{const r=Ri(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[JV,De,Oe],multi:!0}];class TC{static init(){!function iee(n){JE=n}(new TC)}addToWindow(e){He.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},He.getAllAngularTestabilities=()=>e.getAllTestabilities(),He.getAllAngularRootElements=()=>e.getAllRootElements(),He.frameworkStabilizers||(He.frameworkStabilizers=[]),He.frameworkStabilizers.push(r=>{const i=He.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?Ri().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Fne=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const im=new V("EventManagerPlugins");let sm=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(E(im),E(ae))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class e2{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ri().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let t2=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),$d=(()=>{class n extends t2{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(n2),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(n2))}}return n.\u0275fac=function(t){return new(t||n)(E(De))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();function n2(n){Ri().remove(n)}const DC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},SC=/%COMP%/g;function om(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?om(n,i,t):(i=i.replace(SC,n),t.push(i))}return t}function o2(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let am=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new AC(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case ti.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new $ne(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case ti.ShadowDom:return new zne(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=om(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(E(sm),E($d),E(Nd))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class AC{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(DC[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=DC[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=DC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Tr.DashCase|Tr.Important)?e.style.setProperty(t,r,i&Tr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Tr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,o2(r)):this.eventManager.addEventListener(e,t,o2(r))}}class $ne extends AC{constructor(e,t,r,i){super(e),this.component=r;const s=om(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function Bne(n){return"_ngcontent-%COMP%".replace(SC,n)}(i+"-"+r.id),this.hostAttr=function Une(n){return"_nghost-%COMP%".replace(SC,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class zne extends AC{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=om(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Hne=(()=>{class n extends e2{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(E(De))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const l2=["alt","control","meta","shift"],Gne={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},c2={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qne={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Kne=(()=>{class n extends e2{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ri().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="";if(l2.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(t){let r="",i=function Qne(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&c2.hasOwnProperty(e)&&(e=c2[e]))}return Gne[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),l2.forEach(s=>{s!=i&&qne[s](t)&&(r+=s+".")}),r+=i,r}static eventCallback(t,r,i){return s=>{n.getEventFullKey(s)===t&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(E(De))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const Jne=fV(Aee,"browser",[{provide:la,useValue:HV},{provide:sV,useValue:function Yne(){IC.makeCurrent(),TC.init()},multi:!0},{provide:De,useFactory:function Zne(){return function $8(n){$w=n}(document),document},deps:[]}]),ere=[{provide:iE,useValue:"root"},{provide:fd,useFactory:function Xne(){return new fd},deps:[]},{provide:im,useClass:Hne,multi:!0,deps:[De,ae,la]},{provide:im,useClass:Kne,multi:!0,deps:[De]},{provide:am,useClass:am,deps:[sm,$d,Nd]},{provide:Ad,useExisting:am},{provide:t2,useExisting:$d},{provide:$d,useClass:$d,deps:[De]},{provide:ZE,useClass:ZE,deps:[ae]},{provide:sm,useClass:sm,deps:[im,ae]},{provide:class xne{},useClass:Fne,deps:[]}];let u2=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:Nd,useValue:t.appId},{provide:JV,useExisting:Nd},One]}}}return n.\u0275fac=function(t){return new(t||n)(E(n,12))},n.\u0275mod=je({type:n}),n.\u0275inj=Le({providers:ere,imports:[CC,xee]}),n})(),d2=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(E(De))},n.\u0275prov=L({token:n,factory:function(t){let r=null;return r=t?new t:function nre(){return new d2(E(De))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;const{isArray:dre}=Array,{getPrototypeOf:hre,prototype:fre,keys:pre}=Object;function p2(n){if(1===n.length){const e=n[0];if(dre(e))return{args:e,keys:null};if(function gre(n){return n&&"object"==typeof n&&hre(n)===fre}(e)){const t=pre(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:mre}=Array;function MC(n){return me(e=>function _re(n,e){return mre(e)?n(...e):n(e)}(n,e))}function g2(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let m2=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(b(us),b(ht))},n.\u0275dir=W({type:n}),n})(),fa=(()=>{class n extends m2{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=In(n)))(r||n)}}(),n.\u0275dir=W({type:n,features:[Te]}),n})();const Pi=new V("NgValueAccessor"),wre={provide:Pi,useExisting:Ye(()=>zd),multi:!0},Ere=new V("CompositionEventMode");let zd=(()=>{class n extends m2{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bre(){const n=Ri()?Ri().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(b(us),b(ht),b(Ere,8))},n.\u0275dir=W({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&st("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[dt([wre]),Te]}),n})();const Bn=new V("NgValidators"),io=new V("NgAsyncValidators");function S2(n){return null!=n}function A2(n){const e=wd(n)?bn(n):n;return yE(e),e}function x2(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function M2(n,e){return e.map(t=>t(n))}function k2(n){return n.map(e=>function Ire(n){return!n.validate}(e)?e:t=>e.validate(t))}function kC(n){return null!=n?function R2(n){if(!n)return null;const e=n.filter(S2);return 0==e.length?null:function(t){return x2(M2(t,e))}}(k2(n)):null}function RC(n){return null!=n?function P2(n){if(!n)return null;const e=n.filter(S2);return 0==e.length?null:function(t){return function yre(...n){const e=YP(n),{args:t,keys:r}=p2(n),i=new Fe(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;rn(t[u]).subscribe(Qe(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?g2(r,a):a),s.complete())}))}});return e?i.pipe(MC(e)):i}(M2(t,e).map(A2)).pipe(me(x2))}}(k2(n)):null}function N2(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function PC(n){return n?Array.isArray(n)?n:[n]:[]}function cm(n,e){return Array.isArray(n)?n.includes(e):n===e}function L2(n,e){const t=PC(e);return PC(n).forEach(i=>{cm(t,i)||t.push(i)}),t}function V2(n,e){return PC(e).filter(t=>!cm(n,t))}class B2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=RC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class so extends B2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class nr extends B2{get formDirective(){return null}get path(){return null}}let NC=(()=>{class n extends class U2{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(so,2))},n.\u0275dir=W({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Js("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[Te]}),n})();function Hd(n,e){(function LC(n,e){const t=function O2(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(N2(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function F2(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(N2(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();fm(e._rawValidators,i),fm(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function Pre(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$2(n,e)})}(n,e),function Ore(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Nre(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Rre(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function fm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function UC(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Wd="VALID",gm="INVALID",hc="PENDING",Gd="DISABLED";function $C(n){return(mm(n)?n.validators:n)||null}function G2(n){return Array.isArray(n)?kC(n):n||null}function zC(n,e){return(mm(e)?e.asyncValidators:n)||null}function q2(n){return Array.isArray(n)?RC(n):n||null}function mm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const HC=n=>n instanceof GC;function Q2(n){return(n=>n instanceof Z2)(n)?n.value:n.getRawValue()}function Y2(n,e){const t=HC(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new B(1e3,"");if(!r[e])throw new B(1001,"")}function X2(n,e){HC(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new B(1002,"")})}class WC{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=G2(this._rawValidators),this._composedAsyncValidatorFn=q2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wd}get invalid(){return this.status===gm}get pending(){return this.status==hc}get disabled(){return this.status===Gd}get enabled(){return this.status!==Gd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=G2(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=q2(e)}addValidators(e){this.setValidators(L2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(L2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(V2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(V2(e,this._rawAsyncValidators))}hasValidator(e){return cm(this._rawValidators,e)}hasAsyncValidator(e){return cm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=hc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gd,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wd,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wd||this.status===hc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gd:Wd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=hc,this._hasOwnPendingAsyncValidator=!0;const t=A2(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Bre(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=HC(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof jre)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ze,this.statusChanges=new Ze}_calculateStatus(){return this._allControlsDisabled()?Gd:this.errors?gm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hc)?hc:this._anyControlsHaveStatus(gm)?gm:Wd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Z2 extends WC{constructor(e=null,t,r){super($C(t),zC(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mm(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){UC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){UC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class GC extends WC{constructor(e,t,r){super($C(t),zC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){X2(this,e),Object.keys(e).forEach(r=>{Y2(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Q2(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class jre extends WC{constructor(e,t,r){super($C(t),zC(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){X2(this,e),e.forEach((r,i)=>{Y2(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Q2(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Hre={provide:so,useExisting:Ye(()=>_m)},tB=(()=>Promise.resolve(null))();let tI,_m=(()=>{class n extends so{constructor(t,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new Z2,this._registered=!1,this.update=new Ze,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function BC(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===zd?t=s:function Vre(n){return Object.getPrototypeOf(n.constructor)===fa}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function VC(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Hd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){tB.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;tB.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?function dm(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(b(nr,9),b(Bn,10),b(io,10),b(Pi,10),b(ua,8))},n.\u0275dir=W({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[dt([Hre]),Te,dr]}),n})(),rB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({}),n})(),mie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({imports:[[rB]]}),n})(),_ie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({imports:[mie]}),n})(),bB=(()=>{class n{get nativeWindow(){return window}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),EB=(()=>{class n{constructor(t,r,i){this.element=t,this._window=r,this._zone=i,this.onlyGrow=!1,this.useImportant=!1,this.resized=new Ze,this.autosize=!0,this.retries=0,this._destroyed=!1,"TEXTAREA"!==this.element.nativeElement.tagName?this._findNestedTextArea():(this.textAreaEl=this.element.nativeElement,this.textAreaEl.style["overflow-y"]="hidden",this._onTextAreaFound())}set minRows(t){this._minRows=+t,this.textAreaEl&&(this.textAreaEl.rows=this._minRows)}set _autosize(t){this.autosize="boolean"!=typeof t||t}onInput(t){this.adjust()}ngOnDestroy(){this._destroyed=!0,this._windowResizeHandler&&this._window.nativeWindow.removeEventListener("resize",this._windowResizeHandler,!1)}ngAfterContentChecked(){this.adjust()}ngOnChanges(t){this.adjust(!0)}_findNestedTextArea(){this.textAreaEl=this.element.nativeElement.querySelector("TEXTAREA"),!this.textAreaEl&&this.element.nativeElement.shadowRoot&&(this.textAreaEl=this.element.nativeElement.shadowRoot.querySelector("TEXTAREA")),this.textAreaEl?(this.textAreaEl.style["overflow-y"]="hidden",this._onTextAreaFound()):this.retries>=3?console.warn("ngx-autosize: textarea not found"):(this.retries++,setTimeout(()=>{this._findNestedTextArea()},100))}_onTextAreaFound(){this._addWindowResizeHandler(),setTimeout(()=>{this.adjust()})}_addWindowResizeHandler(){this._windowResizeHandler=function vie(n,e){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{n(...r)},e)}}(()=>{this._zone.run(()=>{this.adjust()})},200),this._zone.runOutsideAngular(()=>{this._window.nativeWindow.addEventListener("resize",this._windowResizeHandler,!1)})}adjust(t=!1){if(this.autosize&&!this._destroyed&&this.textAreaEl&&this.textAreaEl.parentNode){const r=this.textAreaEl.value;if(!1===t&&r===this._oldContent&&this.textAreaEl.offsetWidth===this._oldWidth)return;this._oldContent=r,this._oldWidth=this.textAreaEl.offsetWidth;const i=this.textAreaEl.cloneNode(!0),s=this.textAreaEl.parentNode;i.style.width=this.textAreaEl.offsetWidth+"px",i.style.visibility="hidden",i.style.position="absolute",i.textContent=r,s.appendChild(i),i.style["overflow-y"]="hidden",i.style.height="auto";let o=i.scrollHeight,a=this._window.nativeWindow.getComputedStyle(i,null);o+=parseInt(a.getPropertyValue("border-top-width")),o+=parseInt(a.getPropertyValue("border-bottom-width")),"content-box"===a.getPropertyValue("box-sizing")&&(o-=parseInt(a.getPropertyValue("padding-top")),o-=parseInt(a.getPropertyValue("padding-bottom")));const l=this.textAreaEl.offsetHeight,c=o>l;if(!1===this.onlyGrow||c){const u=this._getLineHeight(),d=o/u;if(this._minRows&&this._minRows>=d)o=this._minRows*u;else if(this.maxRows&&this.maxRows<=d){const p=this.maxRows*u;o=this.onlyGrow?Math.max(p,l):p,this.textAreaEl.style["overflow-y"]="auto"}else this.textAreaEl.style["overflow-y"]="hidden";this.textAreaEl.style.setProperty("height",o+"px",this.useImportant?"important":""),this.resized.emit(o)}s.removeChild(i)}}_getLineHeight(){let t=parseInt(this.textAreaEl.style.lineHeight,10);if(isNaN(t)&&this._window.nativeWindow.getComputedStyle){const r=this._window.nativeWindow.getComputedStyle(this.textAreaEl);t=parseInt(r.lineHeight,10)}if(isNaN(t)){const r=this._window.nativeWindow.getComputedStyle(this.textAreaEl,null).getPropertyValue("font-size");t=Math.floor(1.5*parseInt(r.replace("px",""),10))}return t}}return n.\u0275fac=function(t){return new(t||n)(b(ht),b(bB),b(ae))},n.\u0275dir=W({type:n,selectors:[["","autosize",""]],hostBindings:function(t,r){1&t&&st("input",function(s){return r.onInput(s.target)})},inputs:{minRows:"minRows",_autosize:["autosize","_autosize"],maxRows:"maxRows",onlyGrow:"onlyGrow",useImportant:"useImportant"},outputs:{resized:"resized"},features:[dr]}),n})(),wie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({providers:[bB],imports:[[]]}),n})();function CB(n){return null!=n&&"false"!=`${n}`}function eI(n,e=0){return function bie(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function ym(n){return Array.isArray(n)?n:[n]}function $t(n){return null==n?"":"string"==typeof n?n:`${n}px`}function fc(n){return n instanceof ht?n.nativeElement:n}try{tI="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){tI=!1}let Kd,ga,rI,Sr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?_C(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!tI)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(E(la))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nI(n){return function Eie(){if(null==Kd&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Kd=!0}))}finally{Kd=Kd||!1}return Kd}()?n:!!n.capture}function Cie(){if(null==ga){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ga=!1,ga;if("scrollBehavior"in document.documentElement.style)ga=!0;else{const n=Element.prototype.scrollTo;ga=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ga}function TB(n){if(function Iie(){if(null==rI){const n="undefined"!=typeof document?document.head:null;rI=!(!n||!n.createShadowRoot&&!n.attachShadow)}return rI}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function iI(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function ma(n){return n.composedPath?n.composedPath()[0]:n.target}function sI(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const Tie=new V("cdk-dir-doc",{providedIn:"root",factory:function Die(){return ub(De)}}),Sie=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let oI=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new Ze,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function Aie(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Sie.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(E(Tie,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({}),n})();class Gr extends Ie{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Q(...n){return bn(n,$u(n))}function ln(n){return n<=0?()=>rs:rt((e,t)=>{let r=0;e.subscribe(Qe(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function zt(n,e){return rt((t,r)=>{let i=0;t.subscribe(Qe(r,s=>n.call(e,s,i++)&&r.next(s)))})}function SB(n){return zt((e,t)=>n<=t)}function AB(n,e=$s){return n=null!=n?n:Fie,rt((t,r)=>{let i,s=!0;t.subscribe(Qe(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function Fie(n,e){return n===e}function wm(n){return rt((e,t)=>{rn(n).subscribe(Qe(t,()=>t.complete(),Bu)),!t.closed&&e.subscribe(t)})}let kB=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Uie(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Bie(n){try{return n.frameElement}catch(e){return null}}(function Kie(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===PB(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),s=PB(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Gie(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==s:"video"===i?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function qie(n){return!function $ie(n){return function Hie(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function jie(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function zie(n){return function Wie(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||RB(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(E(Sr))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RB(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function PB(n){if(!RB(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Qie{constructor(e,t,r,i,s=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ln(1)).subscribe(e)}}let Yie=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Qie(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(E(kB),E(ae),E(De))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NB(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function OB(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Xie=new V("cdk-input-modality-detector-options"),Zie={ignoreKeys:[18,17,224,91,16]},gc=nI({passive:!0,capture:!0});let Jie=(()=>{class n{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Gr(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ma(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(NB(o)?"keyboard":"mouse"),this._mostRecentTarget=ma(o))},this._onTouchstart=o=>{OB(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ma(o))},this._options=Object.assign(Object.assign({},Zie),s),this.modalityDetected=this._modality.pipe(SB(1)),this.modalityChanged=this.modalityDetected.pipe(AB()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,gc),i.addEventListener("mousedown",this._onMousedown,gc),i.addEventListener("touchstart",this._onTouchstart,gc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,gc),document.removeEventListener("mousedown",this._onMousedown,gc),document.removeEventListener("touchstart",this._onTouchstart,gc))}}return n.\u0275fac=function(t){return new(t||n)(E(Sr),E(ae),E(De),E(Xie,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ese=new V("liveAnnouncerElement",{providedIn:"root",factory:function tse(){return null}}),nse=new V("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let LB=(()=>{class n{constructor(t,r,i,s){this._ngZone=r,this._defaultOptions=s,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let s,o;return 1===r.length&&"number"==typeof r[0]?o=r[0]:[s,o]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=i&&i.politeness?i.politeness:"polite"),null==o&&i&&(o=i.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,r;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(r=this._currentResolve)||void 0===r||r.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(E(ese,8),E(ae),E(De),E(nse,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rse=new V("cdk-focus-monitor-default-options"),bm=nI({passive:!0,capture:!0});let VB=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ie,this._rootNodeFocusAndBlurListener=a=>{const l=ma(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=s,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(t,r=!1){const i=fc(t);if(!this._platform.isBrowser||1!==i.nodeType)return Q(null);const s=TB(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new Ie,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=fc(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=fc(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,r,l)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=ma(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,bm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,bm)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(wm(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(E(ae),E(Sr),E(Jie),E(De,8),E(rse,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BB="cdk-high-contrast-black-on-white",UB="cdk-high-contrast-white-on-black",aI="cdk-high-contrast-active";let ise=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(aI),t.remove(BB),t.remove(UB),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(aI),t.add(BB)):2===r&&(t.add(aI),t.add(UB))}}}return n.\u0275fac=function(t){return new(t||n)(E(Sr),E(De))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jB{}const gs="*";function $B(n,e){return{type:7,name:n,definitions:e,options:{}}}function Em(n,e=null){return{type:4,styles:e,timings:n}}function zB(n,e=null){return{type:3,steps:n,options:e}}function HB(n,e=null){return{type:2,steps:n,options:e}}function ms(n){return{type:6,styles:n,offset:null}}function Cm(n,e,t){return{type:0,name:n,styles:e,options:t}}function Im(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function WB(n=null){return{type:9,options:n}}function GB(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function qB(n){Promise.resolve(null).then(n)}class Yd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class KB{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?qB(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const be=!1;function QB(n){return new B(3e3,be)}function Bse(){return"undefined"!=typeof window&&void 0!==window.document}function cI(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function oo(n){switch(n.length){case 0:return new Yd;case 1:return n[0];default:return new KB(n)}}function YB(n,e,t,r,i={},s={}){const o=[],a=[];let l=-1,c=null;if(r.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let g=p,m=u[p];if("offset"!==p)switch(g=e.normalizePropertyName(g,o),m){case"!":m=i[p];break;case gs:m=s[p];break;default:m=e.normalizeStyleValue(p,g,m,o)}f[g]=m}),h||a.push(f),c=f,l=d}),o.length)throw function Ase(n){return new B(3502,be)}();return a}function uI(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&dI(t,"start",n)));break;case"done":n.onDone(()=>r(t&&dI(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&dI(t,"destroy",n)))}}function dI(n,e,t){const r=t.totalTime,s=hI(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function hI(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ar(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function XB(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let fI=(n,e)=>!1,ZB=(n,e,t)=>[],JB=null;function pI(n){const e=n.parentNode||n.host;return e===JB?null:e}(cI()||"undefined"!=typeof Element)&&(Bse()?(JB=(()=>document.documentElement)(),fI=(n,e)=>{for(;e;){if(e===n)return!0;e=pI(e)}return!1}):fI=(n,e)=>n.contains(e),ZB=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let _a=null,eU=!1;function tU(n){_a||(_a=function jse(){return"undefined"!=typeof document?document.body:null}()||{},eU=!!_a.style&&"WebkitAppearance"in _a.style);let e=!0;return _a.style&&!function Use(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in _a.style,!e&&eU&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in _a.style)),e}const nU=fI,rU=ZB;let iU=(()=>{class n{validateStyleProperty(t){return tU(t)}matchesElement(t,r){return!1}containsElement(t,r){return nU(t,r)}getParentElement(t){return pI(t)}query(t,r,i){return rU(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],l){return new Yd(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),gI=(()=>{class n{}return n.NOOP=new iU,n})();const mI="ng-enter",Dm="ng-leave",Sm="ng-trigger",Am=".ng-trigger",oU="ng-animating",_I=".ng-animating";function ya(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:yI(parseFloat(e[1]),e[2])}function yI(n,e){return"s"===e?1e3*n:n}function xm(n,e,t){return n.hasOwnProperty("duration")?n:function Hse(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(QB()),{duration:0,delay:0,easing:""};i=yI(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=yI(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else i=n;if(!t){let a=!1,l=e.length;i<0&&(e.push(function ose(){return new B(3100,be)}()),a=!0),s<0&&(e.push(function ase(){return new B(3101,be)}()),a=!0),a&&e.splice(l,0,QB())}return{duration:i,delay:s,easing:o}}(n,e,t)}function mc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ao(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else mc(n,t);return t}function lU(n,e,t){return t?e+":"+t+";":""}function cU(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=lU(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=lU(0,qse(t),n.style[t]));n.setAttribute("style",e)}function Ni(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=wI(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),cI()&&cU(n))}function va(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=wI(t);n.style[r]=""}),cI()&&cU(n))}function Xd(n){return Array.isArray(n)?1==n.length?n[0]:HB(n):n}const vI=new RegExp("{{\\s*(.+?)\\s*}}","g");function uU(n){let e=[];if("string"==typeof n){let t;for(;t=vI.exec(n);)e.push(t[1]);vI.lastIndex=0}return e}function Mm(n,e,t){const r=n.toString(),i=r.replace(vI,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(function cse(n){return new B(3003,be)}()),a=""),a.toString()});return i==r?n:i}function km(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Gse=/-+([a-z0-9])/g;function wI(n){return n.replace(Gse,(...e)=>e[1].toUpperCase())}function qse(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function use(n){return new B(3004,be)}()}}function dU(n,e){return window.getComputedStyle(n)[e]}function Jse(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function eoe(n,e,t){if(":"==n[0]){const l=function toe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Ise(n){return new B(3016,be)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Cse(n){return new B(3015,be)}()),e;const i=r[1],s=r[2],o=r[3];e.push(hU(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(hU(o,i))}(r,t,e)):t.push(n),t}const Om=new Set(["true","1"]),Fm=new Set(["false","0"]);function hU(n,e){const t=Om.has(n)||Fm.has(n),r=Om.has(e)||Fm.has(e);return(i,s)=>{let o="*"==n||n==i,a="*"==e||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Om.has(n):Fm.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Om.has(e):Fm.has(e)),o&&a}}const noe=new RegExp("s*:selfs*,?","g");function bI(n,e,t,r){return new roe(n).build(e,t,r)}class roe{constructor(e){this._driver=e}build(e,t,r){const i=new ooe(t);this._resetContextStyleTimingState(i);const s=xr(this,Xd(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function hse(){return new B(3006,be)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);r+=l.queryCount,i+=l.depCount,o.push(l)}else t.errors.push(function fse(){return new B(3007,be)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{if(Lm(a)){const l=a;Object.keys(l).forEach(c=>{uU(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size&&(km(s.values()),t.errors.push(function pse(n,e){return new B(3008,be)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=xr(this,Xd(e.animation),t);return{type:1,matchers:Jse(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:wa(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>xr(this,r,t)),options:wa(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=xr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:wa(e.options)}}visitAnimate(e,t){const r=function loe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return EI(xm(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=EI(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=xm(t,e);return EI(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:ms({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};r.easing&&(c.easing=r.easing),o=ms(c)}t.currentTime+=r.duration+r.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==gs?r.push(o):t.errors.push(function gse(n){return new B(3002,be)}()):r.push(o)}):r.push(e.styles);let i=!1,s=null;return r.forEach(o=>{if(Lm(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!i)for(let c in a)if(a[c].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void t.unsupportedCSSPropertiesFound.add(a);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function mse(n,e,t,r,i){return new B(3010,be)}()),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:i}),t.options&&function Wse(n,e,t){const r=e.params||{},i=uU(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function lse(n){return new B(3001,be)}())})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function _se(){return new B(3011,be)}()),r;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(v=>{const y=this._makeStyleAst(v,t);let I=null!=y.offset?y.offset:function aoe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Lm(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Lm(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(y.styles),x=0;return null!=I&&(s++,x=y.offset=I),l=l||x<0||x>1,a=a||x<c,c=x,o.push(x),y});l&&t.errors.push(function yse(){return new B(3012,be)}()),a&&t.errors.push(function vse(){return new B(3200,be)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function wse(){return new B(3202,be)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return u.forEach((v,y)=>{const I=h>0?y==f?1:h*y:o[y],x=I*m;t.currentTime=p+g.delay+x,g.duration=x,this._validateStyleAst(v,t),v.offset=I,r.styles.push(v)}),r}visitReference(e,t){return{type:8,animation:xr(this,Xd(e.animation),t),options:wa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:wa(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:wa(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function ioe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(noe,"")),n=n.replace(/@\*/g,Am).replace(/@\w+/g,t=>Am+"-"+t.substr(1)).replace(/:animating/g,_I),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,Ar(t.collectedStyles,t.currentQuerySelector,{});const a=xr(this,Xd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:wa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function bse(){return new B(3013,be)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:xm(e.timings,t.errors,!0);return{type:12,animation:xr(this,Xd(e.animation),t),timings:r,options:null}}}class ooe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lm(n){return!Array.isArray(n)&&"object"==typeof n}function wa(n){return n?(n=mc(n)).params&&(n.params=function soe(n){return n?mc(n):null}(n.params)):n={},n}function EI(n,e,t){return{duration:n,delay:e,easing:t}}function CI(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Vm{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const doe=new RegExp(":enter","g"),foe=new RegExp(":leave","g");function II(n,e,t,r,i,s={},o={},a,l,c=[]){return(new poe).buildKeyframes(n,e,t,r,i,s,o,a,l,c)}class poe{buildKeyframes(e,t,r,i,s,o,a,l,c,u=[]){c=c||new Vm;const d=new TI(e,t,c,i,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),xr(this,r,d);const h=d.timelines.filter(f=>f.containsAnimation());if(Object.keys(a).length){let f;for(let p=h.length-1;p>=0;p--){const g=h[p];if(g.element===t){f=g;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[CI(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?ya(r.duration):null,a=null!=r.delay?ya(r.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),xr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Bm);const o=ya(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>xr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ya(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),xr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return xm(t.params?Mm(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ya(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Bm);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),xr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;xr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Bm={};class TI{constructor(e,t,r,i,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Um(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ya(r.duration)),null!=r.delay&&(i.delay=ya(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Mm(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new TI(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Bm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new goe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(doe,"."+this._enterClassName)).replace(foe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=r);0!==r&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&0==a.length&&o.push(function Ese(n){return new B(3014,be)}()),a}}class Um{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Um(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||gs,this._currentKeyframe[t]=gs}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},o=function moe(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(s=>{t[s]=gs})):ao(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=Mm(o[a],s,r);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:gs),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,l)=>{const c=ao(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==gs&&t.add(u)}),r||(c.offset=l/this.duration),i.push(c)});const s=e.size?km(e.values()):[],o=t.size?km(t.values()):[];if(r){const a=i[0],l=mc(a);a.offset=0,l.offset=1,i=[a,l]}return CI(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class goe extends Um{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,l=ao(e[0],!1);l.offset=0,s.push(l);const c=ao(e[0],!1);c.offset=gU(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=ao(e[d],!1);h.offset=gU((t+h.offset*r)/o),s.push(h)}r=o,t=0,i="",e=s}return CI(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function gU(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class DI{}class _oe extends DI{normalizePropertyName(e,t){return wI(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(yoe[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function dse(n,e){return new B(3005,be)}())}return o+s}}const yoe=(()=>function voe(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function mU(n,e,t,r,i,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const SI={};class _U{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function woe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],s=this._stateStyles[e],o=i?i.buildStyles(t,r):{};return s?s.buildStyles(t,r):o}build(e,t,r,i,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||SI,p=this.buildStyles(r,a&&a.params||SI,d),g=l&&l.params||SI,m=this.buildStyles(i,g,d),v=new Set,y=new Map,I=new Map,x="void"===i,$={params:Object.assign(Object.assign({},h),g)},G=u?[]:II(e,t,this.ast.animation,s,o,p,m,$,c,d);let fe=0;if(G.forEach(Kt=>{fe=Math.max(Kt.duration+Kt.delay,fe)}),d.length)return mU(t,this._triggerName,r,i,x,p,m,[],[],y,I,fe,d);G.forEach(Kt=>{const lr=Kt.element,Fu=Ar(y,lr,{});Kt.preStyleProps.forEach(Ei=>Fu[Ei]=!0);const js=Ar(I,lr,{});Kt.postStyleProps.forEach(Ei=>js[Ei]=!0),lr!==t&&v.add(lr)});const wt=km(v.values());return mU(t,this._triggerName,r,i,x,p,m,G,wt,y,I,fe)}}class boe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=mc(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(i[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=Mm(l,i,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),r[c]=l})}}),r}}class Coe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new boe(i.style,i.options&&i.options.params||{},r)}),yU(this.states,"true","1"),yU(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new _U(e,i,this.states))}),this.fallbackTransition=function Ioe(n,e,t){return new _U(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function yU(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Toe=new Vm;class Doe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=bI(this._driver,t,r,[]);if(r.length)throw function xse(n){return new B(3503,be)}();this._animations[e]=s}_buildPlayer(e,t,r){const i=e.element,s=YB(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations[e];let o;const a=new Map;if(s?(o=II(this._driver,t,s,mI,Dm,{},{},r,Toe,i),o.forEach(u=>{const d=Ar(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(i.push(function Mse(){return new B(3300,be)}()),o=[]),i.length)throw function kse(n){return new B(3504,be)}();a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,gs)})});const c=oo(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Rse(n){return new B(3301,be)}();return t}listen(e,t,r,i){const s=hI(t,"","","");return uI(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const vU="ng-animate-queued",AI="ng-animate-disabled",koe=[],wU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Roe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},qr="__ng_removed";class xI{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Foe(n){return null!=n?n:null}(r?e.value:e),r){const s=mc(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Zd="void",MI=new xI(Zd);class Poe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Kr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function Pse(n,e){return new B(3302,be)}();if(null==r||0==r.length)throw function Nse(n){return new B(3303,be)}();if(!function Loe(n){return"start"==n||"done"==n}(r))throw function Ose(n,e){return new B(3400,be)}();const s=Ar(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=Ar(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Kr(e,Sm),Kr(e,Sm+"-"+t),a[t]=MI),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Fse(n){return new B(3401,be)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new kI(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Kr(e,Sm),Kr(e,Sm+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new xI(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=MI),c.value!==Zd&&l.value===c.value){if(!function Uoe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const g=[],m=s.matchStyles(l.value,l.params,g),v=s.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{va(e,m),Ni(e,v)})}return}const h=Ar(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Kr(e,vU),o.onStart(()=>{_c(e,vU)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let v=m.indexOf(o);v>=0&&m.splice(v,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Am,!0);r.forEach(i=>{if(i[qr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const c=this.trigger(e,l,Zd,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&oo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const l=this._triggers[o].fallbackTransition,c=r[o]||MI,u=new xI(Zd),d=new kI(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[qr];(!s||s===wU)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Kr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const l=hI(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,uI(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Noe{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Poe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,s=r.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(t);for(;a;){const l=i.get(a);if(l){const c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(r[a].hostElement,t)){r.splice(a+1,0,e),o=!0;break}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let s=0;s<i.length;s++){const o=r[i[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,r,i){if(jm(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!jm(t))return;const s=t[qr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Kr(e,AI)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),_c(e,AI))}removeNode(e,t,r,i){if(jm(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[qr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return jm(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Am,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,_I,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return oo(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[qr];if(r&&r.setForRemoval){if(e[qr]=wU,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(AI))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Kr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?oo(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Lse(n){return new B(3402,be)}()}_flushAnimations(e,t){const r=new Vm,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(j=>{u.add(j);const q=this.driver.query(j,".ng-animate-queued",!0);for(let J=0;J<q.length;J++)u.add(q[J])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=CU(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((j,q)=>{const J=mI+g++;p.set(q,J),j.forEach(Pe=>Kr(Pe,J))});const m=[],v=new Set,y=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const q=this.collectedLeaveElements[j],J=q[qr];J&&J.setForRemoval&&(m.push(q),v.add(q),J.hasAnimation?this.driver.query(q,".ng-star-inserted",!0).forEach(Pe=>v.add(Pe)):y.add(q))}const I=new Map,x=CU(h,Array.from(v));x.forEach((j,q)=>{const J=Dm+g++;I.set(q,J),j.forEach(Pe=>Kr(Pe,J))}),e.push(()=>{f.forEach((j,q)=>{const J=p.get(q);j.forEach(Pe=>_c(Pe,J))}),x.forEach((j,q)=>{const J=I.get(q);j.forEach(Pe=>_c(Pe,J))}),m.forEach(j=>{this.processLeaveNode(j)})});const $=[],G=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(t).forEach(J=>{const Pe=J.player,vn=J.element;if($.push(Pe),this.collectedEnterElements.length){const cr=vn[qr];if(cr&&cr.setForMove){if(cr.previousTriggersValues&&cr.previousTriggersValues.has(J.triggerName)){const yl=cr.previousTriggersValues.get(J.triggerName),Yo=this.statesByElement.get(J.element);Yo&&Yo[J.triggerName]&&(Yo[J.triggerName].value=yl)}return void Pe.destroy()}}const ts=!d||!this.driver.containsElement(d,vn),Lr=I.get(vn),Qo=p.get(vn),bt=this._buildInstruction(J,r,Qo,Lr,ts);if(bt.errors&&bt.errors.length)return void G.push(bt);if(ts)return Pe.onStart(()=>va(vn,bt.fromStyles)),Pe.onDestroy(()=>Ni(vn,bt.toStyles)),void i.push(Pe);if(J.isFallbackTransition)return Pe.onStart(()=>va(vn,bt.fromStyles)),Pe.onDestroy(()=>Ni(vn,bt.toStyles)),void i.push(Pe);const g9=[];bt.timelines.forEach(cr=>{cr.stretchStartingKeyframe=!0,this.disabledNodes.has(cr.element)||g9.push(cr)}),bt.timelines=g9,r.append(vn,bt.timelines),o.push({instruction:bt,player:Pe,element:vn}),bt.queriedElements.forEach(cr=>Ar(a,cr,[]).push(Pe)),bt.preStyleProps.forEach((cr,yl)=>{const Yo=Object.keys(cr);if(Yo.length){let vl=l.get(yl);vl||l.set(yl,vl=new Set),Yo.forEach(DP=>vl.add(DP))}}),bt.postStyleProps.forEach((cr,yl)=>{const Yo=Object.keys(cr);let vl=c.get(yl);vl||c.set(yl,vl=new Set),Yo.forEach(DP=>vl.add(DP))})});if(G.length){const j=[];G.forEach(q=>{j.push(function Vse(n,e){return new B(3505,be)}())}),$.forEach(q=>q.destroy()),this.reportError(j)}const fe=new Map,wt=new Map;o.forEach(j=>{const q=j.element;r.has(q)&&(wt.set(q,q),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,fe))}),i.forEach(j=>{const q=j.element;this._getPreviousPlayers(q,!1,j.namespaceId,j.triggerName,null).forEach(Pe=>{Ar(fe,q,[]).push(Pe),Pe.destroy()})});const Kt=m.filter(j=>TU(j,l,c)),lr=new Map;EU(lr,this.driver,y,c,gs).forEach(j=>{TU(j,l,c)&&Kt.push(j)});const js=new Map;f.forEach((j,q)=>{EU(js,this.driver,new Set(j),l,"!")}),Kt.forEach(j=>{const q=lr.get(j),J=js.get(j);lr.set(j,Object.assign(Object.assign({},q),J))});const Ei=[],Lu=[],Vu={};o.forEach(j=>{const{element:q,player:J,instruction:Pe}=j;if(r.has(q)){if(u.has(q))return J.onDestroy(()=>Ni(q,Pe.toStyles)),J.disabled=!0,J.overrideTotalTime(Pe.totalTime),void i.push(J);let vn=Vu;if(wt.size>1){let Lr=q;const Qo=[];for(;Lr=Lr.parentNode;){const bt=wt.get(Lr);if(bt){vn=bt;break}Qo.push(Lr)}Qo.forEach(bt=>wt.set(bt,vn))}const ts=this._buildAnimation(J.namespaceId,Pe,fe,s,js,lr);if(J.setRealPlayer(ts),vn===Vu)Ei.push(J);else{const Lr=this.playersByElement.get(vn);Lr&&Lr.length&&(J.parentPlayer=oo(Lr)),i.push(J)}}else va(q,Pe.fromStyles),J.onDestroy(()=>Ni(q,Pe.toStyles)),Lu.push(J),u.has(q)&&i.push(J)}),Lu.forEach(j=>{const q=s.get(j.element);if(q&&q.length){const J=oo(q);j.setRealPlayer(J)}}),i.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<m.length;j++){const q=m[j],J=q[qr];if(_c(q,Dm),J&&J.hasAnimation)continue;let Pe=[];if(a.size){let ts=a.get(q);ts&&ts.length&&Pe.push(...ts);let Lr=this.driver.query(q,_I,!0);for(let Qo=0;Qo<Lr.length;Qo++){let bt=a.get(Lr[Qo]);bt&&bt.length&&Pe.push(...bt)}}const vn=Pe.filter(ts=>!ts.destroyed);vn.length?Voe(this,q,vn):this.processLeaveNode(q)}return m.length=0,Ei.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();const q=this.players.indexOf(j);this.players.splice(q,1)}),j.play()}),Ei}elementContainsData(e,t){let r=!1;const i=t[qr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==Zd;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=Ar(r,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}va(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;u.add(g);const m=g[qr];if(m&&m.removedBeforeQueried)return new Yd(p.duration,p.delay);const v=g!==l,y=function Boe(n){const e=[];return IU(n,e),e}((r.get(g)||koe).map(fe=>fe.getRealPlayer())).filter(fe=>!!fe.element&&fe.element===g),I=s.get(g),x=o.get(g),$=YB(0,this._normalizer,0,p.keyframes,I,x),G=this._buildPlayer(p,$,y);if(p.subTimeline&&i&&d.add(g),v){const fe=new kI(e,a,g);fe.setRealPlayer(G),c.push(fe)}return G});c.forEach(p=>{Ar(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Ooe(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Kr(p,oU));const f=oo(h);return f.onDestroy(()=>{u.forEach(p=>_c(p,oU)),Ni(l,t.toStyles)}),d.forEach(p=>{Ar(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Yd(e.duration,e.delay)}}class kI{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Yd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>uI(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ar(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function jm(n){return n&&1===n.nodeType}function bU(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function EU(n,e,t,r,i){const s=[];t.forEach(l=>s.push(bU(l)));const o=[];r.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,i);(!h||0==h.length)&&(c[qr]=Roe,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>bU(l,s[a++])),o}function CU(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:i.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function Kr(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function _c(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Voe(n,e,t){oo(t).onDone(()=>n.processLeaveNode(e))}function IU(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof KB?IU(r.players,e):e.push(r)}}function TU(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class $m{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Noe(e,t,r),this._timelineEngine=new Doe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const l=[],u=bI(this._driver,s,l,[]);if(l.length)throw function Sse(n,e){return new B(3404,be)}();a=function Eoe(n,e,t){return new Coe(n,e,t)}(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=XB(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=XB(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let $oe=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ni(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ni(this._element,this._initialStyles),this._endStyles&&(Ni(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(va(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(va(this._element,this._endStyles),this._endStyles=null),Ni(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function RI(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];zoe(i)&&(e=e||{},e[i]=n[i])}return e}function zoe(n){return"display"===n||"position"===n}class DU{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:dU(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Hoe{validateStyleProperty(e){return tU(e)}matchesElement(e,t){return!1}containsElement(e,t){return nU(e,t)}getParentElement(e){return pI(e)}query(e,t,r){return rU(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const l={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(l.easing=s);const c={},u=o.filter(h=>h instanceof DU);(function Kse(n,e){return 0===n||0===e})(r,i)&&u.forEach(h=>{let f=h.currentSnapshot;Object.keys(f).forEach(p=>c[p]=f[p])}),t=function Qse(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var i=1;i<e.length;i++){let a=e[i];o.forEach(function(l){a[l]=dU(n,l)})}}return e}(e,t=t.map(h=>ao(h,!1)),c);const d=function joe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=RI(e[0]),e.length>1&&(r=RI(e[e.length-1]))):e&&(t=RI(e)),t||r?new $oe(n,t,r):null}(e,t);return new DU(e,t,l,d)}}let Woe=(()=>{class n extends jB{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:ti.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?HB(t):t;return SU(this._renderer,null,r,"register",[i]),new Goe(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(E(Ad),E(De))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class Goe extends class sse{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new qoe(this._id,e,t||{},this._renderer)}}class qoe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return SU(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function SU(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const AU="@.disabled";let Koe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let u=this._rendererCache.get(s);return u||(u=new xU("",s,this.engine),this._rendererCache.set(s,u)),u}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return r.data.animation.forEach(l),new Qoe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(E(Ad),E($m),E(ae))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class xU{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==AU?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Qoe extends xU{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==AU?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Yoe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Xoe(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Zoe=(()=>{class n extends $m{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(E(De),E(gI),E(DI))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const yc=new V("AnimationModuleType"),MU=[{provide:jB,useClass:Woe},{provide:DI,useFactory:function Joe(){return new _oe}},{provide:$m,useClass:Zoe},{provide:Ad,useFactory:function eae(n,e,t){return new Koe(n,e,t)},deps:[am,$m,ae]}],kU=[{provide:gI,useFactory:()=>new Hoe},{provide:yc,useValue:"BrowserAnimations"},...MU],tae=[{provide:gI,useClass:iU},{provide:yc,useValue:"NoopAnimations"},...MU];let nae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?tae:kU}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({providers:kU,imports:[u2]}),n})();const iae=new V("mat-sanity-checks",{providedIn:"root",factory:function rae(){return!0}});let Oi=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!sI()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(E(ise),E(iae,8),E(De))},n.\u0275mod=je({type:n}),n.\u0275inj=Le({imports:[[Qd],Qd]}),n})();function sae(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=CB(e)}}}function PU(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function oae(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=CB(e)}}}class lae{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const NU={enterDuration:225,exitDuration:150},PI=nI({passive:!0}),OU=["mousedown","touchstart"],FU=["mouseup","mouseleave","touchend","touchcancel"];class uae{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=fc(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},NU),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function hae(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,l=t-i.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function dae(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const d=new lae(this,u,r);return d.state=0,this._activeRipples.add(d),r.persistent||(this._mostRecentTransientRipple=d),this._runTimeoutOutsideZone(()=>{const h=d===this._mostRecentTransientRipple;d.state=1,!r.persistent&&(!h||!this._isPointerDown)&&d.fadeOut()},c),d}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},NU),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=fc(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(OU))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(FU),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=NB(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!OB(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,PI)})})}_removeTriggerEvents(){this._triggerElement&&(OU.forEach(e=>{this._triggerElement.removeEventListener(e,this,PI)}),this._pointerUpEventsRegistered&&FU.forEach(e=>{this._triggerElement.removeEventListener(e,this,PI)}))}}const fae=new V("mat-ripple-global-options");let LU=(()=>{class n{constructor(t,r,i,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new uae(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(b(ht),b(ae),b(Sr),b(fae,8),b(yc,8))},n.\u0275dir=W({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Js("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),pae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({imports:[[Oi],Oi]}),n})();const gae=["addListener","removeListener"],mae=["addEventListener","removeEventListener"],_ae=["on","off"];function eh(n,e,t,r){if(ne(t)&&(r=t,t=void 0),r)return eh(n,e,t).pipe(MC(r));const[i,s]=function wae(n){return ne(n.addEventListener)&&ne(n.removeEventListener)}(n)?mae.map(o=>a=>n[o](e,a,t)):function yae(n){return ne(n.addListener)&&ne(n.removeListener)}(n)?gae.map(VU(n,e)):function vae(n){return ne(n.on)&&ne(n.off)}(n)?_ae.map(VU(n,e)):[];if(!i&&Iw(n))return kt(o=>eh(o,e,t))(rn(n));if(!i)throw new TypeError("Invalid event target");return new Fe(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function VU(n,e){return t=>r=>n[t](e,r)}class bae extends wn{constructor(e,t){super()}schedule(e,t=0){return this}}const Hm={setInterval(n,e,...t){const{delegate:r}=Hm;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Hm;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};class Wm extends bae{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Hm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Hm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,wl(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const th={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=th;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(s=>{t=void 0,n(s)});return new wn(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=th;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=th;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},BU={now:()=>(BU.delegate||Date).now(),delegate:void 0};class nh{constructor(e,t=nh.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}nh.now=BU.now;class Gm extends nh{constructor(e,t=nh.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}new class Cae extends Gm{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Eae extends Wm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=th.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(th.cancelAnimationFrame(t),e._scheduled=void 0)}});let NI,Tae=1;const qm={};function UU(n){return n in qm&&(delete qm[n],!0)}const Dae={setImmediate(n){const e=Tae++;return qm[e]=!0,NI||(NI=Promise.resolve()),NI.then(()=>UU(e)&&n()),e},clearImmediate(n){UU(n)}},{setImmediate:Sae,clearImmediate:Aae}=Dae,Km={setImmediate(...n){const{delegate:e}=Km;return((null==e?void 0:e.setImmediate)||Sae)(...n)},clearImmediate(n){const{delegate:e}=Km;return((null==e?void 0:e.clearImmediate)||Aae)(n)},delegate:void 0},rh=(new class Mae extends Gm{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class xae extends Wm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Km.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:s}=e;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Km.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}}),new Gm(Wm)),Rae=rh;function jU(n=0,e,t=Rae){let r=-1;return null!=e&&(QP(e)?t=e:r=e),new Fe(i=>{let s=function Nae(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function $U(n,e=rh){return function Pae(n){return rt((e,t)=>{let r=!1,i=null,s=null,o=!1;const a=()=>{if(null==s||s.unsubscribe(),s=null,r){r=!1;const c=i;i=null,t.next(c)}o&&t.complete()},l=()=>{s=null,o&&t.complete()};e.subscribe(Qe(t,c=>{r=!0,i=c,s||rn(n(c)).subscribe(s=Qe(t,a,l))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>jU(n,e))}let Fae=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ie,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Fe(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe($U(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Q()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(zt(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=fc(r),s=t.getElementRef().nativeElement;do{if(i==s)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>eh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(E(ae),E(Sr),E(De,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OI=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ie,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe($U(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(E(Sr),E(ae),E(De,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({}),n})(),HU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({imports:[[Qd,zU],Qd,zU]}),n})();function Vae(n,e){if(1&n&&(Wp(),an(0,"circle",4)),2&n){const t=ci(),r=vd(1);rc("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),on("r",t._getCircleRadius())}}function Bae(n,e){if(1&n&&(Wp(),an(0,"circle",4)),2&n){const t=ci(),r=vd(1);rc("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),on("r",t._getCircleRadius())}}const jae=PU(class{constructor(n){this._elementRef=n}},"primary"),$ae=new V("mat-progress-spinner-default-options",{providedIn:"root",factory:function zae(){return{diameter:100}}});class Fi extends jae{constructor(e,t,r,i,s,o,a,l){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=wn.EMPTY,this.mode="determinate";const c=Fi._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),c.has(r.head)||c.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!s&&!s._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),t.isBrowser&&t.SAFARI&&a&&o&&l&&(this._resizeSubscription=a.change(150).subscribe(()=>{"indeterminate"===this.mode&&l.run(()=>o.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=eI(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=eI(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,eI(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=TB(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var t;const r=50*(null!==(t=e.currentScale)&&void 0!==t?t:1);return`${r}% ${r}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=Fi._diameters;let i=r.get(e);if(!i||!i.has(t)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),e.appendChild(s),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Fi._diameters=new WeakMap,Fi.\u0275fac=function(e){return new(e||Fi)(b(ht),b(Sr),b(De,8),b(yc,8),b($ae),b(ua),b(OI),b(ae))},Fi.\u0275cmp=Qn({type:Fi,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(on("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),rc("width",t.diameter,"px")("height",t.diameter,"px"),Js("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[Te],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(Wp(),ke(0,"svg",0,1),li(2,Vae,1,11,"circle",2),li(3,Bae,1,9,"circle",3),Re()),2&e&&(rc("width",t.diameter,"px")("height",t.diameter,"px"),Xt("ngSwitch","indeterminate"===t.mode),on("viewBox",t._getViewBox()),It(2),Xt("ngSwitchCase",!0),It(1),Xt("ngSwitchCase",!1))},directives:[nm,QV],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Wae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({imports:[[Oi,CC],Oi]}),n})();class LI{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class ih extends LI{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class VI extends LI{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Gae extends LI{constructor(e){super(),this.element=e instanceof ht?e.nativeElement:e}}class Qm{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof ih?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof VI?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Gae?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qae extends Qm{constructor(e,t,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Oe.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Ym=(()=>{class n extends Qm{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Ze,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),o=r.createComponent(s,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(b(eo),b(zr),b(De))},n.\u0275dir=W({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Te]}),n})(),BI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({}),n})();const WU=Cie();class Kae{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=$t(-this._previousScrollPosition.left),e.style.top=$t(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),WU&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),WU&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Qae{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class GU{enable(){}disable(){}attach(){}}function UI(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function qU(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Yae{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();UI(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Xae=(()=>{class n{constructor(t,r,i,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new GU,this.close=o=>new Qae(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Kae(this._viewportRuler,this._document),this.reposition=o=>new Yae(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(E(Fae),E(OI),E(ae),E(De))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jI{constructor(e){if(this.scrollStrategy=new GU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Zae{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class Jae{constructor(e,t,r,i,s,o,a,l,c){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Ie,this._attachments=new Ie,this._detachments=new Ie,this._locationChanges=wn.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new Ie,this._outsidePointerEvents=new Ie,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ln(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=$t(this._config.width),e.height=$t(this._config.height),e.minWidth=$t(this._config.minWidth),e.minHeight=$t(this._config.minHeight),e.maxWidth=$t(this._config.maxWidth),e.maxHeight=$t(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=ym(t||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(wm(Rp(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let $I=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||sI()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<i.length;s++)i[s].remove()}const r=this._document.createElement("div");r.classList.add(t),sI()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(E(De),E(Sr))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const KU="cdk-overlay-connected-position-bounding-box",ele=/([A-Za-z%]+)$/;class tle{constructor(e,t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ie,this._resizeSubscription=wn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(KU),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,i,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?s.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ba(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(KU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,s;if("center"==r.originX)i=e.left+e.width/2;else{const o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i="start"==r.originX?o:a}return t.left<0&&(i-=t.left),s="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:i,y:s}}_getOverlayPoint(e,t,r){let i,s;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,t,r,i){const s=YU(t);let{x:o,y:a}=e,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,0-o,o+s.width-r.width),g=this._subtractOverflows(s.height,h,f),m=p*g;return{visibleArea:m,isCompletelyWithinViewport:s.width*s.height===m,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,s=r.right-t.x,o=QU(this._overlayRef.getConfig().minHeight),a=QU(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportHorizontally||null!=a&&a<=s;return(e.fitsInViewportVertically||null!=o&&o<=i)&&c}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=YU(t),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),l=Math.max(s.top-r.top-e.y,0),c=Math.max(s.left-r.left-e.x,0);let u=0,d=0;return u=i.width<=s.width?c||-o:e.x<this._viewportMargin?s.left-r.left-e.x:0,d=i.height<=s.height?l||-a:e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Zae(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let s,o,a,u,d,h;if("top"===t.overlayY)o=e.y,s=r.height-o+this._viewportMargin;else if("bottom"===t.overlayY)a=r.height-e.y+2*this._viewportMargin,s=r.height-a+this._viewportMargin;else{const f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=2*f,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)d=e.x,u=r.right-e.x;else{const f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=$t(r.height),i.top=$t(r.top),i.bottom=$t(r.bottom),i.width=$t(r.width),i.left=$t(r.left),i.right=$t(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(i.maxHeight=$t(s)),o&&(i.maxWidth=$t(o))}this._lastBoundingBoxSize=r,ba(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ba(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ba(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();ba(r,this._getExactOverlayY(t,e,u)),ba(r,this._getExactOverlayX(t,e,u))}else r.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=$t(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=$t(o.maxWidth):s&&(r.maxWidth="")),ba(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":i.top=$t(s.y),i}_getExactOverlayX(e,t,r){let o,i={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),o=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===o?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=$t(s.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:qU(e,r),isOriginOutsideView:UI(e,r),isOverlayClipped:qU(t,r),isOverlayOutsideView:UI(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&ym(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof ht)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function ba(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function QU(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(ele);return t&&"px"!==t?null:parseFloat(e)}return n||null}function YU(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const XU="cdk-global-overlay-wrapper";class nle{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(XU),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a);e.position=this._cssPosition,e.marginLeft=l?"0":this._leftOffset,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,l?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(XU),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let rle=(()=>{class n{constructor(t,r,i,s){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=s}global(){return new nle}flexibleConnectedTo(t){return new tle(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(E(OI),E(De),E(Sr),E($I))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZU=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(E(De))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ile=(()=>{class n extends ZU{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(E(De),E(ae,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sle=(()=>{class n extends ZU{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ma(s)},this._clickListener=s=>{const o=ma(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(E(De),E(Sr),E(ae,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ole=0,vc=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d,h){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),s=this._createPortalOutlet(i),o=new jI(t);return o.direction=o.direction||this._directionality.value,new Jae(s,r,i,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+ole++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Od)),new qae(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(E(Xae),E($I),E(eo),E(rle),E(ile),E(Oe),E(ae),E(De),E(oI),E(Ld),E(sle))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const cle={provide:new V("cdk-connected-overlay-scroll-strategy"),deps:[vc],useFactory:function lle(n){return()=>n.scrollStrategies.reposition()}};let JU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({providers:[vc,cle],imports:[[Qd,BI,HU],HU]}),n})();const ule=["mat-button",""],dle=["*"],fle=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],ple=PU(sae(oae(class{constructor(n){this._elementRef=n}})));let ej=(()=>{class n extends ple{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of fle)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(b(ht),b(VB),b(yc,8))},n.\u0275cmp=Qn({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&Fg(LU,5),2&t){let i;lc(i=cc())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(on("disabled",r.disabled||null),Js("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Te],attrs:ule,ngContentSelectors:dle,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(function sF(n){const e=D()[16][6];if(!e.projection){const r=e.projection=td(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?eX(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),ke(0,"span",0),function oF(n,e=0,t){const r=D(),i=Ae(),s=Ul(i,20+n,16,null,t||null);null===s.projection&&(s.projection=e),Kw(),64!=(64&s.flags)&&function mK(n,e,t){vO(e[11],0,e,t,uO(n,t,e),pO(t.parent||e[6],t,e))}(i,r,s)}(1),Re(),an(2,"span",1)(3,"span",2)),2&t&&(It(2),Js("mat-button-ripple-round",r.isRoundButton||r.isIconButton),Xt("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[LU],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),tj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({imports:[[pae,Oi],Oi]}),n})();function nj(...n){const e=$u(n),t=YP(n),{args:r,keys:i}=p2(n);if(0===r.length)return bn([],e);const s=new Fe(function gle(n,e,t=$s){return r=>{rj(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)rj(e,()=>{const c=bn(n[l],e);let u=!1;c.subscribe(Qe(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>g2(i,o):$s));return t?s.pipe(MC(t)):s}function rj(n,e,t){n?ns(t,n,e):e()}function wc(...n){return function mle(){return ju(1)}()(bn(n,$u(n)))}function Xm(...n){const e=$u(n);return rt((t,r)=>{(e?wc(n,t,e):wc(n,t)).subscribe(r)})}const ij=new Set;let bc,yle=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):wle}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function vle(n){if(!ij.has(n))try{bc||(bc=document.createElement("style"),bc.setAttribute("type","text/css"),document.head.appendChild(bc)),bc.sheet&&(bc.sheet.insertRule(`@media ${n} {body{ }}`,0),ij.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(E(Sr))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wle(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let sj=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ie}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return oj(ym(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=nj(oj(ym(t)).map(o=>this._registerQuery(o).observable));return s=wc(s.pipe(ln(1)),s.pipe(SB(1),function _le(n,e=rh){return rt((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const c=s;s=null,r.next(c)}};function l(){const c=o+n,u=e.now();if(u<c)return i=this.schedule(void 0,c-u),void r.add(i);a()}t.subscribe(Qe(r,c=>{s=c,o=e.now(),i||(i=e.schedule(l,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(me(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new Fe(o=>{const a=l=>this._zone.run(()=>o.next(l));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Xm(r),me(({matches:o})=>({query:t,matches:o})),wm(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(E(yle),E(ae))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oj(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Ele(n,e){if(1&n){const t=Ig();ke(0,"div",2)(1,"button",3),st("click",function(){return Sl(t),ci().action()}),hr(2),Re()()}if(2&n){const t=ci();It(2),Ed(t.data.action)}}function Cle(n,e){}const aj=new V("MatSnackBarData");class Zm{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Ile=Math.pow(2,31)-1;class zI{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Ie,this._afterOpened=new Ie,this._onAction=new Ie,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Ile))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Tle=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(b(zI),b(aj))},n.\u0275cmp=Qn({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(ke(0,"span",0),hr(1),Re(),li(2,Ele,3,1,"div",1)),2&t&&(It(1),Ed(r.data.message),It(1),Xt("ngIf",r.hasAction))},directives:[ej,Jg],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const Dle={snackBarState:$B("state",[Cm("void, hidden",ms({transform:"scale(0.8)",opacity:0})),Cm("visible",ms({transform:"scale(1)",opacity:1})),Im("* => visible",Em("150ms cubic-bezier(0, 0, 0.2, 1)")),Im("* => void, * => hidden",Em("75ms cubic-bezier(0.4, 0.0, 1, 1)",ms({opacity:0})))])};let Sle=(()=>{class n extends Qm{constructor(t,r,i,s,o){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=s,this.snackBarConfig=o,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ie,this._onExit=new Ie,this._onEnter=new Ie,this._animationState="void",this.attachDomPortal=a=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(a)),this._live="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(ln(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),null==i||i.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(b(ae),b(ht),b(ua),b(Sr),b(Zm))},n.\u0275cmp=Qn({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&Fg(Ym,7),2&t){let i;lc(i=cc())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&Tg("@state.done",function(s){return r.onAnimationEnd(s)}),2&t&&Ag("@state",r._animationState)},features:[Te],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(ke(0,"div",0),li(1,Cle,0,0,"ng-template",1),Re(),an(2,"div")),2&t&&(It(2),on("aria-live",r._live)("role",r._role))},directives:[Ym],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[Dle.snackBarState]}}),n})(),lj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({imports:[[JU,BI,CC,tj,Oi],Oi]}),n})();const cj=new V("mat-snack-bar-default-options",{providedIn:"root",factory:function Ale(){return new Zm}});let xle=(()=>{class n{constructor(t,r,i,s,o,a){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=s,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const s=Object.assign(Object.assign({},this._defaultConfig),i);return s.data={message:t,action:r},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const s=Oe.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:Zm,useValue:r}]}),o=new ih(this.snackBarContainerComponent,r.viewContainerRef,s),a=t.attach(o);return a.instance.snackBarConfig=r,a.instance}_attach(t,r){const i=Object.assign(Object.assign(Object.assign({},new Zm),this._defaultConfig),r),s=this._createOverlay(i),o=this._attachSnackBarContainer(s,i),a=new zI(o,s);if(t instanceof hi){const l=new VI(t,null,{$implicit:i.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{const l=this._createInjector(i,a),c=new ih(t,void 0,l),u=o.attachComponentPortal(c);a.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(wm(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),i.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(a,i),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new jI;r.direction=t.direction;let i=this._overlay.position().global();const s="rtl"===t.direction,o="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,a=!o&&"center"!==t.horizontalPosition;return o?i.left("0"):a?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return Oe.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:zI,useValue:r},{provide:aj,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(E(vc),E(LB),E(Oe),E(sj),E(n,12),E(cj))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),uj=(()=>{class n extends xle{constructor(t,r,i,s,o,a){super(t,r,i,s,o,a),this.simpleSnackBarComponent=Tle,this.snackBarContainerComponent=Sle,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(E(vc),E(LB),E(Oe),E(sj),E(n,12),E(cj))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:lj}),n})();function sh(n){return new Fe(e=>{rn(n()).subscribe(e)})}function Mle(n,e){}class HI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const kle={dialogContainer:$B("dialogContainer",[Cm("void, exit",ms({opacity:0,transform:"scale(0.7)"})),Cm("enter",ms({transform:"none"})),Im("* => enter",zB([Em("150ms cubic-bezier(0, 0, 0.2, 1)",ms({transform:"none",opacity:1})),GB("@*",WB(),{optional:!0})])),Im("* => void, * => exit",zB([Em("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ms({opacity:0})),GB("@*",WB(),{optional:!0})]))])};let Rle=(()=>{class n extends Qm{constructor(t,r,i,s,o,a,l,c){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=o,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new Ze,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=iI())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=iI(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=iI();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(b(ht),b(Yie),b(ua),b(De,8),b(HI),b(kB),b(ae),b(VB))},n.\u0275dir=W({type:n,viewQuery:function(t,r){if(1&t&&Fg(Ym,7),2&t){let i;lc(i=cc())&&(r._portalOutlet=i.first)}},features:[Te]}),n})(),Ple=(()=>{class n extends Rle{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=In(n)))(r||n)}}(),n.\u0275cmp=Qn({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&Tg("@dialogContainer.start",function(s){return r._onAnimationStart(s)})("@dialogContainer.done",function(s){return r._onAnimationDone(s)}),2&t&&(Sg("id",r._id),on("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Ag("@dialogContainer",r._state))},features:[Te],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&li(0,Mle,0,0,"ng-template",0)},directives:[Ym],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[kle.dialogContainer]}}),n})(),Nle=0;class WI{constructor(e,t,r="mat-dialog-"+Nle++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ie,this._afterClosed=new Ie,this._beforeClosed=new Ie,this._state=0,t._id=r,t._animationStateChanged.pipe(zt(i=>"opened"===i.state),ln(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(zt(i=>"closed"===i.state),ln(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(zt(i=>27===i.keyCode&&!this.disableClose&&!function Oie(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),GI(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():GI(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(zt(t=>"closing"===t.state),ln(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function GI(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const Ole=new V("MatDialogData"),Fle=new V("mat-dialog-default-options"),dj=new V("mat-dialog-scroll-strategy"),Vle={provide:dj,deps:[vc],useFactory:function Lle(n){return()=>n.scrollStrategies.block()}};let Ble=(()=>{class n{constructor(t,r,i,s,o,a,l,c,u,d){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=s,this._overlayContainer=o,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ie,this._afterOpenedAtThisLevel=new Ie,this._ariaHiddenElements=new Map,this.afterAllClosed=sh(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Xm(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){r=function Ule(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new HI),r.id&&this.getDialogById(r.id);const i=this._createOverlay(r),s=this._attachDialogContainer(i,r),o=this._attachDialogContent(t,s,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(o),o.afterClosed().subscribe(()=>this._removeOpenDialog(o)),this.afterOpened.next(o),s._initializeWithAttachedContent(),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new jI({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const s=Oe.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:HI,useValue:r}]}),o=new ih(this._dialogContainerType,r.viewContainerRef,s,r.componentFactoryResolver);return t.attach(o).instance}_attachDialogContent(t,r,i,s){const o=new this._dialogRefConstructor(i,r,s.id);if(t instanceof hi)r.attachTemplatePortal(new VI(t,null,{$implicit:s.data,dialogRef:o}));else{const a=this._createInjector(s,o,r),l=r.attachComponentPortal(new ih(t,s.viewContainerRef,a,s.componentFactoryResolver));o.componentInstance=l.instance}return o.updateSize(s.width,s.height).updatePosition(s.position),o}_createInjector(t,r,i){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!s||!s.get(oI,null,ee.Optional))&&o.push({provide:oI,useValue:{value:t.direction,change:Q()}}),Oe.create({parent:s||this._injector,providers:o})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,s)=>{i?s.setAttribute("aria-hidden",i):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let s=r[i];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){Cg()},n.\u0275dir=W({type:n}),n})(),Jm=(()=>{class n extends Ble{constructor(t,r,i,s,o,a,l,c){super(t,r,s,a,l,o,WI,Ple,Ole,c)}}return n.\u0275fac=function(t){return new(t||n)(E(vc),E(Oe),E(Ld,8),E(Fle,8),E(dj),E(n,12),E($I),E(yc,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),jle=0,$le=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=hj(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){GI(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(b(WI,8),b(ht),b(Jm))},n.\u0275dir=W({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&st("click",function(s){return r._onButtonClick(s)}),2&t&&on("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[dr]}),n})(),zle=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+jle++}ngOnInit(){this._dialogRef||(this._dialogRef=hj(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(b(WI,8),b(ht),b(Jm))},n.\u0275dir=W({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&Sg("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),Hle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=W({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function hj(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let Wle=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({providers:[Jm,Vle],imports:[[JU,BI,Oi],Oi]}),n})();function oh(n,e){const t=ne(n)?n:()=>n,r=i=>i.error(t());return new Fe(e?i=>e.schedule(r,0,i):r)}const e_=nn(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function fj(){return rt((n,e)=>{let t=null;n._refCount++;const r=Qe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class pj extends Fe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,NP(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wn;const t=this.getSubject();e.add(this.source.subscribe(Qe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wn.EMPTY)}return e}refCount(){return fj()(this)}}function Mr(n,e){return rt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Qe(r,l=>{null==i||i.unsubscribe();let c=0;const u=s++;rn(n(l,u)).subscribe(i=Qe(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Gle(n,e,t,r,i){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Qe(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function gj(n,e){return rt(Gle(n,e,arguments.length>=2,!0))}function lo(n){return rt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Qe(t,void 0,void 0,o=>{s=rn(n(o,lo(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function ah(n,e){return ne(e)?kt(n,e,1):kt(n,1)}function qI(n){return n<=0?()=>rs:rt((e,t)=>{let r=[];e.subscribe(Qe(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function mj(n=qle){return rt((e,t)=>{let r=!1;e.subscribe(Qe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function qle(){return new e_}function _j(n){return rt((e,t)=>{let r=!1;e.subscribe(Qe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ec(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zt((i,s)=>n(i,s,r)):$s,ln(1),t?_j(e):mj(()=>new e_))}function rr(n,e,t){const r=ne(n)||e||t?{next:n,error:e,complete:t}:n;return r?rt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Qe(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):$s}class _s{constructor(e,t){this.id=e,this.url=t}}class KI extends _s{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lh extends _s{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yj extends _s{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yle extends _s{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xle extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zle extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jle extends _s{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ece extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tce extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vj{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wj{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nce{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rce{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ice{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bj{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ej{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ye="primary";class sce{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cc(n){return new sce(n)}const Cj="ngNavigationCancelingError";function QI(n){const e=Error("NavigationCancelingError: "+n);return e[Cj]=!0,e}function ace(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Li(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Ij(n[i],e[i]))return!1;return!0}function Ij(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function Tj(n){return Array.prototype.concat.apply([],n)}function Dj(n){return n.length>0?n[n.length-1]:null}function Tn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Vi(n){return yE(n)?n:wd(n)?bn(Promise.resolve(n)):Q(n)}const uce={exact:function xj(n,e,t){if(!Ca(n.segments,e.segments)||!t_(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!xj(n.children[r],e.children[r],t))return!1;return!0},subset:Mj},Sj={exact:function dce(n,e){return Li(n,e)},subset:function hce(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ij(n[t],e[t]))},ignored:()=>!0};function Aj(n,e,t){return uce[t.paths](n.root,e.root,t.matrixParams)&&Sj[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Mj(n,e,t){return kj(n,e,e.segments,t)}function kj(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ca(i,t)||e.hasChildren()||!t_(i,t,r))}if(n.segments.length===t.length){if(!Ca(n.segments,t)||!t_(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Mj(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ca(n.segments,i)&&t_(n.segments,i,r)&&n.children[ye])&&kj(n.children[ye],e,s,r)}}function t_(n,e,t){return e.every((r,i)=>Sj[t](n[i].parameters,r.parameters))}class Ea{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cc(this.queryParams)),this._queryParamMap}toString(){return gce.serialize(this)}}class Ee{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Tn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return n_(this)}}class ch{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Cc(this.parameters)),this._parameterMap}toString(){return Fj(this)}}function Ca(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Rj{}class Pj{parse(e){const t=new Ice(e);return new Ea(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${uh(e.root,!0)}`,r=function yce(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${r_(t)}=${r_(i)}`).join("&"):`${r_(t)}=${r_(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function mce(n){return encodeURI(n)}(e.fragment)}`:""}`}}const gce=new Pj;function n_(n){return n.segments.map(e=>Fj(e)).join("/")}function uh(n,e){if(!n.hasChildren())return n_(n);if(e){const t=n.children[ye]?uh(n.children[ye],!1):"",r=[];return Tn(n.children,(i,s)=>{s!==ye&&r.push(`${s}:${uh(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function pce(n,e){let t=[];return Tn(n.children,(r,i)=>{i===ye&&(t=t.concat(e(r,i)))}),Tn(n.children,(r,i)=>{i!==ye&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ye?[uh(n.children[ye],!1)]:[`${i}:${uh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ye]?`${n_(n)}/${t[0]}`:`${n_(n)}/(${t.join("//")})`}}function Nj(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function r_(n){return Nj(n).replace(/%3B/gi,";")}function YI(n){return Nj(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function i_(n){return decodeURIComponent(n)}function Oj(n){return i_(n.replace(/\+/g,"%20"))}function Fj(n){return`${YI(n.path)}${function _ce(n){return Object.keys(n).map(e=>`;${YI(e)}=${YI(n[e])}`).join("")}(n.parameters)}`}const vce=/^[^\/()?;=#]+/;function s_(n){const e=n.match(vce);return e?e[0]:""}const wce=/^[^=?&#]+/,Ece=/^[^&#]+/;class Ice{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ye]=new Ee(e,t)),r}parseSegment(){const e=s_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ch(i_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=s_(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=s_(this.remaining);i&&(r=i,this.capture(r))}e[i_(t)]=i_(r)}parseQueryParam(e){const t=function bce(n){const e=n.match(wce);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function Cce(n){const e=n.match(Ece);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Oj(t),s=Oj(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=s_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ye);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[ye]:new Ee([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Lj{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=XI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=XI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ZI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ZI(e,this._root).map(t=>t.value)}}function XI(n,e){if(n===e.value)return e;for(const t of e.children){const r=XI(n,t);if(r)return r}return null}function ZI(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ZI(n,t);if(r.length)return r.unshift(e),r}return[]}class ys{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ic(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Vj extends Lj{constructor(e,t){super(e),this.snapshot=t,JI(this,e)}toString(){return this.snapshot.toString()}}function Bj(n,e){const t=function Tce(n,e){const o=new o_([],{},{},"",{},ye,e,null,n.root,-1,{});return new jj("",new ys(o,[]))}(n,e),r=new Gr([new ch("",{})]),i=new Gr({}),s=new Gr({}),o=new Gr({}),a=new Gr(""),l=new Tc(r,i,o,a,s,ye,e,t.root);return l.snapshot=t.root,new Vj(new ys(l,[]),t)}class Tc{constructor(e,t,r,i,s,o,a,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(e=>Cc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(e=>Cc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Uj(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Dce(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class o_{constructor(e,t,r,i,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jj extends Lj{constructor(e,t){super(t),this.url=e,JI(this,t)}toString(){return $j(this._root)}}function JI(n,e){e.value._routerState=n,e.children.forEach(t=>JI(n,t))}function $j(n){const e=n.children.length>0?` { ${n.children.map($j).join(", ")} } `:"";return`${n.value}${e}`}function e0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Li(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Li(e.params,t.params)||n.params.next(t.params),function lce(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Li(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Li(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function t0(n,e){const t=Li(n.params,e.params)&&function fce(n,e){return Ca(n,e)&&n.every((t,r)=>Li(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||t0(n.parent,e.parent))}function dh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Ace(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return dh(n,r,i);return dh(n,r)})}(n,e,t);return new ys(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>dh(n,a)),o}}const r=function xce(n){return new Tc(new Gr(n.url),new Gr(n.params),new Gr(n.queryParams),new Gr(n.fragment),new Gr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>dh(n,s));return new ys(r,i)}}function a_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hh(n){return"object"==typeof n&&null!=n&&n.outlets}function n0(n,e,t,r,i){let s={};if(r&&Tn(r,(a,l)=>{s[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===e)return new Ea(t,s,i);const o=zj(n,e,t);return new Ea(o,s,i)}function zj(n,e,t){const r={};return Tn(n.children,(i,s)=>{r[s]=i===e?t:zj(i,e,t)}),new Ee(n.segments,r)}class Hj{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&a_(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(hh);if(i&&i!==Dj(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class r0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Wj(n,e,t){if(n||(n=new Ee([],{})),0===n.segments.length&&n.hasChildren())return l_(n,e,t);const r=function Oce(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(hh(a))break;const l=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!qj(l,c,o))return s;r+=2}else{if(!qj(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Ee(n.segments.slice(0,r.pathIndex),{});return s.children[ye]=new Ee(n.segments.slice(r.pathIndex),n.children),l_(s,0,i)}return r.match&&0===i.length?new Ee(n.segments,{}):r.match&&!n.hasChildren()?s0(n,e,t):r.match?l_(n,0,i):s0(n,e,t)}function l_(n,e,t){if(0===t.length)return new Ee(n.segments,{});{const r=function Nce(n){return hh(n[0])?n[0].outlets:{[ye]:n}}(t),i={};return Tn(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Wj(n.children[o],e,s))}),Tn(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Ee(n.segments,i)}}function s0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(hh(s)){const l=Fce(s.outlets);return new Ee(r,l)}if(0===i&&a_(t[0])){r.push(new ch(n.segments[e].path,Gj(t[0]))),i++;continue}const o=hh(s)?s.outlets[ye]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&a_(a)?(r.push(new ch(o,Gj(a))),i+=2):(r.push(new ch(o,{})),i++)}return new Ee(r,{})}function Fce(n){const e={};return Tn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=s0(new Ee([],{}),0,t))}),e}function Gj(n){const e={};return Tn(n,(t,r)=>e[r]=`${t}`),e}function qj(n,e,t){return n==t.path&&Li(e,t.parameters)}class Vce{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),e0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ic(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Tn(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ic(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Ic(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ic(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new bj(s.value.snapshot))}),e.children.length&&this.forwardEvent(new rce(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(e0(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),e0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function Bce(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class o0{constructor(e,t){this.routes=e,this.module=t}}function co(n){return"function"==typeof n}function Ia(n){return n instanceof Ea}const fh=Symbol("INITIAL_VALUE");function ph(){return Mr(n=>nj(n.map(e=>e.pipe(ln(1),Xm(fh)))).pipe(gj((e,t)=>{let r=!1;return t.reduce((i,s,o)=>i!==fh?i:(s===fh&&(r=!0),r||!1!==s&&o!==t.length-1&&!Ia(s)?i:s),e)},fh),zt(e=>e!==fh),me(e=>Ia(e)?e:!0===e),ln(1)))}class Wce{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new gh,this.attachRef=null}}class gh{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Wce,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let a0=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ze,this.deactivateEvents=new Ze,this.attachEvents=new Ze,this.detachEvents=new Ze,this.name=s||ye,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new Gce(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(b(gh),b(zr),b(eo),Zu("name"),b(ua))},n.\u0275dir=W({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Gce{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Tc?this.route:e===gh?this.childContexts:this.parent.get(e,t)}}let l0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&an(0,"router-outlet")},directives:[a0],encapsulation:2}),n})();function Kj(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];qce(r,Kce(e,r))}}function qce(n,e){n.children&&Kj(n.children,e)}function Kce(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function c0(n){const e=n.children&&n.children.map(c0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ye&&(t.component=l0),t}function Qr(n){return n.outlet||ye}function Qj(n,e){const t=n.filter(r=>Qr(r)===e);return t.push(...n.filter(r=>Qr(r)!==e)),t}const Yj={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function c_(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Yj):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||ace)(t,n,e);if(!s)return Object.assign({},Yj);const o={};Tn(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function u_(n,e,t,r,i="corrected"){if(t.length>0&&function Xce(n,e,t){return t.some(r=>d_(n,e,r)&&Qr(r)!==ye)}(n,t,r)){const o=new Ee(e,function Yce(n,e,t,r){const i={};i[ye]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Qr(s)!==ye){const o=new Ee([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[Qr(s)]=o}return i}(n,e,r,new Ee(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function Zce(n,e,t){return t.some(r=>d_(n,e,r))}(n,t,r)){const o=new Ee(n.segments,function Qce(n,e,t,r,i,s){const o={};for(const a of r)if(d_(n,t,a)&&!i[Qr(a)]){const l=new Ee([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[Qr(a)]=l}return Object.assign(Object.assign({},i),o)}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Ee(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function d_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Xj(n,e,t,r){return!!(Qr(n)===r||r!==ye&&d_(e,t,n))&&("**"===n.path||c_(e,n,t).matched)}function Zj(n,e,t){return 0===e.length&&!n.children[t]}class h_{constructor(e){this.segmentGroup=e||null}}class Jj{constructor(e){this.urlTree=e}}function mh(n){return oh(new h_(n))}function e$(n){return oh(new Jj(n))}class nue{constructor(e,t,r,i,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(ds)}apply(){const e=u_(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ee(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ye).pipe(me(s=>this.createUrlTree(u0(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(lo(s=>{if(s instanceof Jj)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof h_?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ye).pipe(me(i=>this.createUrlTree(u0(i),e.queryParams,e.fragment))).pipe(lo(i=>{throw i instanceof h_?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Ee([],{[ye]:e}):e;return new Ea(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(me(s=>new Ee([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return bn(i).pipe(ah(s=>{const o=r.children[s],a=Qj(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(me(l=>({segment:l,outlet:s})))}),gj((s,o)=>(s[o.outlet]=o.segment,s),{}),function Kle(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zt((i,s)=>n(i,s,r)):$s,qI(1),t?_j(e):mj(()=>new e_))}())}expandSegment(e,t,r,i,s,o){return bn(r).pipe(ah(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(lo(c=>{if(c instanceof h_)return Q(null);throw c}))),Ec(a=>!!a),lo((a,l)=>{if(a instanceof e_||"EmptyError"===a.name)return Zj(t,i,s)?Q(new Ee([],{})):mh(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return Xj(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):mh(t):mh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?e$(s):this.lineralizeSegments(r,s).pipe(kt(o=>{const a=new Ee(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=c_(t,i,s);if(!a)return mh(t);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?e$(d):this.lineralizeSegments(i,d).pipe(kt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Q(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(me(d=>(r._loadedConfig=d,new Ee(i,{})))):Q(new Ee(i,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=c_(t,r,i);return o?this.getChildConfig(e,r,i).pipe(kt(u=>{const d=u.module,h=u.routes,{segmentGroup:f,slicedSegments:p}=u_(t,a,l,h),g=new Ee(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(me(I=>new Ee(a,I)));if(0===h.length&&0===p.length)return Q(new Ee(a,{}));const m=Qr(r)===s;return this.expandSegment(d,g,h,p,m?ye:s,!0).pipe(me(y=>new Ee(a.concat(y.segments),y.children)))})):mh(t)}getChildConfig(e,t,r){return t.children?Q(new o0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Q(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe(kt(i=>i?this.configLoader.load(e.injector,t).pipe(me(s=>(t._loadedConfig=s,s))):function eue(n){return oh(QI(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Q(new o0([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Q(i.map(o=>{const a=e.get(o);let l;if(function jce(n){return n&&co(n.canLoad)}(a))l=a.canLoad(t,r);else{if(!co(a))throw new Error("Invalid CanLoad guard");l=a(t,r)}return Vi(l)})).pipe(ph(),rr(o=>{if(!Ia(o))return;const a=QI(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),me(o=>!0===o)):Q(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[ye])return oh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[ye]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Ea(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Tn(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Tn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new Ee(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function u0(n){const e={};for(const r of Object.keys(n.children)){const s=u0(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function rue(n){if(1===n.numberOfChildren&&n.children[ye]){const e=n.children[ye];return new Ee(n.segments.concat(e.segments),e.children)}return n}(new Ee(n.segments,e))}class t${constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class f_{constructor(e,t){this.component=e,this.route=t}}function sue(n,e,t){const r=n._root;return _h(r,e?e._root:null,t,[r.value])}function p_(n,e,t){const r=function aue(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function _h(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ic(e);return n.children.forEach(o=>{(function lue(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function cue(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ca(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ca(n.url,e.url)||!Li(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!t0(n,e)||!Li(n.queryParams,e.queryParams);default:return!t0(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new t$(r)):(s.data=o.data,s._resolvedData=o._resolvedData),_h(n,e,s.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new f_(a.outlet.component,o))}else o&&yh(e,a,i),i.canActivateChecks.push(new t$(r)),_h(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Tn(s,(o,a)=>yh(o,t.getContext(a),i)),i}function yh(n,e,t){const r=Ic(n),i=n.value;Tn(r,(s,o)=>{yh(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new f_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class yue{}function n$(n){return new Fe(e=>e.error(n))}class wue{constructor(e,t,r,i,s,o){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=u_(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ye);if(null===t)return null;const r=new o_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ye,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ys(r,t),s=new jj(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=Uj(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=Qj(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=r$(r);return function bue(n){n.sort((e,t)=>e.value.outlet===ye?-1:t.value.outlet===ye?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,r,i);if(null!==o)return o}return Zj(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Xj(e,t,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?Dj(r).parameters:{};s=new o_(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,o$(e),Qr(e),e.component,e,i$(t),s$(t)+r.length,a$(e))}else{const f=c_(t,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new o_(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,o$(e),Qr(e),e.component,e,i$(t),s$(t)+o.length,a$(e))}const l=function Eue(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=u_(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new ys(s,f)]}if(0===l.length&&0===u.length)return[new ys(s,[])];const d=Qr(e)===i,h=this.processSegment(l,c,u,d?ye:i);return null===h?null:[new ys(s,h)]}}function Cue(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function r$(n){const e=[],t=new Set;for(const r of n){if(!Cue(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=r$(r.children);e.push(new ys(r.value,i))}return e.filter(r=>!t.has(r))}function i$(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function s$(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function o$(n){return n.data||{}}function a$(n){return n.resolve||{}}function l$(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function d0(n){return Mr(e=>{const t=n(e);return t?bn(t).pipe(me(()=>e)):Q(e)})}class kue extends class Mue{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const h0=new V("ROUTES");class c${constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe(me(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new o0(Tj(o.injector.get(h0,void 0,ee.Self|ee.Optional)).map(c0),o)}),lo(s=>{throw t._loader$=void 0,s}));return t._loader$=new pj(i,()=>new Ie).pipe(fj()),t._loader$}loadModuleFactory(e){return Vi(e()).pipe(kt(t=>t instanceof CL?Q(t):bn(this.compiler.compileModuleAsync(t))))}}class Pue{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Nue(n){throw n}function Oue(n,e,t){return e.parse("/")}function u$(n,e){return Q(null)}const Fue={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lue={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Un=(()=>{class n{constructor(t,r,i,s,o,a,l){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ie,this.errorHandler=Nue,this.malformedUriErrorHandler=Oue,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:u$,afterPreactivation:u$},this.urlHandlingStrategy=new Pue,this.routeReuseStrategy=new kue,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(ds),this.console=o.get(WJ);const d=o.get(ae);this.isNgZoneEnabled=d instanceof ae&&ae.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function cce(){return new Ea(new Ee([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new c$(o,a,h=>this.triggerEvent(new vj(h)),h=>this.triggerEvent(new wj(h))),this.routerState=Bj(this.currentUrlTree,this.rootComponentType),this.transitions=new Gr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(zt(i=>0!==i.id),me(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Mr(i=>{let s=!1,o=!1;return Q(i).pipe(rr(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Mr(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return d$(a.source)&&(this.browserUrlTree=a.extractedUrl),Q(a).pipe(Mr(d=>{const h=this.transitions.getValue();return r.next(new KI(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?rs:Promise.resolve(d)}),function iue(n,e,t,r){return Mr(i=>function tue(n,e,t,r,i){return new nue(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(me(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),rr(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function Iue(n,e,t,r,i){return kt(s=>function vue(n,e,t,r,i="emptyOnly",s="legacy"){try{const o=new wue(n,e,t,r,i,s).recognize();return null===o?n$(new yue):Q(o)}catch(o){return n$(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,i).pipe(me(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),rr(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new Xle(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,v=new KI(h,this.serializeUrl(f),p,g);r.next(v);const y=Bj(f,this.rootComponentType).snapshot;return Q(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},m),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),rs}),d0(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),rr(a=>{const l=new Zle(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),me(a=>Object.assign(Object.assign({},a),{guards:sue(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function uue(n,e){return kt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Q(Object.assign(Object.assign({},t),{guardsResult:!0})):function due(n,e,t,r){return bn(n).pipe(kt(i=>function _ue(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Q(s.map(a=>{const l=p_(a,e,i);let c;if(function Hce(n){return n&&co(n.canDeactivate)}(l))c=Vi(l.canDeactivate(n,e,t,r));else{if(!co(l))throw new Error("Invalid CanDeactivate guard");c=Vi(l(n,e,t,r))}return c.pipe(Ec())})).pipe(ph()):Q(!0)}(i.component,i.route,t,e,r)),Ec(i=>!0!==i,!0))}(o,r,i,n).pipe(kt(a=>a&&function Uce(n){return"boolean"==typeof n}(a)?function hue(n,e,t,r){return bn(e).pipe(ah(i=>wc(function pue(n,e){return null!==n&&e&&e(new nce(n)),Q(!0)}(i.route.parent,r),function fue(n,e){return null!==n&&e&&e(new ice(n)),Q(!0)}(i.route,r),function mue(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function oue(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>sh(()=>Q(o.guards.map(l=>{const c=p_(l,o.node,t);let u;if(function zce(n){return n&&co(n.canActivateChild)}(c))u=Vi(c.canActivateChild(r,n));else{if(!co(c))throw new Error("Invalid CanActivateChild guard");u=Vi(c(r,n))}return u.pipe(Ec())})).pipe(ph())));return Q(s).pipe(ph())}(n,i.path,t),function gue(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(s=>sh(()=>{const o=p_(s,e,t);let a;if(function $ce(n){return n&&co(n.canActivate)}(o))a=Vi(o.canActivate(e,n));else{if(!co(o))throw new Error("Invalid CanActivate guard");a=Vi(o(e,n))}return a.pipe(Ec())}));return Q(i).pipe(ph())}(n,i.route,t))),Ec(i=>!0!==i,!0))}(r,s,n,e):Q(a)),me(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),rr(a=>{if(Ia(a.guardsResult)){const c=QI(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new Jle(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),zt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),d0(a=>{if(a.guards.canActivateChecks.length)return Q(a).pipe(rr(l=>{const c=new ece(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Mr(l=>{let c=!1;return Q(l).pipe(function Tue(n,e){return kt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Q(t);let s=0;return bn(i).pipe(ah(o=>function Due(n,e,t,r){return function Sue(n,e,t,r){const i=l$(n);if(0===i.length)return Q({});const s={};return bn(i).pipe(kt(o=>function Aue(n,e,t,r){const i=p_(n,e,r);return Vi(i.resolve?i.resolve(e,t):i(e,t))}(n[o],e,t,r).pipe(rr(a=>{s[o]=a}))),qI(1),kt(()=>l$(s).length===i.length?Q(s):rs))}(n._resolve,n,e,r).pipe(me(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Uj(n,t).resolve),null)))}(o.route,r,n,e)),rr(()=>s++),qI(1),kt(o=>s===i.length?Q(t):rs))})}(this.paramsInheritanceStrategy,this.ngModule.injector),rr({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),rr(l=>{const c=new tce(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),d0(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),me(a=>{const l=function Sce(n,e,t){const r=dh(n,e._root,t?t._root:void 0);return new Vj(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),rr(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>me(r=>(new Vce(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),rr({next(){s=!0},complete(){s=!0}}),function Qle(n){return rt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),lo(a=>{if(o=!0,function oce(n){return n&&n[Cj]}(a)){const l=Ia(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const c=new yj(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||d$(i.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new Yle(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return rs}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Kj(t),this.config=t.map(c0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=i||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function Mce(n,e,t,r,i){if(0===t.length)return n0(e.root,e.root,e.root,r,i);const s=function kce(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Hj(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Tn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Hj(t,e,r)}(t);if(s.toRoot())return n0(e.root,e.root,new Ee([],{}),r,i);const o=function Rce(n,e,t){if(n.isAbsolute)return new r0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new r0(s,s===e.root,0)}const r=a_(n.commands[0])?0:1;return function Pce(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new r0(r,!1,i-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?l_(o.segmentGroup,o.index,s.commands):Wj(o.segmentGroup,o.index,s.commands);return n0(e.root,o.segmentGroup,a,r,i)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ia(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Vue(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Fue):!1===r?Object.assign({},Lue):r,Ia(t))return Aj(this.currentUrlTree,t,i);const s=this.parseUrl(t);return Aj(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new lh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((p,g)=>{c=p,u=g});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new yj(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){Cg()},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();function d$(n){return"imperative"!==n}let g_=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Ie,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Dc(this.skipLocationChange),replaceUrl:Dc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Dc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(b(Un),b(Tc),Zu("tabindex"),b(us),b(ht))},n.\u0275dir=W({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&st("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[dr]}),n})(),m_=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Ie,this.subscription=t.events.subscribe(s=>{s instanceof lh&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,s,o){if(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Dc(this.skipLocationChange),replaceUrl:Dc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Dc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(b(Un),b(Tc),b(dc))},n.\u0275dir=W({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&st("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&on("target",r.target)("href",r.href,fg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[dr]}),n})();function Dc(n){return""===n||!!n}class h${}class f${preload(e,t){return Q(null)}}let p$=(()=>{class n{constructor(t,r,i,s){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=new c$(i,r,l=>t.triggerEvent(new vj(l)),l=>t.triggerEvent(new wj(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(zt(t=>t instanceof lh),ah(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(ds);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(t,s)):s.children&&i.push(this.processRoutes(t,s.children));return bn(i).pipe(ju(),me(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Q(r._loadedConfig):this.loader.load(t.injector,r)).pipe(kt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(E(Un),E(aV),E(Oe),E(h$))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),f0=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof KI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof lh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ej&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Ej(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){Cg()},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const Ta=new V("ROUTER_CONFIGURATION"),g$=new V("ROUTER_FORROOT_GUARD"),$ue=[Ld,{provide:Rj,useClass:Pj},{provide:Un,useFactory:function que(n,e,t,r,i,s,o={},a,l){const c=new Un(null,n,e,t,r,i,Tj(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function Kue(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[Rj,gh,Ld,Oe,aV,h0,Ta,[class Rue{},new it],[class xue{},new it]]},gh,{provide:Tc,useFactory:function Que(n){return n.routerState.root},deps:[Un]},p$,f$,class jue{preload(e,t){return t().pipe(lo(()=>Q(null)))}},{provide:Ta,useValue:{enableTracing:!1}}];function zue(){return new hV("Router",Un)}let m$=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[$ue,_$(t),{provide:g$,useFactory:Gue,deps:[[Un,new it,new sd]]},{provide:Ta,useValue:r||{}},{provide:dc,useFactory:Wue,deps:[ha,[new ig(aC),new it],Ta]},{provide:f0,useFactory:Hue,deps:[Un,Dne,Ta]},{provide:h$,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:f$},{provide:hV,multi:!0,useFactory:zue},[p0,{provide:Pd,multi:!0,useFactory:Yue,deps:[p0]},{provide:y$,useFactory:Xue,deps:[p0]},{provide:oV,multi:!0,useExisting:y$}]]}}static forChild(t){return{ngModule:n,providers:[_$(t)]}}}return n.\u0275fac=function(t){return new(t||n)(E(g$,8),E(Un,8))},n.\u0275mod=je({type:n}),n.\u0275inj=Le({}),n})();function Hue(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new f0(n,e,t)}function Wue(n,e,t={}){return t.useHash?new Lee(n,e):new kV(n,e)}function Gue(n){return"guarded"}function _$(n){return[{provide:C7,multi:!0,useValue:n},{provide:h0,multi:!0,useValue:n}]}let p0=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ie}appInitializer(){return this.injector.get(Nee,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Un),o=this.injector.get(Ta);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Q(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Ta),i=this.injector.get(p$),s=this.injector.get(f0),o=this.injector.get(Un),a=this.injector.get(Od);t===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(E(Oe))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();function Yue(n){return n.appInitializer.bind(n)}function Xue(n){return n.bootstrapListener.bind(n)}const y$=new V("Router Initializer");function v$(n,e,t,r,i,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(l){v$(s,r,i,o,a,"next",l)}function a(l){v$(s,r,i,o,a,"throw",l)}o(void 0)})}}const P=function(n,e){if(!n)throw Sc(e)},Sc=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},w$=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},__={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,l=i+2<n.length,c=l?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(w$(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new ede;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ede extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b$=function(n){const e=w$(n);return __.encodeByteArray(e,!0)},y_=function(n){return b$(n).replace(/\./g,"")},v_=function(n){try{return __.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function tde(n){return E$(void 0,n)}function E$(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!nde(t)||(n[t]=E$(n[t],e[t]));return n}function nde(n){return"__proto__"!==n}const w_=()=>{try{return function rde(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if("undefined"==typeof document)return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=n&&v_(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},C$=n=>{var e,t;return null===(t=null===(e=w_())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},I$=n=>{const e=C$(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},T$=()=>{var n;return null===(n=w_())||void 0===n?void 0:n.config},D$=n=>{var e;return null===(e=w_())||void 0===e?void 0:e[`_${n}`]};class Ac{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function S$(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[y_(JSON.stringify({alg:"none",type:"JWT"})),y_(JSON.stringify(o)),""].join(".")}function cn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m0(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function _0(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function A$(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Da(){try{return"object"==typeof indexedDB}catch(n){return!1}}function vh(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function y0(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Yr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bi.prototype.create)}}class Bi{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function ude(n,e){return n.replace(dde,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Yr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const dde=/\{\$([^}]+)}/g;function wh(n){return JSON.parse(n)}function Dn(n){return JSON.stringify(n)}const b_=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=wh(v_(s[0])||""),t=wh(v_(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch(s){}return{header:e,claims:t,data:r,signature:i}};function ws(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function xc(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function v0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function E_(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function bh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(x$(s)&&x$(o)){if(!bh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function x$(n){return null!==n&&"object"==typeof n}function Mc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class pde{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Dt(n){return n&&n._delegate?n._delegate:n}class Sn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sa="[DEFAULT]";class Ide{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Ac;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Dde(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Sa?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var n;return r||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Sde{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ide(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const E0=[];var X=(()=>((X=X||{})[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",X))();const M$={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},Ade=X.INFO,xde={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},Mde=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=xde[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Aa{constructor(e){this.name=e,this._logLevel=Ade,this._logHandler=Mde,this._userLogHandler=null,E0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?M$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}}let k$,R$;const P$=new WeakMap,C0=new WeakMap,N$=new WeakMap,I0=new WeakMap,T0=new WeakMap;let D0={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return C0.get(n);if("objectStoreNames"===e)return n.objectStoreNames||N$.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return uo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Vde(n){return"function"==typeof n?function Lde(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Pde(){return R$||(R$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(S0(this),e),uo(P$.get(this))}:function(...e){return uo(n.apply(S0(this),e))}:function(e,...t){const r=n.call(S0(this),e,...t);return N$.set(r,e.sort?e.sort():[e]),uo(r)}}(n):(n instanceof IDBTransaction&&function Ode(n){if(C0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});C0.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function Rde(){return k$||(k$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,D0):n)}function uo(n){if(n instanceof IDBRequest)return function Nde(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(uo(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&P$.set(t,n)}).catch(()=>{}),T0.set(e,n),e}(n);if(I0.has(n))return I0.get(n);const e=Vde(n);return e!==n&&(I0.set(n,e),T0.set(e,n)),e}const S0=n=>T0.get(n),Ude=["get","getKey","getAll","getAllKeys","count"],jde=["put","add","delete","clear"],A0=new Map;function O$(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(A0.get(e))return A0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=jde.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ude.includes(t))return;const s=function(){var o=_(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return A0.set(e,s),s}!function Fde(n){D0=n(D0)}(n=>pw(fw({},n),{get:(e,t,r)=>O$(e,t)||n.get(e,t,r),has:(e,t)=>!!O$(e,t)||n.has(e,t)}));const xa=new Aa("@firebase/app"),T_="[DEFAULT]",ghe={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ma=new Map,D_=new Map;function mhe(n,e){try{n.container.addComponent(e)}catch(t){xa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function bs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const Es=new Bi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yhe{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Es.create("app-deleted",{appName:this._name})}}const ho="9.23.0";function L$(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:T_,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Es.create("bad-app-name",{appName:String(i)});if(t||(t=T$()),!t)throw Es.create("no-options");const s=Ma.get(i);if(s){if(bh(t,s.options)&&bh(r,s.config))return s;throw Es.create("duplicate-app",{appName:i})}const o=new Sde(i);for(const l of D_.values())o.addComponent(l);const a=new yhe(t,r,o);return Ma.set(i,a),a}function Eh(n=T_){const e=Ma.get(n);if(!e&&n===T_&&T$())return L$();if(!e)throw Es.create("no-app",{appName:n});return e}function V$(){return Array.from(Ma.values())}function We(n,e,t){var r;let i=null!==(r=ghe[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void xa.warn(a.join(" "))}!function jn(n){const e=n.name;if(D_.has(e))return xa.debug(`There were multiple attempts to register component ${e}.`),!1;D_.set(e,n);for(const t of Ma.values())mhe(t,n);return!0}(new Sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function Zfe(){return wT.apply(this,arguments)}function wT(){return(wT=_(function*(){if(!Da())return!1;try{return yield vh()}catch(n){return!1}})).apply(this,arguments)}function Fz(){return tD.apply(this,arguments)}function tD(){return(tD=_(function*(){try{yield vh()}catch(n){return!1}return"undefined"!=typeof window&&Da()&&y0()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}const M_="analytics",un=new Aa("@firebase/analytics"),ir=new Bi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function dD(){return(dD=_(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function fD(){return(fD=_(function*(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();n("config",yield e,{update:!0,user_id:t})})).apply(this,arguments)}let Ui={};function Dge(n=Eh()){const e=bs(n=Dt(n),M_);return e.isInitialized()?e.getImmediate():function Sge(n,e={}){const t=bs(n,M_);if(t.isInitialized()){const i=t.getImmediate();if(bh(e,t.getOptions()))return i;throw ir.create("already-initialized")}return t.initialize({options:e})}(n)}function Age(){return bD.apply(this,arguments)}function bD(){return(bD=_(function*(){if(_0()||!y0()||!Da())return!1;try{return yield vh()}catch(n){return!1}})).apply(this,arguments)}function xge(n,e,t){n=Dt(n),function _ge(n,e,t,r){return fD.apply(this,arguments)}(undefined,Ui[n.app.options.appId],e,t).catch(r=>un.error(r))}function Gz(n,e,t,r){n=Dt(n),function gge(n,e,t,r,i){return dD.apply(this,arguments)}(undefined,Ui[n.app.options.appId],e,t,r).catch(i=>un.error(i))}const Pge=new class Rge extends Gm{}(class kge extends Wm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),go=new to("7.6.1"),CD="__angularfire_symbol__analyticsIsSupportedValue",ID="__angularfire_symbol__analyticsIsSupported",TD="__angularfire_symbol__remoteConfigIsSupportedValue",DD="__angularfire_symbol__remoteConfigIsSupported",SD="__angularfire_symbol__messagingIsSupportedValue",AD="__angularfire_symbol__messagingIsSupported";globalThis[ID]||(globalThis[ID]=Age().then(n=>globalThis[CD]=n).catch(()=>globalThis[CD]=!1)),globalThis[AD]||(globalThis[AD]=Fz().then(n=>globalThis[SD]=n).catch(()=>globalThis[SD]=!1)),globalThis[DD]||(globalThis[DD]=Zfe().then(n=>globalThis[TD]=n).catch(()=>globalThis[TD]=!1));const R_={async:()=>globalThis[ID],sync:()=>{const n=globalThis[CD];if(void 0===n)throw new Error((n=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${n} in the constructor, first ensure that ${n} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${n})\`.`)("Analytics"));return n}};function Th(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const Dh=(n,e)=>{const t=e?[e]:V$(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Pc(){}class Qz{constructor(e,t=Pge){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Nge{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pc,{},Pc,Pc)),t.pipe(rr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sh=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Qz(Zone.current)),this.insideAngular=t.run(()=>new Qz(Zone.current,rh)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(E(ae))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Oa(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Oge(n){return Oa().ngZone.runOutsideAngular(()=>n())}function Fa(n){return Oa().ngZone.run(()=>n())}function Fge(n){return Oa(),function Lge(n){return function(t){return(t=t.lift(new Nge(n.ngZone))).pipe(kp(n.outsideAngular),Mp(n.insideAngular))}}(Oa())(n)}const Vge=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Fa(()=>n.apply(void 0,r))},xn=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=Fa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pc,{},Pc,Pc)))),r[s]=Vge(r[s],t));const i=Oge(()=>n.apply(this,r));if(!e){if(i instanceof Fe){const s=Oa();return i.pipe(kp(s.outsideAngular),Mp(s.insideAngular))}return Fa(()=>i)}return i instanceof Fe?i.pipe(Fge):i instanceof Promise?Fa(()=>new Promise((s,o)=>i.then(a=>Fa(()=>s(a)),a=>Fa(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Fa(()=>i)};class mo{constructor(e){return e}}class Ah{constructor(){return V$()}}const MD=new V("angularfire2._apps"),Uge={provide:mo,useFactory:function Bge(n){return n&&1===n.length?n[0]:new mo(Eh())},deps:[[new it,MD]]},jge={provide:Ah,deps:[[new it,MD]]};function $ge(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new mo(r)}}let zge=(()=>{class n{constructor(t){We("angularfire",go.full,"core"),We("angularfire",go.full,"app"),We("angular",wL.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(E(la))},n.\u0275mod=je({type:n}),n.\u0275inj=Le({providers:[Uge,jge]}),n})();function Hge(n,...e){return{ngModule:zge,providers:[{provide:MD,useFactory:$ge(n),multi:!0,deps:[ae,Oe,Sh,...e]}]}}const Wge=xn(L$,!0);class U_{constructor(){return Dh("app-check")}}function JD(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function wH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}"undefined"!=typeof window&&window;const Lme=wH,bH=new Bi("auth","Firebase",wH()),$_=new Aa("@firebase/auth");function z_(n,...e){$_.logLevel<=X.ERROR&&$_.error(`Auth (${ho}): ${n}`,...e)}function gr(n,...e){throw eS(n,...e)}function kr(n,...e){return eS(n,...e)}function EH(n,e,t){const r=Object.assign(Object.assign({},Lme()),{[e]:t});return new Bi("auth","Firebase",r).create(e,{appName:n.name})}function Oc(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&gr(n,"argument-error"),EH(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eS(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return bH.create(n,...e)}function M(n,e,...t){if(!n)throw eS(e,...t)}function $i(n){const e="INTERNAL ASSERTION FAILED: "+n;throw z_(e),new Error(e)}function Ds(n,e){n||$i(e)}function kh(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function CH(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Rh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ds(t>e,"Short delay should be less than long delay!"),this.isMobile=m0()||A$()}get(){return function Bme(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function tS(){return"http:"===CH()||"https:"===CH()}()||_0()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nS(n,e){Ds(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class IH{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void $i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void $i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void $i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jme={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$me=new Rh(3e4,6e4);function _t(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function At(n,e,t,r){return rS.apply(this,arguments)}function rS(){return(rS=_(function*(n,e,t,r,i={}){return TH(n,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Mc(Object.assign({key:n.config.apiKey},o)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),IH.fetch()(DH(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function TH(n,e,t){return iS.apply(this,arguments)}function iS(){return(iS=_(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},jme),e);try{const i=new zme(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Ph(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Ph(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Ph(n,"email-already-in-use",o);if("USER_DISABLED"===l)throw Ph(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw EH(n,u,c);gr(n,u)}}catch(i){if(i instanceof Yr)throw i;gr(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Ss(n,e,t,r){return sS.apply(this,arguments)}function sS(){return(sS=_(function*(n,e,t,r,i={}){const s=yield At(n,e,t,r,i);return"mfaPendingCredential"in s&&gr(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function DH(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?nS(n.config,i):`${n.config.apiScheme}://${i}`}class zme{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),$me.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ph(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=kr(n,e,r);return i.customData._tokenResponse=t,i}function oS(){return(oS=_(function*(n,e){return At(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Gme(n,e){return lS.apply(this,arguments)}function lS(){return(lS=_(function*(n,e){return At(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Nh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function cS(){return(cS=_(function*(n,e=!1){const t=Dt(n),r=yield t.getIdToken(e),i=H_(r);M(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Nh(uS(i.auth_time)),issuedAtTime:Nh(uS(i.iat)),expirationTime:Nh(uS(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function uS(n){return 1e3*Number(n)}function H_(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return z_("JWT malformed, contained fewer than 3 sections"),null;try{const i=v_(t);return i?JSON.parse(i):(z_("Failed to decode base64 JWT payload"),null)}catch(i){return z_("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function As(n,e){return dS.apply(this,arguments)}function dS(){return(dS=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Yr&&Qme(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function Qme({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class Yme{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null==t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class SH{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nh(this.lastLoginAt),this.creationTime=Nh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Oh(n){return hS.apply(this,arguments)}function hS(){return(hS=_(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield As(n,Gme(t,{idToken:r}));M(null==i?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?Jme(s.providerUserInfo):[],a=Zme(n.providerData,o),u=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new SH(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,d)})).apply(this,arguments)}function fS(){return(fS=_(function*(n){const e=Dt(n);yield Oh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Zme(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Jme(n){return n.map(e=>{var{providerId:t}=e,r=JD(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function pS(){return(pS=_(function*(n,e){const t=yield TH(n,{},_(function*(){const r=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=DH(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",IH.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Fh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(void 0!==e.idToken,"internal-error"),M(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function Kme(n){const e=H_(n);return M(e,"internal-error"),M(void 0!==e.exp,"internal-error"),M(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return _(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function e_e(n,e){return pS.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Fh;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fh,this.toJSON())}_performRefresh(){return $i("not implemented")}}function _o(n,e){M("string"==typeof n||void 0===n,"internal-error",{appName:e})}class La{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=JD(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yme(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new SH(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const r=yield As(t,t.stsTokenManager.getToken(t.auth,e));return M(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function qme(n){return cS.apply(this,arguments)}(this,e)}reload(){return function Xme(n){return fS.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new La(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Oh(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){const t=yield e.getIdToken();return yield As(e,function Hme(n,e){return oS.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,l,c,u;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:I,emailVerified:x,isAnonymous:$,providerData:G,stsTokenManager:fe}=t;M(I&&fe,e,"internal-error");const wt=Fh.fromJSON(this.name,fe);M("string"==typeof I,e,"internal-error"),_o(d,e.name),_o(h,e.name),M("boolean"==typeof x,e,"internal-error"),M("boolean"==typeof $,e,"internal-error"),_o(f,e.name),_o(p,e.name),_o(g,e.name),_o(m,e.name),_o(v,e.name),_o(y,e.name);const Kt=new La({uid:I,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:$,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:wt,createdAt:v,lastLoginAt:y});return G&&Array.isArray(G)&&(Kt.providerData=G.map(lr=>Object.assign({},lr))),m&&(Kt._redirectEventId=m),Kt}static _fromIdTokenResponse(e,t,r=!1){return _(function*(){const i=new Fh;i.updateFromServerResponse(t);const s=new La({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Oh(s),s})()}}const AH=new Map;function xs(n){Ds(n instanceof Function,"Expected a class definition");let e=AH.get(n);return e?(Ds(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,AH.set(n,e),e)}function gS(n=cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G_(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function LH(n=cn()){return G_(n)||function NH(n=cn()){return/android/i.test(n)}(n)||function FH(n=cn()){return/webos/i.test(n)}(n)||function OH(n=cn()){return/blackberry/i.test(n)}(n)||/windows phone/i.test(n)||function PH(n=cn()){return/iemobile/i.test(n)}(n)}function dn(n){return Dt(n)}function WH(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function GH(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class qH{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,t){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}function Ms(n,e){return OS.apply(this,arguments)}function OS(){return(OS=_(function*(n,e){return Ss(n,"POST","/v1/accounts:signInWithIdp",_t(n,e))})).apply(this,arguments)}class Lc extends qH{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Lc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=JD(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Lc(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Ms(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ms(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ms(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mc(t)}return e}}class vo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class XH extends vo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let M_e=(()=>{class n extends XH{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Lc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch(s){return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();class Xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(function*(){const s=yield La._fromIdTokenResponse(e,r,i),o=ZH(r);return new Xr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=ZH(r);return new Xr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function ZH(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class X_ extends Yr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,X_.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new X_(e,t,r,i)}}function JH(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?X_._fromErrorAndOperation(n,s,e,r):s})}function HS(n,e){return WS.apply(this,arguments)}function WS(){return(WS=_(function*(n,e,t=!1){const r=yield As(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Xr._forOperation(n,"link",r)})).apply(this,arguments)}function qS(){return(qS=_(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield As(n,JH(r,i,e,n),t);M(s.idToken,r,"internal-error");const o=H_(s.idToken);M(o,r,"internal-error");const{sub:a}=o;return M(n.uid===a,r,"user-mismatch"),Xr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&gr(r,"user-mismatch"),s}})).apply(this,arguments)}function KS(){return(KS=_(function*(n,e,t=!1){const r="signIn",i=yield JH(n,r,e),s=yield Xr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function q_e(n){return Dt(n).signOut()}const J_="__sak";class iW{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(J_,"1"),this.storage.removeItem(J_),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tye=(()=>{class n extends iW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Z_e(){const n=cn();return gS(n)||G_(n)}()&&function r_e(){try{return!(!window||window===window.top)}catch(n){return!1}}(),this.fallbackToPolling=LH(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function n_e(){return function lde(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),sW=(()=>{class n extends iW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let rye=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return _(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!(null==l?void 0:l.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function nye(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function ey(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class iye{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return _(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=ey("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Ht(){return window}function IA(){return void 0!==Ht().WorkerGlobalScope&&"function"==typeof Ht().importScripts}function TA(){return(TA=_(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(n){return null}})).apply(this,arguments)}const oW="firebaseLocalStorageDb",ty="firebaseLocalStorage",aW="fbase_key";class Bh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ny(n,e){return n.transaction([ty],e?"readwrite":"readonly").objectStore(ty)}function DA(){const n=indexedDB.open(oW,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ty,{keyPath:aW})}catch(i){t(i)}}),n.addEventListener("success",_(function*(){const r=n.result;r.objectStoreNames.contains(ty)?e(r):(r.close(),yield function uye(){const n=indexedDB.deleteDatabase(oW);return new Bh(n).toPromise()}(),e(yield DA()))}))})}function lW(n,e,t){return SA.apply(this,arguments)}function SA(){return(SA=_(function*(n,e,t){const r=ny(n,!0).put({[aW]:e,value:t});return new Bh(r).toPromise()})).apply(this,arguments)}function AA(){return(AA=_(function*(n,e){const t=ny(n,!1).get(e),r=yield new Bh(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function cW(n,e){const t=ny(n,!0).delete(e);return new Bh(t).toPromise()}const pye=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield DA()),t.db})()}_withRetries(t){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return IA()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=rye._getInstance(function lye(){return IA()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var r,i;if(t.activeServiceWorker=yield function oye(){return TA.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new iye(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function aye(){var n;return(null===(n=null==navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield DA();return yield lW(t,J_,"1"),yield cW(t,J_),!0}catch(t){}return!1})()}_withPendingWrite(t){var r=this;return _(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>lW(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return _(function*(){const i=yield r._withRetries(s=>function dye(n,e){return AA.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>cW(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const r=yield t._withRetries(o=>{const a=ny(o,!1).getAll();return new Bh(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Ba(n,e){return e?xs(e):(M(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class LA extends qH{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ms(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ms(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mye(n){return function nW(n,e){return KS.apply(this,arguments)}(n.auth,new LA(n),n.bypassAuthState)}function kye(n){const{auth:e,user:t}=n;return M(t,e,"internal-error"),function tW(n,e){return qS.apply(this,arguments)}(t,new LA(n),n.bypassAuthState)}function Rye(n){return VA.apply(this,arguments)}function VA(){return(VA=_(function*(n){const{auth:e,user:t}=n;return M(t,e,"internal-error"),HS(t,new LA(n),n.bypassAuthState)})).apply(this,arguments)}class dW{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mye;case"linkViaPopup":case"linkViaRedirect":return Rye;case"reauthViaPopup":case"reauthViaRedirect":return kye;default:gr(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pye=new Rh(2e3,1e4);function Nye(n,e,t){return BA.apply(this,arguments)}function BA(){return(BA=_(function*(n,e,t){const r=dn(n);Oc(n,e,vo);const i=Ba(r,t);return new $A(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let $A=(()=>{class n extends dW{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return _(function*(){const r=yield t.execute();return M(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return _(function*(){Ds(1===t.filter.length,"Popup operations only handle one event");const r=ey();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(kr(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=(null===(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)||void 0===i?void 0:i.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,Pye.get())};t()}}return n.currentPopupAction=null,n})();const Uh=new Map;class Fye extends dW{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let r=Uh.get(t.auth._key());if(!r){try{const s=(yield function Lye(n,e){return zA.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Uh.set(t.auth._key(),r)}return t.bypassAuthState||Uh.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function zA(){return(zA=_(function*(n,e){const t=fW(e),r=hW(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Vye(n,e){Uh.set(n._key(),e)}function hW(n){return xs(n._redirectPersistence)}function fW(n){return function W_(n,e,t){return`firebase:${n}:${e}:${t}`}("pendingRedirect",n.config.apiKey,n.name)}function pW(n,e){return YA.apply(this,arguments)}function YA(){return(YA=_(function*(n,e,t=!1){const r=dn(n),i=Ba(r,e),o=yield new Fye(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class zye{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Hye(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _W(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!_W(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(kr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(mW(e))}saveEventToCache(e){this.cachedEventUids.add(mW(e)),this.lastProcessedEventTime=Date.now()}}function mW(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function _W({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===(null==e?void 0:e.code)}function Wye(n){return ZA.apply(this,arguments)}function ZA(){return(ZA=_(function*(n,e={}){return At(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Gye=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qye=/^https?/;function JA(){return(JA=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield Wye(n);for(const t of e)try{if(Qye(t))return}catch(r){}gr(n,"unauthorized-domain")})).apply(this,arguments)}function Qye(n){const e=kh(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!qye.test(t))return!1;if(Gye.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Yye=new Rh(3e4,6e4);function yW(){const n=Ht().___jsl;if(null==n?void 0:n.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}function Xye(n){return new Promise((e,t)=>{var r,i,s;function o(){yW(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yW(),t(kr(n,"network-request-failed"))},timeout:Yye.get()})}if(null===(i=null===(r=Ht().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Ht().gapi)||void 0===s?void 0:s.load)){const a=function o_e(n){return`__${n}${Math.floor(1e6*Math.random())}`}("iframefcb");return Ht()[a]=()=>{gapi.load?o():t(kr(n,"network-request-failed"))},function yS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=kr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function s_e(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}o()}}).catch(e=>{throw iy=null,e})}let iy=null;function Zye(n){return iy=iy||Xye(n),iy}const Jye=new Rh(5e3,15e3),nve={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rve=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ive(n){const e=n.config;M(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?nS(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:ho},i=rve.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Mc(r).slice(1)}`}function ex(){return ex=_(function*(n){const e=yield Zye(n),t=Ht().gapi;return M(t,n,"internal-error"),e.open({where:document.body,url:ive(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nve,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=kr(n,"network-request-failed"),l=Ht().setTimeout(()=>{o(a)},Jye.get());function c(){Ht().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),ex.apply(this,arguments)}const ove={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vW{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function dve(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ove),{width:r.toString(),height:i.toString(),top:s,left:o}),c=cn().toLowerCase();t&&(a=function RH(n=cn()){return/crios\//i.test(n)}(c)?"_blank":t),function kH(n=cn()){return/firefox\//i.test(n)}(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function t_e(n=cn()){var e;return G_(n)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function hve(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new vW(null);const d=window.open(e||"",a,u);M(d,n,"popup-blocked");try{d.focus()}catch(h){}return new vW(d)}const gve=encodeURIComponent("fac");function wW(n,e,t,r,i,s){return tx.apply(this,arguments)}function tx(){return(tx=_(function*(n,e,t,r,i,s){M(n.config.authDomain,n,"auth-domain-config-required"),M(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ho,eventId:i};if(e instanceof vo){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",v0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof XH){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${gve}=${encodeURIComponent(l)}`:"";return`${mve(n)}?${Mc(a).slice(1)}${c}`})).apply(this,arguments)}function mve({config:n}){return n.emulator?nS(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const nx="webStorageSupport",yve=class _ve{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sW,this._completeRedirectFn=pW,this._overrideRedirectResult=Vye}_openPopup(e,t,r,i){var s=this;return _(function*(){var o;Ds(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield wW(e,t,r,kh(),i);return dve(e,a,ey())})()}_openRedirect(e,t,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function sye(n){Ht().location.href=n}(yield wW(e,t,r,kh(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ds(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return _(function*(){const r=yield function sve(n){return ex.apply(this,arguments)}(e),i=new zye(e);return r.register("authEvent",s=>(M(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nx,{type:nx},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[nx];void 0!==o&&t(!!o),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Kye(n){return JA.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return LH()||gS()||G_()}},Cve=D$("authIdTokenMaxAge")||300;let TW=null;const Ive=n=>function(){var e=_(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Cve)return;const s=null==r?void 0:r.token;TW!==s&&(TW=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Tve(n=Eh()){const e=bs(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function h_e(n,e){const t=bs(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(bh(t.getOptions(),null!=e?e:{}))return i;gr(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:yve,persistence:[pye,tye,sW]}),r=D$("authTokenSyncURL");if(r){const s=Ive(r);(function W_e(n,e,t){Dt(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function H_e(n,e,t,r){Dt(n).onIdTokenChanged(e,t,r)}(t,o=>s(o))}const i=C$("auth");return i&&function p_e(n,e,t){const r=dn(n);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==t?void 0:t.disableWarnings),s=WH(e),{host:o,port:a}=function g_e(n){const e=WH(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:GH(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:GH(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function m_e(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}function Dve(n){return new Fe(function(e){var t=function G_e(n,e,t,r){return Dt(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}class jh{constructor(e){return e}}class ix{constructor(){return Dh("auth")}}const sx=new V("angularfire2.auth-instances");function xve(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new jh(r)}}const Mve={provide:ix,deps:[[new it,sx]]},kve={provide:jh,useFactory:function Ave(n,e){const t=Th("auth",n,e);return t&&new jh(t)},deps:[[new it,sx],mo]};let Rve=(()=>{class n{constructor(){We("angularfire",go.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({providers:[kve,Mve]}),n})();function Pve(n,...e){return{ngModule:Rve,providers:[{provide:sx,useFactory:xve(n),multi:!0,deps:[ae,Oe,Sh,Ah,[new it,U_],...e]}]}}const Nve=xn(Dve,!0),Ove=xn(Tve,!0),Fve=xn(Nye,!0),Lve=xn(q_e,!0);let SW=(()=>{class n{constructor(t){this.auth=t}loginWithGoogle(){return Fve(this.auth,new M_e)}logOut(){return Lve(this.auth)}}return n.\u0275fac=function(t){return new(t||n)(E(jh))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$h=(()=>{class n{constructor(){const t=localStorage.getItem("me");t&&(this.credentials=JSON.parse(t))}setCredentials(t){localStorage.setItem("me",JSON.stringify(t)),this.credentials=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vve=(()=>{class n{constructor(t,r,i){this.authService=t,this.credentialsService=r,this.router=i}ngOnInit(){}loginWithGoogle(){this.authService.loginWithGoogle().then(t=>{this.credentialsService.setCredentials({name:t.user.displayName,email:t.user.email,photo:t.user.photoURL}),this.router.navigate(["my-notes"])}).catch(t=>console.log(t))}logOut(){localStorage.removeItem("me")}}return n.\u0275fac=function(t){return new(t||n)(b(SW),b($h),b(Un))},n.\u0275cmp=Qn({type:n,selectors:[["app-login"]],decls:10,vars:0,consts:[[1,"login-page"],[1,"green-pannel"],["src","../../../assets/imgs/logo.svg","alt","Labnotes logo"],[1,"center-icons"],[1,"icon-btn",3,"click"],[1,"fa-brands","fa-google"]],template:function(t,r){1&t&&(ke(0,"section",0)(1,"article",1)(2,"h1"),hr(3,"Welcome to Labnotes"),Re(),an(4,"img",2),Re(),ke(5,"h2"),hr(6,"Login using:"),Re(),ke(7,"div",3)(8,"button",4),st("click",function(){return r.loginWithGoogle()}),an(9,"i",5),Re()()())},styles:[".login-page[_ngcontent-%COMP%]{background:#FCF6F1;width:100%;height:100%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin:0;font-weight:500;font-family:Poppins,sans-serif;font-size:30px;text-align:center}h2[_ngcontent-%COMP%]{margin-top:20px;font-size:20px;font-family:Poppins,sans-serif}.green-pannel[_ngcontent-%COMP%]{background:#C7EBB3;border-radius:0 0 20px 20px;height:65vh;display:flex;flex-direction:column;align-items:center;justify-content:center}.center-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:50px;margin-top:20px}.icon-btn[_ngcontent-%COMP%]{border:3px solid #EBC7E5;background:#FFD5F8;height:50px;width:50px;display:flex;align-items:center;justify-content:center;border-radius:50%;cursor:pointer}.fa-brands[_ngcontent-%COMP%]{font-size:25px}"]}),n})(),Bve=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qn({type:n,selectors:[["app-delete-note-dialog"]],decls:9,vars:1,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,r){1&t&&(ke(0,"h2",0),hr(1,"Delete this note?"),Re(),ke(2,"p"),hr(3,"You will not be able to recover it"),Re(),ke(4,"mat-dialog-actions")(5,"button",1),hr(6,"No, Cancel"),Re(),ke(7,"button",2),hr(8,"Yes, Delete it"),Re()()),2&t&&(It(7),Xt("mat-dialog-close",!0))},directives:[zle,Hle,ej,$le],styles:["h2[_ngcontent-%COMP%], p[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}"]}),n})();var N,Uve="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gi={},ox=ox||{},re=Uve||self;function oy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ax="closure_uid_"+(1e9*Math.random()>>>0),$ve=0;function zve(n,e,t){return n.call.apply(n.bind,arguments)}function Hve(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function $n(n,e,t){return($n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zve:Hve).apply(null,arguments)}function ay(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function wo(){this.s=this.s,this.o=this.o}wo.prototype.s=!1,wo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function jve(n){Object.prototype.hasOwnProperty.call(n,ax)&&n[ax]||(n[ax]=++$ve)}(this)},wo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AW=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function lx(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function xW(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(oy(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function zn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}zn.prototype.h=function(){this.defaultPrevented=!0};var Gve=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{re.addEventListener("test",()=>{},e),re.removeEventListener("test",()=>{},e)}catch(t){}return n}();function Hh(n){return/^[\s\xa0]*$/.test(n)}function ly(){var n=re.navigator;return n&&(n=n.userAgent)?n:""}function zi(n){return-1!=ly().indexOf(n)}function cx(n){return cx[" "](n),n}cx[" "]=function(){};var dx,Kve=zi("Opera"),Bc=zi("Trident")||zi("MSIE"),MW=zi("Edge"),ux=MW||Bc,kW=zi("Gecko")&&!(-1!=ly().toLowerCase().indexOf("webkit")&&!zi("Edge"))&&!(zi("Trident")||zi("MSIE"))&&!zi("Edge"),Qve=-1!=ly().toLowerCase().indexOf("webkit")&&!zi("Edge");function RW(){var n=re.document;return n?n.documentMode:void 0}e:{var hx="",fx=function(){var n=ly();return kW?/rv:([^\);]+)(\)|;)/.exec(n):MW?/Edge\/([\d\.]+)/.exec(n):Bc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Qve?/WebKit\/(\S+)/.exec(n):Kve?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(fx&&(hx=fx?fx[1]:""),Bc){var px=RW();if(null!=px&&px>parseFloat(hx)){dx=String(px);break e}}dx=hx}var Yve=re.document&&Bc&&(RW()||parseInt(dx,10))||void 0;function Wh(n,e){if(zn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(kW){e:{try{cx(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xve[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Wh.$.h.call(this)}}var Xve={2:"touch",3:"pen",4:"mouse"};Wh.prototype.h=function(){Wh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Gh="closure_listenable_"+(1e6*Math.random()|0),Zve=0;function Jve(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Zve,this.fa=this.ia=!1}function cy(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function mx(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function NW(n){const e={};for(const t in n)e[t]=n[t];return e}const OW="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FW(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<OW.length;s++)t=OW[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function uy(n){this.src=n,this.g={},this.h=0}function _x(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=AW(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(cy(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function yx(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}uy.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=yx(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new Jve(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var vx="closure_lm_"+(1e6*Math.random()|0),wx={};function LW(n,e,t,r,i){if(r&&r.once)return BW(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)LW(n,e[s],t,r,i);return null}return t=Ix(t),n&&n[Gh]?n.O(e,t,zh(r)?!!r.capture:!!r,i):VW(n,e,t,!1,r,i)}function VW(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=zh(i)?!!i.capture:!!i,a=Ex(n);if(a||(n[vx]=a=new uy(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function twe(){const e=nwe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Gve||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(jW(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function BW(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)BW(n,e[s],t,r,i);return null}return t=Ix(t),n&&n[Gh]?n.P(e,t,zh(r)?!!r.capture:!!r,i):VW(n,e,t,!0,r,i)}function UW(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)UW(n,e[s],t,r,i);else r=zh(r)?!!r.capture:!!r,t=Ix(t),n&&n[Gh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=yx(s=n.g[e],t,r,i))&&(cy(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=Ex(n))&&(e=n.g[e.toString()],n=-1,e&&(n=yx(e,t,r,i)),(t=-1<n?e[n]:null)&&bx(t))}function bx(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Gh])_x(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(jW(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Ex(e))?(_x(t,n),0==t.h&&(t.src=null,e[vx]=null)):cy(n)}}}function jW(n){return n in wx?wx[n]:wx[n]="on"+n}function nwe(n,e){if(n.fa)n=!0;else{e=new Wh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&bx(n),n=t.call(r,e)}return n}function Ex(n){return(n=n[vx])instanceof uy?n:null}var Cx="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ix(n){return"function"==typeof n?n:(n[Cx]||(n[Cx]=function(e){return n.handleEvent(e)}),n[Cx])}function fn(){wo.call(this),this.i=new uy(this),this.S=this,this.J=null}function kn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new zn(e,n);else if(e instanceof zn)e.target=e.target||n;else{var i=e;FW(e=new zn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=dy(o,r,!0,e)&&i}if(i=dy(o=e.g=n,r,!0,e)&&i,i=dy(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=dy(o=e.g=t[s],r,!1,e)&&i}function dy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,l=o.la||o.src;o.ia&&_x(n.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}fn.prototype[Gh]=!0,fn.prototype.removeEventListener=function(n,e,t,r){UW(this,n,e,t,r)},fn.prototype.N=function(){if(fn.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)cy(t[r]);delete n.g[e],n.h--}}this.J=null},fn.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},fn.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Tx=re.JSON.stringify;class rwe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function iwe(){var n=Dx;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class swe{constructor(){this.h=this.g=null}add(e,t){const r=$W.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var $W=new rwe(()=>new owe,n=>n.reset());class owe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function awe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function lwe(n){re.setTimeout(()=>{throw n},0)}let qh,Kh=!1,Dx=new swe,zW=()=>{const n=re.Promise.resolve(void 0);qh=()=>{n.then(cwe)}};var cwe=()=>{for(var n;n=iwe();){try{n.h.call(n.g)}catch(t){lwe(t)}var e=$W;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Kh=!1};function hy(n,e){fn.call(this),this.h=n||1,this.g=e||re,this.j=$n(this.qb,this),this.l=Date.now()}function Sx(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Ax(n,e,t){if("function"==typeof n)t&&(n=$n(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=$n(n.handleEvent,n)}return 2147483647<Number(e)?-1:re.setTimeout(n,e||0)}function HW(n){n.g=Ax(()=>{n.g=null,n.i&&(n.i=!1,HW(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(N=hy.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kn(this,"tick"),this.ga&&(Sx(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){hy.$.N.call(this),Sx(this),delete this.g};class uwe extends wo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HW(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qh(n){wo.call(this),this.h=n,this.g={}}var WW=[];function GW(n,e,t,r){Array.isArray(t)||(t&&(WW[0]=t.toString()),t=WW);for(var i=0;i<t.length;i++){var s=LW(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function qW(n){mx(n.g,function(e,t){this.g.hasOwnProperty(t)&&bx(e)},n),n.g={}}function fy(){this.g=!0}function Uc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pwe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Tx(t)}catch(a){return e}}(n,t)+(r?" "+r:"")})}Qh.prototype.N=function(){Qh.$.N.call(this),qW(this)},Qh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fy.prototype.Ea=function(){this.g=!1},fy.prototype.info=function(){};var Ua={},KW=null;function py(){return KW=KW||new fn}function QW(n){zn.call(this,Ua.Ta,n)}function Yh(n){const e=py();kn(e,new QW(e))}function YW(n,e){zn.call(this,Ua.STAT_EVENT,n),this.stat=e}function sr(n){const e=py();kn(e,new YW(e,n))}function XW(n,e){zn.call(this,Ua.Ua,n),this.size=e}function Xh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){n()},e)}Ua.Ta="serverreachability",Ua.STAT_EVENT="statevent",Ua.Ua="timingevent";var gy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ZW={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function eG(){}var Rx,Zh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mx(){zn.call(this,"d")}function kx(){zn.call(this,"c")}function my(){}function Jh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Qh(this),this.P=gwe,this.V=new hy(n=ux?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tG}function tG(){this.i=null,this.g="",this.h=!1}my.prototype.g=function(){return new XMLHttpRequest},my.prototype.i=function(){return{}},Rx=new my;var gwe=45e3,Px={},_y={};function Nx(n,e,t){n.L=1,n.v=by(ks(e)),n.s=t,n.S=!0,nG(n,null)}function nG(n,e){n.G=Date.now(),ef(n),n.A=ks(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),hG(t.i,"t",r),n.C=0,t=n.l.J,n.h=new tG,n.g=FG(n.l,t?e:null,!n.s),0<n.O&&(n.M=new uwe($n(n.Pa,n,n.g),n.O)),GW(n.U,n.g,"readystatechange",n.nb),e=n.I?NW(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Yh(),function dwe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function rG(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function iG(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=mwe(n,t),i==_y){4==e&&(n.o=4,sr(14),r=!1),Uc(n.j,n.m,null,"[Incomplete Response]");break}if(i==Px){n.o=4,sr(15),Uc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Uc(n.j,n.m,i,null),Ox(n,i)}rG(n)&&i!=_y&&i!=Px&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,sr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),$x(e),e.M=!0,sr(11))):(Uc(n.j,n.m,t,"[Invalid Chunked Response]"),ja(n),tf(n))}function mwe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?_y:(t=Number(e.substring(t,r)),isNaN(t)?Px:(r+=1)+t>e.length?_y:(e=e.slice(r,r+t),n.C=r+t,e))}function ef(n){n.Y=Date.now()+n.P,sG(n,n.P)}function sG(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Xh($n(n.lb,n),e)}function yy(n){n.B&&(re.clearTimeout(n.B),n.B=null)}function tf(n){0==n.l.H||n.J||RG(n.l,n)}function ja(n){yy(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Sx(n.V),qW(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Ox(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Fx(t.i,n)))if(!n.K&&Fx(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Xh($n(t.ib,t),6e3));else{if(t.g){if(!(t.g.G+3e3<n.G))break e;Sy(t),Ty(t)}jx(t),sr(18)}if(1>=gG(t.i)&&t.oa){try{t.oa()}catch(c){}t.oa=void 0}}else za(t,11)}else if((n.K||t.g==n)&&Sy(t),!Hh(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Lx(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ot(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=OG(r,r.J?r.pa:null,r.Y),o.K){mG(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(yy(a),ef(a)),r.g=o}else MG(r);0<t.j.length&&Dy(t)}else"stop"!=c[0]&&"close"!=c[0]||za(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?za(t,7):Ux(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Yh()}catch(c){}}function oG(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(oy(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ywe(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(oy(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function _we(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(oy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(N=Jh.prototype).setTimeout=function(n){this.P=n},N.nb=function(n){n=n.target;const e=this.M;e&&3==Hi(n)?e.l():this.Pa(n)},N.Pa=function(n){try{if(n==this.g)e:{const u=Hi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||ux||this.g&&(this.h.h||this.g.ja()||IG(this.g)))){this.J||4!=u||7==e||Yh(),yy(this);var t=this.g.da();this.ca=t;t:if(rG(this)){var r=IG(this.g);n="";var i=r.length,s=4==Hi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ja(this),tf(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function hwe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hh(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,sr(12),ja(this),tf(this);break e}Uc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ox(this,t)}this.S?(iG(this,u,o),ux&&this.i&&3==u&&(GW(this.U,this.V,"tick",this.mb),this.V.start())):(Uc(this.j,this.m,o,null),Ox(this,o)),4==u&&ja(this),this.i&&!this.J&&(4==u?RG(this.l,this):(this.i=!1,ef(this)))}else(function Fwe(n){const e={};n=(n.g&&2<=Hi(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Hh(n[r]))continue;var t=awe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function ewe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,sr(12)):(this.o=0,sr(13)),ja(this),tf(this)}}}catch(u){}},N.mb=function(){if(this.g){var n=Hi(this.g),e=this.g.ja();this.C<e.length&&(yy(this),iG(this,n,e),this.i&&4!=n&&ef(this))}},N.cancel=function(){this.J=!0,ja(this)},N.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function fwe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Yh(),sr(17)),ja(this),this.o=2,tf(this)):sG(this,this.Y-n)};var aG=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $a(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof $a){this.h=n.h,vy(this,n.j),this.s=n.s,this.g=n.g,wy(this,n.m),this.l=n.l;var e=n.i,t=new sf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),lG(this,t),this.o=n.o}else n&&(e=String(n).match(aG))?(this.h=!1,vy(this,e[1]||"",!0),this.s=nf(e[2]||""),this.g=nf(e[3]||"",!0),wy(this,e[4]),this.l=nf(e[5]||"",!0),lG(this,e[6]||"",!0),this.o=nf(e[7]||"")):(this.h=!1,this.i=new sf(null,this.h))}function ks(n){return new $a(n)}function vy(n,e,t){n.j=t?nf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function wy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function lG(n,e,t){e instanceof sf?(n.i=e,function Twe(n,e){e&&!n.j&&(bo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(uG(this,r),hG(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=rf(e,Cwe)),n.i=new sf(e,n.h))}function ot(n,e,t){n.i.set(e,t)}function by(n){return ot(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function nf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function rf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,wwe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function wwe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$a.prototype.toString=function(){var n=[],e=this.j;e&&n.push(rf(e,cG,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(rf(e,cG,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(rf(t,"/"==t.charAt(0)?Ewe:bwe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",rf(t,Iwe)),n.join("")};var cG=/[#\/\?@]/g,bwe=/[#\?:]/g,Ewe=/[#\?]/g,Cwe=/[#\?@]/g,Iwe=/#/g;function sf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function bo(n){n.g||(n.g=new Map,n.h=0,n.i&&function vwe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function uG(n,e){bo(n),e=jc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function dG(n,e){return bo(n),e=jc(n,e),n.g.has(e)}function hG(n,e,t){uG(n,e),0<t.length&&(n.i=null,n.g.set(jc(n,e),lx(t)),n.h+=t.length)}function jc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function fG(n){this.l=n||Swe,n=re.PerformanceNavigationTiming?0<(n=re.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=sf.prototype).add=function(n,e){bo(this),this.i=null,n=jc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},N.forEach=function(n,e){bo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},N.ta=function(){bo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},N.Z=function(n){bo(this);let e=[];if("string"==typeof n)dG(this,n)&&(e=e.concat(this.g.get(jc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},N.set=function(n,e){return bo(this),this.i=null,dG(this,n=jc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},N.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var n,Swe=10;function pG(n){return!!n.h||!!n.g&&n.g.size>=n.j}function gG(n){return n.h?1:n.g?n.g.size:0}function Fx(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Lx(n,e){n.g?n.g.add(e):n.h=e}function mG(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function _G(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return lx(n.i)}function xwe(){this.g=new class{stringify(n){return re.JSON.stringify(n,void 0)}parse(n){return re.JSON.parse(n,void 0)}}}function Mwe(n,e,t){const r=t||"";try{oG(n,function(i,s){let o=i;zh(i)&&(o=Tx(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ey(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function af(n){this.l=n.fc||null,this.j=n.ob||!1}function Cy(n,e){fn.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Vx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fG.prototype.cancel=function(){if(this.i=_G(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},af.prototype.g=function(){return new Cy(this.l,this.j)},af.prototype.i=(n={},function(){return n});var Vx=0;function yG(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function lf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,cf(n)}function cf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(N=Cy.prototype).open=function(n,e){if(this.readyState!=Vx)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,cf(this)},N.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lf(this)),this.readyState=Vx},N.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,cf(this)),this.g&&(this.readyState=3,cf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==re.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yG(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?lf(this):cf(this),3==this.readyState&&yG(this)}},N.Za=function(n){this.g&&(this.response=this.responseText=n,lf(this))},N.Ya=function(n){this.g&&(this.response=n,lf(this))},N.ka=function(){this.g&&lf(this)},N.setRequestHeader=function(n,e){this.v.append(n,e)},N.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var Rwe=re.JSON.parse;function xt(n){fn.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vG,this.L=this.M=!1}var vG="",Pwe=/^https?$/i,Nwe=["POST","PUT"];function wG(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,bG(n),Iy(n)}function bG(n){n.F||(n.F=!0,kn(n,"complete"),kn(n,"error"))}function EG(n){if(n.h&&void 0!==ox&&(!n.C[1]||4!=Hi(n)||2!=n.da()))if(n.v&&4==Hi(n))Ax(n.La,0,n);else if(kn(n,"readystatechange"),4==Hi(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(aG)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!Pwe.test(i?i.toLowerCase():"")}t=r}if(t)kn(n,"complete"),kn(n,"success");else{n.m=6;try{var s=2<Hi(n)?n.g.statusText:""}catch(a){s=""}n.j=s+" ["+n.da()+"]",bG(n)}}finally{Iy(n)}}}function Iy(n,e){if(n.g){CG(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||kn(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function CG(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(re.clearTimeout(n.A),n.A=null)}function Hi(n){return n.g?n.g.readyState:0}function IG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case vG:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function TG(n){let e="";return mx(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Bx(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=TG(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ot(n,e,t))}function uf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function DG(n){this.Ga=0,this.j=[],this.l=new fy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=uf("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=uf("baseRetryDelayMs",5e3,n),this.hb=uf("retryDelaySeedMs",1e4,n),this.eb=uf("forwardChannelMaxRetries",2,n),this.xa=uf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new fG(n&&n.concurrentRequestLimit),this.Ja=new xwe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Ux(n){if(SG(n),3==n.H){var e=n.W++,t=ks(n.I);if(ot(t,"SID",n.K),ot(t,"RID",e),ot(t,"TYPE","terminate"),df(n,t),(e=new Jh(n,n.l,e)).L=2,e.v=by(ks(t)),t=!1,re.navigator&&re.navigator.sendBeacon)try{t=re.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!t&&re.Image&&((new Image).src=e.v,t=!0),t||(e.g=FG(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ef(e)}NG(n)}function Ty(n){n.g&&($x(n),n.g.cancel(),n.g=null)}function SG(n){Ty(n),n.u&&(re.clearTimeout(n.u),n.u=null),Sy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&re.clearTimeout(n.m),n.m=null)}function Dy(n){if(!pG(n.i)&&!n.m){n.m=!0;var e=n.Na;qh||zW(),Kh||(qh(),Kh=!0),Dx.add(e,n),n.C=0}}function AG(n,e){var t;t=e?e.m:n.W++;const r=ks(n.I);ot(r,"SID",n.K),ot(r,"RID",t),ot(r,"AID",n.V),df(n,r),n.o&&n.s&&Bx(r,n.o,n.s),t=new Jh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=xG(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Lx(n.i,t),Nx(t,r,e)}function df(n,e){n.na&&mx(n.na,function(t,r){ot(e,r,t)}),n.h&&oG({},function(t,r){ot(e,r,t)})}function xG(n,e,t){t=Math.min(n.j.length,t);var r=n.h?$n(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<t;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{Mwe(u,o,"req"+c+"_")}catch(d){r&&r(u)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function MG(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;qh||zW(),Kh||(qh(),Kh=!0),Dx.add(e,n),n.A=0}}function jx(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Xh($n(n.Ma,n),PG(n,n.A)),n.A++,0))}function $x(n){null!=n.B&&(re.clearTimeout(n.B),n.B=null)}function kG(n){n.g=new Jh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ks(n.wa);ot(e,"RID","rpc"),ot(e,"SID",n.K),ot(e,"AID",n.V),ot(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ot(e,"TO",n.qa),ot(e,"TYPE","xmlhttp"),df(n,e),n.o&&n.s&&Bx(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=by(ks(e)),t.s=null,t.S=!0,nG(t,n)}function Sy(n){null!=n.v&&(re.clearTimeout(n.v),n.v=null)}function RG(n,e){var t=null;if(n.g==e){Sy(n),$x(n),n.g=null;var r=2}else{if(!Fx(n.i,e))return;t=e.F,mG(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;kn(r=py(),new XW(r,t)),Dy(n)}else MG(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Lwe(n,e){return!(gG(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Xh($n(n.Na,n,e),PG(n,n.C)),n.C++,0)))}(n,e)||2==r&&jx(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:za(n,5);break;case 4:za(n,10);break;case 3:za(n,6);break;default:za(n,2)}}function PG(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function za(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=$n(n.pb,n);t||(t=new $a("//www.google.com/images/cleardot.gif"),re.location&&"http"==re.location.protocol||vy(t,"https"),by(t)),function kwe(n,e){const t=new fy;if(re.Image){const r=new Image;r.onload=ay(Ey,t,r,"TestLoadImage: loaded",!0,e),r.onerror=ay(Ey,t,r,"TestLoadImage: error",!1,e),r.onabort=ay(Ey,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=ay(Ey,t,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else sr(2);n.H=0,n.h&&n.h.za(e),NG(n),SG(n)}function NG(n){if(n.H=0,n.ma=[],n.h){const e=_G(n.i);(0!=e.length||0!=n.j.length)&&(xW(n.ma,e),xW(n.ma,n.j),n.i.i.length=0,lx(n.j),n.j.length=0),n.h.ya()}}function OG(n,e,t){var r=t instanceof $a?ks(t):new $a(t);if(""!=r.g)e&&(r.g=e+"."+r.g),wy(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new $a(null);r&&vy(s,r),e&&(s.g=e),i&&wy(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&ot(r,t,e),ot(r,"VER",n.ra),df(n,r),r}function FG(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xt(t&&n.Ha&&!n.va?new af({ob:!0}):n.va)).Oa(n.J),e}function Ay(){if(Bc&&!(10<=Number(Yve)))throw Error("Environmental error: no available transport.")}function Rr(n,e){fn.call(this),this.g=new DG(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Hh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new $c(this)}function VG(n){Mx.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function BG(){kx.call(this),this.status=1}function $c(n){this.g=n}function mi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zx(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function $e(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(N=xt.prototype).Oa=function(n){this.M=n},N.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rx.g(),this.C=function JW(n){return n.h||(n.h=n.i())}(this.u?this.u:Rx),this.g.onreadystatechange=$n(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void wG(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=re.FormData&&n instanceof re.FormData,!(0<=AW(Nwe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{CG(this),0<this.B&&((this.L=function Owe(n){return Bc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$n(this.ua,this)):this.A=Ax(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){wG(this,s)}},N.ua=function(){void 0!==ox&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kn(this,"timeout"),this.abort(8))},N.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,kn(this,"complete"),kn(this,"abort"),Iy(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Iy(this,!0)),xt.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?EG(this):this.kb())},N.kb=function(){EG(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<Hi(this)?this.g.status:-1}catch(n){return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},N.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Rwe(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=DG.prototype).ra=8,N.H=1,N.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Jh(this,this.l,n);let s=this.s;if(this.U&&(s?(s=NW(s),FW(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xG(this,i,e),ot(t=ks(this.I),"RID",n),ot(t,"CVER",22),this.F&&ot(t,"X-HTTP-Session-Id",this.F),df(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(TG(s)))+"&"+e:this.o&&Bx(t,this.o,s)),Lx(this.i,i),this.bb&&ot(t,"TYPE","init"),this.P?(ot(t,"$req",e),ot(t,"SID","null"),i.aa=!0,Nx(i,t,null)):Nx(i,t,e),this.H=2}}else 3==this.H&&(n?AG(this,n):0==this.j.length||pG(this.i)||AG(this))},N.Ma=function(){if(this.u=null,kG(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Xh($n(this.jb,this),n)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sr(10),Ty(this),kG(this))},N.ib=function(){null!=this.v&&(this.v=null,Ty(this),jx(this),sr(19))},N.pb=function(n){n?(this.l.info("Successfully pinged google.com"),sr(2)):(this.l.info("Failed to ping google.com"),sr(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=function LG(){}.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},Ay.prototype.g=function(n,e){return new Rr(n,e)},Rr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;sr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=OG(n,null,n.Y),Dy(n)},Rr.prototype.close=function(){Ux(this.g)},Rr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Tx(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Dy(e)},Rr.prototype.N=function(){this.g.h=null,delete this.j,Ux(this.g),delete this.g,Rr.$.N.call(this)},$c.prototype.Ba=function(){kn(this.g,"a")},$c.prototype.Aa=function(n){kn(this.g,new VG(n))},$c.prototype.za=function(n){kn(this.g,new BG)},$c.prototype.ya=function(){kn(this.g,"b")},mi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},mi.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)zx(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){zx(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){zx(this,r),i=0;break}}this.h=i,this.i+=e},mi.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Bwe={};function Hx(n){return-128<=n&&128>n?function qve(n,e){var t=Bwe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new $e([0|e],0>e?-1:0)}):new $e([0|n],0>n?-1:0)}function Wi(n){if(isNaN(n)||!isFinite(n))return zc;if(0>n)return Rn(Wi(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Wx;return new $e(e,0)}var Wx=4294967296,zc=Hx(0),Gx=Hx(1),jG=Hx(16777216);function Rs(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Zr(n){return-1==n.h}function Rn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new $e(t,~n.h).add(Gx)}function xy(n,e){return n.add(Rn(e))}function My(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function hf(n,e){this.g=n,this.h=e}function ky(n,e){if(Rs(e))throw Error("division by zero");if(Rs(n))return new hf(zc,zc);if(Zr(n))return e=ky(Rn(n),e),new hf(Rn(e.g),Rn(e.h));if(Zr(e))return e=ky(n,Rn(e)),new hf(Rn(e.g),e.h);if(30<n.g.length){if(Zr(n)||Zr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Gx,r=e;0>=r.X(n);)t=$G(t),r=$G(r);var i=Hc(t,1),s=Hc(r,1);for(r=Hc(r,2),t=Hc(t,2);!Rs(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Hc(r,1),t=Hc(t,1)}return e=xy(n,i.R(e)),new hf(i,e)}for(i=zc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Wi(t)).R(e);Zr(o)||0<o.X(n);)o=(s=Wi(t-=r)).R(e);Rs(s)&&(s=Gx),i=i.add(s),n=xy(n,o)}return new hf(i,n)}function $G(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new $e(t,n.h)}function Hc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new $e(i,n.h)}(N=$e.prototype).ea=function(){if(Zr(this))return-Rn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Wx+r)*e,e*=Wx}return n},N.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Rs(this))return"0";if(Zr(this))return"-"+Rn(this).toString(n);for(var e=Wi(Math.pow(n,6)),t=this,r="";;){var i=ky(t,e).g,s=((0<(t=xy(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Rs(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},N.X=function(n){return Zr(n=xy(this,n))?-1:Rs(n)?0:1},N.abs=function(){return Zr(this)?Rn(this):this},N.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new $e(t,-2147483648&t[t.length-1]?-1:0)},N.R=function(n){if(Rs(this)||Rs(n))return zc;if(Zr(this))return Zr(n)?Rn(this).R(Rn(n)):Rn(Rn(this).R(n));if(Zr(n))return Rn(this.R(Rn(n)));if(0>this.X(jG)&&0>n.X(jG))return Wi(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,l=65535&n.D(i);t[2*r+2*i]+=o*l,My(t,2*r+2*i),t[2*r+2*i+1]+=s*l,My(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,My(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,My(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new $e(t,0)},N.gb=function(n){return ky(this,n).h},N.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new $e(t,this.h&n.h)},N.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new $e(t,this.h|n.h)},N.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new $e(t,this.h^n.h)},Ay.prototype.createWebChannel=Ay.prototype.g,Rr.prototype.send=Rr.prototype.u,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,gy.NO_ERROR=0,gy.TIMEOUT=8,gy.HTTP_ERROR=6,ZW.COMPLETE="complete",eG.EventType=Zh,Zh.OPEN="a",Zh.CLOSE="b",Zh.ERROR="c",Zh.MESSAGE="d",fn.prototype.listen=fn.prototype.O,xt.prototype.listenOnce=xt.prototype.P,xt.prototype.getLastError=xt.prototype.Sa,xt.prototype.getLastErrorCode=xt.prototype.Ia,xt.prototype.getStatus=xt.prototype.da,xt.prototype.getResponseJson=xt.prototype.Wa,xt.prototype.getResponseText=xt.prototype.ja,xt.prototype.send=xt.prototype.ha,xt.prototype.setWithCredentials=xt.prototype.Oa,mi.prototype.digest=mi.prototype.l,mi.prototype.reset=mi.prototype.reset,mi.prototype.update=mi.prototype.j,$e.prototype.add=$e.prototype.add,$e.prototype.multiply=$e.prototype.R,$e.prototype.modulo=$e.prototype.gb,$e.prototype.compare=$e.prototype.X,$e.prototype.toNumber=$e.prototype.ea,$e.prototype.toString=$e.prototype.toString,$e.prototype.getBits=$e.prototype.D,$e.fromNumber=Wi,$e.fromString=function UG(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Rn(UG(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Wi(Math.pow(e,8)),r=zc,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Wi(Math.pow(e,s)),r=r.R(s).add(Wi(o))):r=(r=r.R(t)).add(Wi(o))}return r};var Uwe=gi.createWebChannelTransport=function(){return new Ay},jwe=gi.getStatEventTarget=function(){return py()},qx=gi.ErrorCode=gy,$we=gi.EventType=ZW,zwe=gi.Event=Ua,zG=gi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Hwe=gi.FetchXmlHttpFactory=af,Ry=gi.WebChannel=eG,Wwe=gi.XhrIo=xt,Gwe=gi.Md5=mi,Wc=gi.Integer=$e;class pn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Gc="9.23.0";const Eo=new Aa("@firebase/firestore");function Kx(){return Eo.logLevel}function S(n,...e){if(Eo.logLevel<=X.DEBUG){const t=e.map(Qx);Eo.debug(`Firestore (${Gc}): ${n}`,...t)}}function Nt(n,...e){if(Eo.logLevel<=X.ERROR){const t=e.map(Qx);Eo.error(`Firestore (${Gc}): ${n}`,...t)}}function _i(n,...e){if(Eo.logLevel<=X.WARN){const t=e.map(Qx);Eo.warn(`Firestore (${Gc}): ${n}`,...t)}}function Qx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function U(n="Unexpected state"){const e=`FIRESTORE (${Gc}) INTERNAL ASSERTION FAILED: `+n;throw Nt(e),new Error(e)}function z(n,e){n||U()}function R(n,e){return n}const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Yr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class en{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class WG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qwe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pn.UNAUTHENTICATED))}shutdown(){}}class Kwe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ywe{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Xwe{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Ywe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function Jwe(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class qG{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Jwe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function te(n,e){return n<e?-1:n>e?1:0}function qc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class yt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new T(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new T(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new T(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new yt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class H{constructor(e){this.timestamp=e}static fromTimestamp(e){return new H(e)}static min(){return new H(new yt(0,0))}static max(){return new H(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ff{constructor(e,t,r){void 0===t?t=0:t>e.length&&U(),void 0===r?r=e.length-t:r>e.length-t&&U(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ff.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ff?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xe extends ff{construct(e,t,r){return new xe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new xe(t)}static emptyPath(){return new xe([])}}const ebe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends ff{construct(e,t,r){return new Ot(e,t,r)}static isValidIdentifier(e){return ebe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ot(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new T(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}class k{constructor(e){this.path=e}static fromPath(e){return new k(xe.fromString(e))}static fromName(e){return new k(xe.fromString(e).popFirst(5))}static empty(){return new k(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new k(new xe(e.slice()))}}function YG(n){return new Pr(n.readTime,n.key,-1)}class Pr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Pr(H.min(),k.empty(),-1)}static max(){return new Pr(H.max(),k.empty(),-1)}}function Xx(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=k.comparator(n.documentKey,e.documentKey),0!==t?t:te(n.largestBatchId,e.largestBatchId))}const XG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Co(n){return Zx.apply(this,arguments)}function Zx(){return Zx=_(function*(n){if(n.code!==C.FAILED_PRECONDITION||n.message!==XG)throw n;S("LocalStore","Unexpectedly lost primary lease")}),Zx.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,r)=>{t(e)})}static reject(e){return new w((t,r)=>{r(e)})}static waitFor(e){return new w((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},l=>r(l))}),o=!0,s===i&&t()})}static or(e){let t=w.resolve(!1);for(const r of e)t=t.next(i=>i?w.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new w((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,t){return new w((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function Io(n){return"IndexedDbTransactionError"===n.name}let Nr=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function mf(n){return null==n}function _f(n){return 0===n&&1/n==-1/0}function o4(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function To(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function a4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class et{constructor(e,t){this.comparator=e,this.root=t||Pn.EMPTY}insert(e,t){return new et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ly(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ly(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ly(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ly(this.root,e,this.comparator,!0)}}class Ly{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=null!=r?r:Pn.RED,this.left=null!=i?i:Pn.EMPTY,this.right=null!=s?s:Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Pn(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1,Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Pn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class at{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new l4(this.data.getIterator())}getIteratorFrom(e){return new l4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new at(this.comparator);return t.data=e,t}}class l4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mr{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new mr([])}unionWith(e){let t=new at(Ot.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new mr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class c4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw"undefined"!=typeof DOMException&&i instanceof DOMException?new c4("Invalid base64 string: "+i):i}}(e);return new tn(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const Dbe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(n){if(z(!!n),"string"==typeof n){let e=0;const t=Dbe.exec(n);if(z(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(n.seconds),nanos:Mt(n.nanos)}}function Mt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ps(n){return"string"==typeof n?tn.fromBase64String(n):tn.fromUint8Array(n)}function Vy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function By(n){const e=n.mapValue.fields.__previous_value__;return Vy(e)?By(e):e}function yf(n){const e=Do(n.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}class Sbe{constructor(e,t,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ga{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ga("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ga&&e.projectId===this.projectId&&e.database===this.database}}const So_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Ao(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vy(n)?4:f4(n)?9007199254740991:10:U()}function qi(n,e){if(n===e)return!0;const t=Ao(n);if(t!==Ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yf(n).isEqual(yf(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Do(r.timestampValue),o=Do(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ps(n.bytesValue).isEqual(Ps(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Mt(r.geoPointValue.latitude)===Mt(i.geoPointValue.latitude)&&Mt(r.geoPointValue.longitude)===Mt(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Mt(r.integerValue)===Mt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Mt(r.doubleValue),o=Mt(i.doubleValue);return s===o?_f(s)===_f(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return qc(n.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(o4(s)!==o4(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!qi(s[a],o[a])))return!1;return!0}(n,e);default:return U()}var i}function vf(n,e){return void 0!==(n.values||[]).find(t=>qi(t,e))}function xo(n,e){if(n===e)return 0;const t=Ao(n),r=Ao(e);if(t!==r)return te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return te(n.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Mt(i.integerValue||i.doubleValue),a=Mt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return u4(n.timestampValue,e.timestampValue);case 4:return u4(yf(n),yf(e));case 5:return te(n.stringValue,e.stringValue);case 6:return function(i,s){const o=Ps(i),a=Ps(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=te(o[l],a[l]);if(0!==c)return c}return te(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){const o=te(Mt(i.latitude),Mt(s.latitude));return 0!==o?o:te(Mt(i.longitude),Mt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=xo(o[l],a[l]);if(c)return c}return te(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===So_mapValue&&s===So_mapValue)return 0;if(i===So_mapValue)return 1;if(s===So_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=te(a[u],c[u]);if(0!==d)return d;const h=xo(o[a[u]],l[c[u]]);if(0!==h)return h}return te(a.length,c.length)}(n.mapValue,e.mapValue);default:throw U()}}function u4(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return te(n,e);const t=Do(n),r=Do(e),i=te(t.seconds,r.seconds);return 0!==i?i:te(t.nanos,r.nanos)}function Qc(n){return tM(n)}function tM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Do(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ps(n.bytesValue).toBase64():"referenceValue"in n?k.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=tM(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${tM(r.fields[a])}`;return s+"}"}(n.mapValue):U();var e}function nM(n){return!!n&&"integerValue"in n}function wf(n){return!!n&&"arrayValue"in n}function d4(n){return!!n&&"nullValue"in n}function h4(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $y(n){return!!n&&"mapValue"in n}function bf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return To(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function f4(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$y(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bf(t)}setAll(e){let t=Ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=bf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());$y(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];$y(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){To(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Nn(bf(this.value))}}function m4(n){const e=[];return To(n.fields,(t,r)=>{const i=new Ot([t]);if($y(r)){const s=m4(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new mr(e)}class lt{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new lt(e,0,H.min(),H.min(),H.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,i){return new lt(e,1,t,H.min(),r,i,0)}static newNoDocument(e,t){return new lt(e,2,t,H.min(),H.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new lt(e,3,t,H.min(),H.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(H.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=H.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mo{constructor(e,t){this.position=e,this.inclusive=t}}function _4(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?k.comparator(k.fromName(o.referenceValue),t.key):xo(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function y4(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qi(n.position[t],e.position[t]))return!1;return!0}class Yc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Mbe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class v4{}class Ce extends v4{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new kbe(e,t,r):"array-contains"===t?new Nbe(e,r):"in"===t?new T4(e,r):"not-in"===t?new Obe(e,r):"array-contains-any"===t?new Fbe(e,r):new Ce(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Rbe(e,r):new Pbe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(xo(t,this.value)):null!==t&&Ao(this.value)===Ao(t)&&this.matchesComparison(xo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return U()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ze extends v4{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ze(e,t)}matches(e){return Xc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Xc(n){return"and"===n.op}function iM(n){return function w4(n){for(const e of n.filters)if(e instanceof ze)return!1;return!0}(n)&&Xc(n)}function sM(n){if(n instanceof Ce)return n.field.canonicalString()+n.op.toString()+Qc(n.value);if(iM(n))return n.filters.map(e=>sM(e)).join(",");{const e=n.filters.map(t=>sM(t)).join(",");return`${n.op}(${e})`}}function b4(n,e){return n instanceof Ce?(t=n,(r=e)instanceof Ce&&t.op===r.op&&t.field.isEqual(r.field)&&qi(t.value,r.value)):n instanceof ze?function(t,r){return r instanceof ze&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,s,o)=>i&&b4(s,r.filters[o]),!0)}(n,e):void U();var t,r}function C4(n){return n instanceof Ce?`${(e=n).field.canonicalString()} ${e.op} ${Qc(e.value)}`:n instanceof ze?function(e){return e.op.toString()+" {"+e.getFilters().map(C4).join(" ,")+"}"}(n):"Filter";var e}class kbe extends Ce{constructor(e,t,r){super(e,t,r),this.key=k.fromName(r.referenceValue)}matches(e){const t=k.comparator(e.key,this.key);return this.matchesComparison(t)}}class Rbe extends Ce{constructor(e,t){super(e,"in",t),this.keys=I4(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Pbe extends Ce{constructor(e,t){super(e,"not-in",t),this.keys=I4(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function I4(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>k.fromName(r.referenceValue))}class Nbe extends Ce{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wf(t)&&vf(t.arrayValue,this.value)}}class T4 extends Ce{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vf(this.value.arrayValue,t)}}class Obe extends Ce{constructor(e,t){super(e,"not-in",t)}matches(e){if(vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!vf(this.value.arrayValue,t)}}class Fbe extends Ce{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>vf(this.value.arrayValue,r))}}class Lbe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function oM(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Lbe(n,e,t,r,i,s,o)}function Ka(n){const e=R(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>sM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),mf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qc(r)).join(",")),e.dt=t}return e.dt}function Ef(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Mbe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!b4(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!y4(n.startAt,e.startAt)&&y4(n.endAt,e.endAt)}function zy(n){return k.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ns{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null}}function Zc(n){return new Ns(n)}function x4(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Qa(n){const e=R(n);if(null===e.wt){e.wt=[];const t=function Wy(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function aM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Yc(t)),e.wt.push(new Yc(Ot.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Yc(Ot.keyField(),s))}}}return e.wt}function or(n){const e=R(n);if(!e._t)if("F"===e.limitType)e._t=oM(e.path,e.collectionGroup,Qa(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Qa(e))t.push(new Yc(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Mo(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Mo(e.startAt.position,e.startAt.inclusive):null;e._t=oM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Gy(n,e,t){return new Ns(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cf(n,e){return Ef(or(n),or(e))&&n.limitType===e.limitType}function M4(n){return`${Ka(or(n))}|lt:${n.limitType}`}function uM(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>C4(r)).join(", ")}]`),mf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qc(r)).join(",")),`Target(${t})`}(or(n))}; limitType=${n.limitType})`}function If(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):k.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Qa(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,s,o){const a=_4(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Qa(t),r)||t.endAt&&!function(i,s,o){const a=_4(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Qa(t),r)));var t,r}function R4(n){return(e,t)=>{let r=!1;for(const i of Qa(n)){const s=Vbe(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Vbe(n,e,t){const r=n.field.isKeyField()?k.comparator(e.key,t.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?xo(a,l):U()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}class Os{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return a4(this.inner)}size(){return this.innerSize}}const Bbe=new et(k.comparator);function _r(){return Bbe}const P4=new et(k.comparator);function Tf(...n){let e=P4;for(const t of n)e=e.insert(t.key,t);return e}function N4(n){let e=P4;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ki(){return Df()}function O4(){return Df()}function Df(){return new Os(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ube=new et(k.comparator),jbe=new at(k.comparator);function ue(...n){let e=jbe;for(const t of n)e=e.add(t);return e}const $be=new at(te);function F4(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(e)?"-0":e}}function L4(n){return{integerValue:""+n}}function V4(n,e){return function JG(n){return"number"==typeof n&&Number.isInteger(n)&&!_f(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?L4(e):F4(n,e)}class qy{constructor(){this._=void 0}}function zbe(n,e,t){return n instanceof Jc?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Vy(i)&&(i=By(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof Ya?U4(n,e):n instanceof Xa?j4(n,e):function(r,i){const s=B4(r,i),o=$4(s)+$4(r.gt);return nM(s)&&nM(r.gt)?L4(o):F4(r.serializer,o)}(n,e)}function Hbe(n,e,t){return n instanceof Ya?U4(n,e):n instanceof Xa?j4(n,e):t}function B4(n,e){return n instanceof eu?nM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Jc extends qy{}class Ya extends qy{constructor(e){super(),this.elements=e}}function U4(n,e){const t=z4(e);for(const r of n.elements)t.some(i=>qi(i,r))||t.push(r);return{arrayValue:{values:t}}}class Xa extends qy{constructor(e){super(),this.elements=e}}function j4(n,e){let t=z4(e);for(const r of n.elements)t=t.filter(i=>!qi(i,r));return{arrayValue:{values:t}}}class eu extends qy{constructor(e,t){super(),this.serializer=e,this.gt=t}}function $4(n){return Mt(n.integerValue||n.doubleValue)}function z4(n){return wf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gbe{constructor(e,t){this.version=e,this.transformResults=t}}class ft{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ft}static exists(e){return new ft(void 0,e)}static updateTime(e){return new ft(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ky(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Qy{}function H4(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new nu(n.key,ft.none()):new tu(n.key,n.data,ft.none());{const t=n.data,r=Nn.empty();let i=new at(Ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Fs(n.key,r,new mr(i.toArray()),ft.none())}}function qbe(n,e,t){n instanceof tu?function(r,i,s){const o=r.value.clone(),a=q4(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Fs?function(r,i,s){if(!Ky(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=q4(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(G4(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Af(n,e,t,r){return n instanceof tu?function(i,s,o,a){if(!Ky(i.precondition,s))return o;const l=i.value.clone(),c=K4(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Fs?function(i,s,o,a){if(!Ky(i.precondition,s))return o;const l=K4(i.fieldTransforms,a,s),c=s.data;return c.setAll(G4(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(n,e,t,r):(o=t,Ky(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Kbe(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=B4(r.transform,i||null);null!=s&&(null===t&&(t=Nn.empty()),t.set(r.field,s))}return t||null}function W4(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&qc(t,r,(i,s)=>function Wbe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ya&&r instanceof Ya||t instanceof Xa&&r instanceof Xa?qc(t.elements,r.elements,qi):t instanceof eu&&r instanceof eu?qi(t.gt,r.gt):t instanceof Jc&&r instanceof Jc);var t,r}(i,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class tu extends Qy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fs extends Qy{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function G4(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function q4(n,e,t){const r=new Map;z(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Hbe(o,a,t[i]))}return r}function K4(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,zbe(s,o,e))}return r}class nu extends Qy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hM extends Qy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&qbe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Af(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Af(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=O4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const l=H4(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(H.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&qc(this.mutations,e.mutations,(t,r)=>W4(t,r))&&qc(this.baseMutations,e.baseMutations,(t,r)=>W4(t,r))}}class pM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){z(e.mutations.length===r.length);let i=Ube;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new pM(e,t,r,i)}}class gM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ybe{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wt,Me;function Q4(n){switch(n){default:return U();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function Y4(n){if(void 0===n)return Nt("GRPC error has no .code"),C.UNKNOWN;switch(n){case Wt.OK:return C.OK;case Wt.CANCELLED:return C.CANCELLED;case Wt.UNKNOWN:return C.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return C.INTERNAL;case Wt.UNAVAILABLE:return C.UNAVAILABLE;case Wt.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Wt.NOT_FOUND:return C.NOT_FOUND;case Wt.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Wt.ABORTED:return C.ABORTED;case Wt.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Wt.DATA_LOSS:return C.DATA_LOSS;default:return U()}}(Me=Wt||(Wt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";class mM{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yy}static getOrCreateInstance(){return null===Yy&&(Yy=new mM),Yy}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Yy=null;const Xbe=new Wc([4294967295,4294967295],0);function Z4(n){const e=function X4(){return new TextEncoder}().encode(n),t=new Gwe;return t.update(e),new Uint8Array(t.digest())}function J4(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wc([t,r],0),new Wc([i,s],0)]}class _M{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xf(`Invalid padding: ${t}`);if(r<0)throw new xf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new xf(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new xf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Wc.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Wc.fromNumber(r)));return 1===i.compare(Xbe)&&(i=new Wc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Z4(e),[r,i]=J4(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _M(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const t=Z4(e),[r,i]=J4(t);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class xf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mf{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,kf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Mf(H.min(),i,new et(te),_r(),ue())}}class kf{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new kf(r,t,ue(),ue(),ue())}}class Xy{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class eq{constructor(e,t){this.targetId=e,this.Vt=t}}class tq{constructor(e,t,r=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class nq{constructor(){this.St=0,this.Dt=iq(),this.Ct=tn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ue(),t=ue(),r=ue();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:U()}}),new kf(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=iq()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Zbe{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=_r(),this.zt=rq(),this.Wt=new et(te)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:U()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(zy(o))if(0===i){const a=new k(o.path);this.Yt(r,a,lt.newNoDocument(a,H.min()))}else z(1===i);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);0!==l&&(this.ee(r),this.Wt=this.Wt.insert(r,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=mM.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(c,u,d){var h,f,p,g,m,v;const y={localCacheCount:u,existenceFilterCount:d.count},I=d.unchangedNames;return I&&(y.bloomFilter={applied:0===c,hashCount:null!==(h=null==I?void 0:I.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=null==I?void 0:I.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(v=null===(m=null==I?void 0:I.bits)||void 0===m?void 0:m.padding)&&void 0!==v?v:0}),y}(l,a,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,c;try{l=Ps(s).toUint8Array()}catch(u){if(u instanceof c4)return _i("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new _M(l,o,a)}catch(u){return _i(u instanceof xf?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return 0===c.It?1:i!==t-this.oe(e.targetId,c)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&zy(a.target)){const l=new k(a.target.path);null!==this.jt.get(l)||this.ae(o,l)||this.Yt(o,l,lt.newNoDocument(l,e))}s.Mt&&(t.set(o,s.Ot()),s.Ft())}});let r=ue();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.se(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Mf(e,t,this.Wt,this.jt,r);return this.jt=_r(),this.zt=rq(),this.Wt=new et(te),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new nq,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new at(te),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new nq),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function rq(){return new et(k.comparator)}function iq(){return new et(k.comparator)}const Jbe=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),eEe=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),tEe=(()=>({and:"AND",or:"OR"}))();class nEe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yM(n,e){return n.useProto3Json||mf(e)?e:{value:e}}function ru(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sq(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rEe(n,e){return ru(n,e.toTimestamp())}function Ft(n){return z(!!n),H.fromTimestamp(function(e){const t=Do(e);return new yt(t.seconds,t.nanos)}(n))}function vM(n,e){return(t=n,new xe(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function oq(n){const e=xe.fromString(n);return z(gq(e)),e}function Rf(n,e){return vM(n.databaseId,e.path)}function Qi(n,e){const t=oq(e);if(t.get(1)!==n.databaseId.projectId)throw new T(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new T(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new k(lq(t))}function wM(n,e){return vM(n.databaseId,e)}function Pf(n){return new xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lq(n){return z(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function cq(n,e,t){return{name:Rf(n,e),fields:t.value.mapValue.fields}}function dq(n,e){return{documents:[wM(n,e.path)]}}function EM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=wM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return pq(ze.create(l,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:ko((u=c).field),direction:lEe(u.dir)};var u})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=yM(n,e.limit);var a,l;return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),t}function hq(n){let e=function aq(n){const e=oq(n);return 4===e.length?xe.emptyPath():lq(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){z(1===r);const u=t.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];t.where&&(s=function(u){const d=fq(u);return d instanceof ze&&iM(d)?d.getFilters():[d]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(u=>{return new Yc(iu((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;t.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,mf(d)?null:d}(t.limit));let l=null;var u;t.startAt&&(l=new Mo((u=t.startAt).values||[],!!u.before));let c=null;return t.endAt&&(c=function(u){return new Mo(u.values||[],!u.before)}(t.endAt)),function A4(n,e,t,r,i,s,o,a){return new Ns(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function fq(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=iu(e.unaryFilter.field);return Ce.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=iu(e.unaryFilter.field);return Ce.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=iu(e.unaryFilter.field);return Ce.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=iu(e.unaryFilter.field);return Ce.create(s,"!=",{nullValue:"NULL_VALUE"});default:return U()}}(n):void 0!==n.fieldFilter?Ce.create(iu((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ze.create(e.compositeFilter.filters.map(t=>fq(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return U()}}(e.compositeFilter.op))}(n):U();var e}function lEe(n){return Jbe[n]}function cEe(n){return eEe[n]}function uEe(n){return tEe[n]}function ko(n){return{fieldPath:n.canonicalString()}}function iu(n){return Ot.fromServerFormat(n.fieldPath)}function pq(n){return n instanceof Ce?function(e){if("=="===e.op){if(h4(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NAN"}};if(d4(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(h4(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NOT_NAN"}};if(d4(e.value))return{unaryFilter:{field:ko(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(e.field),op:cEe(e.op),value:e.value}}}(n):n instanceof ze?function(e){const t=e.getFilters().map(r=>pq(r));return 1===t.length?t[0]:{compositeFilter:{op:uEe(e.op),filters:t}}}(n):U()}function dEe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gq(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ls{constructor(e,t,r,i,s=H.min(),o=H.min(),a=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class mq{constructor(e){this.fe=e}}function CM(n){const e=hq({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Gy(e,e.limit,"L"):e}class tl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Mt(e.integerValue));else if("doubleValue"in e){const r=Mt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),_f(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ps(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?f4(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):U()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),k.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}tl.Ve=new tl;class wEe{constructor(){this.rn=new xM}addToCollectionParentIndex(e,t){return this.rn.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve(Pr.min())}updateCollectionGroup(e,t,r){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class xM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new at(xe.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(xe.comparator)).toArray()}}class Wn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(41943040,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);class rl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new rl(0)}static Mn(){return new rl(-1)}}class xEe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class $q{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Af(r.mutation,i,mr.empty(),yt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){const i=Ki();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Tf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Ki();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=_r();const o=Df(),a=Df();return t.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof Fs)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),Af(u.mutation,c,u.mutation.getFieldMask(),yt.now())):o.set(c.key,mr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new xEe(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Df();let i=new et((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=r.get(l)||mr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=O4();u.forEach(h=>{if(!s.has(h)){const f=H4(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return k.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function lM(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):w.resolve(Ki());let a=-1,l=s;return o.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?w.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ue())).next(u=>({batchId:a,changes:N4(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new k(t)).next(r=>{let i=Tf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let s=Tf();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const l=(c=t,u=a.child(i),new Ns(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,lt.newInvalidDocument(c)))});let o=Tf();return s.forEach((a,l)=>{const c=i.get(a);void 0!==c&&Af(c.mutation,l,mr.empty(),yt.now()),If(t,l)&&(o=o.insert(a,l))}),o})}}class MEe{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return w.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Ft(r.createTime)}),w.resolve()}getNamedQuery(e,t){return w.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:CM(r.bundledQuery),readTime:Ft(r.readTime)}),w.resolve();var r}}class kEe{constructor(){this.overlays=new et(k.comparator),this.ls=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ki();return w.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.we(e,t,s)}),w.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),w.resolve()}getOverlaysForCollection(e,t,r){const i=Ki(),s=t.length+1,o=new k(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return w.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new et((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=Ki(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ki(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return w.resolve(a)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gM(t,r));let s=this.ls.get(t);void 0===s&&(s=ue(),this.ls.set(t,s)),this.ls.set(t,s.add(r.key))}}class MM{constructor(){this.fs=new at(mn.ds),this.ws=new at(mn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new mn(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new mn(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new k(new xe([])),r=new mn(t,e),i=new mn(t,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new k(new xe([])),r=new mn(t,e),i=new mn(t,e+1);let s=ue();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new mn(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class mn{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return k.comparator(e.key,t.key)||te(e.As,t.As)}static _s(e,t){return te(e.As,t.As)||k.comparator(e.key,t.key)}}class REe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new at(mn.ds)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.vs;this.vs++;const o=new fM(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new mn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,t){return w.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new mn(t,0),i=new mn(t,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(te);return t.forEach(i=>{const s=new mn(i,0),o=new mn(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),w.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;k.isDocumentKey(s)||(s=s.child(""));const o=new mn(new k(s),0);let a=new at(te);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.As)),!0)},o),w.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){z(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return w.forEach(t.mutations,i=>{const s=new mn(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new mn(t,0),i=this.Rs.firstAfterOrEqual(r);return w.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class PEe{constructor(e){this.Ds=e,this.docs=new et(k.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return w.resolve(r?r.document.mutableCopy():lt.newInvalidDocument(t))}getEntries(e,t){let r=_r();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():lt.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=_r();const o=t.path,a=new k(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Xx(YG(u),r)<=0||(i.has(u.key)||If(t,u))&&(s=s.insert(u.key,u.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,t,r,i){U()}Cs(e,t){return w.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new NEe(this)}getSize(e){return w.resolve(this.size)}}class NEe extends class DEe{constructor(){this.changes=new Os(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?w.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),w.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class OEe{constructor(e){this.persistence=e,this.xs=new Os(t=>Ka(t),Ef),this.lastRemoteSnapshotVersion=H.min(),this.highestTargetId=0,this.Ns=0,this.ks=new MM,this.targetCount=0,this.Ms=rl.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),w.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new rl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.Fn(t),w.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return w.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),w.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),w.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return w.resolve(r)}containsKey(e,t){return w.resolve(this.ks.containsKey(t))}}class kM{constructor(e,t){this.$s={},this.overlays={},this.Os=new Nr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new OEe(this),this.indexManager=new wEe,this.remoteDocumentCache=new PEe(r=>this.referenceDelegate.Ls(r)),this.serializer=new mq(t),this.qs=new MEe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kEe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new REe(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){S("MemoryPersistence","Starting transaction:",e);const i=new FEe(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,t){return w.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class FEe extends class rbe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class ov{constructor(e){this.persistence=e,this.Qs=new MM,this.js=null}static zs(e){return new ov(e)}get Ws(){if(this.js)return this.js;throw U()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),w.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),w.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Ws,r=>{const i=k.fromPath(r);return this.Hs(e,i).next(s=>{s||t.removeEntry(i,H.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return w.or([()=>w.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class OM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=ue(),i=ue();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new OM(e,t.fromCache,r,i)}}class Hq{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(s=>s||this.Gi(e,t,i,r)).next(s=>s||this.Qi(e,t))}Ki(e,t){if(x4(t))return w.resolve(null);let r=or(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Gy(t,null,"F"),r=or(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(t,a);return this.zi(t,c,o,l.readTime)?this.Ki(e,Gy(t,null,"F")):this.Wi(e,c,t,l)}))})))}Gi(e,t,r,i){return x4(t)||i.isEqual(H.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(t,s);return this.zi(t,o,r,i)?this.Qi(e,t):(Kx()<=X.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uM(t)),this.Wi(e,o,t,function QG(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=H.fromTimestamp(1e9===r?new yt(t+1,0):new yt(t,r));return new Pr(i,k.empty(),e)}(i,-1)))})}ji(e,t){let r=new at(R4(e));return t.forEach((i,s)=>{If(e,s)&&(r=r.add(s))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,t){return Kx()<=X.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",uM(t)),this.Ui.getDocumentsMatchingQuery(e,t,Pr.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class VEe{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new et(te),this.Yi=new Os(s=>Ka(s),Ef),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $q(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Gq(n,e){return FM.apply(this,arguments)}function FM(){return FM=_(function*(n,e){const t=R(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),FM.apply(this,arguments)}function BEe(n,e){const t=R(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=l.docVersions.get(f);z(null!==g),p.version.compareTo(g)<0&&(u.applyToRemoteDocument(p,l),p.isValidDocument()&&(p.setReadTime(l.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ue();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function qq(n){const e=R(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function UEe(n,e){const t=R(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(t.Bs.removeMatchingKeys(s,u.removedDocuments,d).next(()=>t.Bs.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(tn.EMPTY_BYTE_STRING,H.min()).withLastLimboFreeSnapshotVersion(H.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),g=f,m=u,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(t.Bs.updateTargetData(s,f))});let l=_r(),c=ue();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function Kq(n,e,t){let r=ue(),i=ue();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=_r();return t.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(H.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(u=>{l=u.nr,c=u.sr})),!r.isEqual(H.min())){const u=t.Bs.getLastRemoteSnapshotVersion(s).next(d=>t.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(t.Ji=i,s))}function jEe(n,e){const t=R(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function au(n,e){const t=R(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):t.Bs.allocateTargetId(r).next(o=>(i=new Ls(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function lu(n,e,t){return LM.apply(this,arguments)}function LM(){return LM=_(function*(n,e,t){const r=R(n),i=r.Ji.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Io(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),LM.apply(this,arguments)}function cv(n,e,t){const r=R(n);let i=H.min(),s=ue();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=R(a),d=u.Yi.get(c);return void 0!==d?w.resolve(u.Ji.get(d)):u.Bs.getTargetData(l,c)}(r,o,or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,t?i:H.min(),t?s:ue())).next(a=>(function Xq(n,e,t){let r=n.Xi.get(e)||H.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Xi.set(e,r)}(r,function k4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ir:s})))}class $M{constructor(){this.activeTargetIds=function dM(){return $be}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class e3{constructor(){this.Hr=new $M,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new $M,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HEe{Yr(e){}shutdown(){}}class t3{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hv=null;function HM(){return null===hv?hv=268435456+Math.round(2147483648*Math.random()):hv++,"0x"+hv.toString(16)}const WEe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GEe{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Gn="WebChannelConnection";class qEe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,s){const o=HM(),a=this.To(e,t);S("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(e,a,l,r).then(c=>(S("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw _i("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,t,r,i,s,o){return this.Io(e,t,r,i,s)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Gc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,t){return`${this.mo}/v1/${t}:${WEe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const s=HM();return new Promise((o,a)=>{const l=new Wwe;l.setWithCredentials(!0),l.listenOnce($we.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case qx.NO_ERROR:const u=l.getResponseJson();S(Gn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case qx.TIMEOUT:S(Gn,`RPC '${e}' ${s} timed out`),a(new T(C.DEADLINE_EXCEEDED,"Request time out"));break;case qx.HTTP_ERROR:const d=l.getStatus();if(S(Gn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=null==h?void 0:h.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(m)>=0?m:C.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(C.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new T(C.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{S(Gn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(Gn,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",c,r,15)})}Ro(e,t,r){const i=HM(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Uwe(),a=jwe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Hwe({})),this.Eo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=s.join("");S(Gn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let h=!1,f=!1;const p=new GEe({ro:m=>{f?S(Gn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(S(Gn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(Gn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,v,y)=>{m.listen(v,I=>{try{y(I)}catch(x){setTimeout(()=>{throw x},0)}})};return g(d,Ry.EventType.OPEN,()=>{f||S(Gn,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Ry.EventType.CLOSE,()=>{f||(f=!0,S(Gn,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Ry.EventType.ERROR,m=>{f||(f=!0,_i(Gn,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new T(C.UNAVAILABLE,"The operation could not be completed")))}),g(d,Ry.EventType.MESSAGE,m=>{var v;if(!f){const y=m.data[0];z(!!y);const I=y,x=I.error||(null===(v=I[0])||void 0===v?void 0:v.error);if(x){S(Gn,`RPC '${e}' stream ${i} received error:`,x);const $=x.status;let G=function(wt){const Kt=Wt[wt];if(void 0!==Kt)return Y4(Kt)}($),fe=x.message;void 0===G&&(G=C.INTERNAL,fe="Unknown error status: "+$+" with message "+x.message),f=!0,p.wo(new T(G,fe)),d.close()}else S(Gn,`RPC '${e}' stream ${i} received:`,y),p._o(y)}}),g(a,zwe.STAT_EVENT,m=>{m.stat===zG.PROXY?S(Gn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===zG.NOPROXY&&S(Gn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function fv(){return"undefined"!=typeof document?document:null}function zf(n){return new nEe(n,!0)}class WM{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class r3{constructor(e,t,r,i,s,o,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new WM(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return _(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return _(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return _(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===C.RESOURCE_EXHAUSTED?(Nt(t.toString()),Nt("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===C.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new T(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(_(function*(){e.state=0,e.start()}))}tu(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KEe extends r3{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function sEe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:U(),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(z(void 0===c||"string"==typeof c),tn.fromBase64String(c||"")):(z(void 0===c||c instanceof Uint8Array),tn.fromUint8Array(c||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?C.UNKNOWN:Y4(l.code);return new T(c,l.message||"")}(o);t=new tq(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Qi(n,r.document.name),s=Ft(r.document.updateTime),o=r.document.createTime?Ft(r.document.createTime):H.min(),a=new Nn({mapValue:{fields:r.document.fields}}),l=lt.newFoundDocument(i,s,o,a);t=new Xy(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=Qi(n,r.document),s=r.readTime?Ft(r.readTime):H.min(),o=lt.newNoDocument(i,s);t=new Xy([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Qi(n,r.document);t=new Xy([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return U();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Ybe(i,s);t=new eq(r.targetId,o)}}var l;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return H.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?H.min():s.readTime?Ft(s.readTime):H.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Pf(this.serializer),t.addTarget=function(i,s){let o;const a=s.target;if(o=zy(a)?{documents:dq(i,a)}:{query:EM(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=sq(i,s.resumeToken);const l=yM(i,s.expectedCount);null!==l&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(H.min())>0){o.readTime=ru(i,s.snapshotVersion.toTimestamp());const l=yM(i,s.expectedCount);null!==l&&(o.expectedCount=l)}return o}(this.serializer,e);const r=function aEe(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return U()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Pf(this.serializer),t.removeTarget=e,this.Wo(t)}}class QEe extends r3{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function oEe(n,e){return n&&n.length>0?(z(void 0!==e),n.map(t=>function(r,i){let s=Ft(r.updateTime?r.updateTime:i);return s.isEqual(H.min())&&(s=Ft(i)),new Gbe(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ft(e.commitTime);return this.listener.cu(r,t)}return z(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Pf(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Nf(n,e){let t;if(e instanceof tu)t={update:cq(n,e.key,e.value)};else if(e instanceof nu)t={delete:Rf(n,e.key)};else if(e instanceof Fs)t={update:cq(n,e.key,e.data),updateMask:dEe(e.fieldMask)};else{if(!(e instanceof hM))return U();t={verify:Rf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Jc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ya)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Xa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof eu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw U()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:rEe(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:U()),t;var i}(this.serializer,r))};this.Wo(t)}}class YEe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(C.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(C.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(C.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class ZEe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Nt(t),this.mu=!1):S("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class JEe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(_(function*(){var l;Oo(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(l=_(function*(c){const u=R(c);u.vu.add(4),yield cu(u),u.bu.set("Unknown"),u.vu.delete(4),yield Hf(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.bu=new ZEe(r,i)}}function Hf(n){return qM.apply(this,arguments)}function qM(){return qM=_(function*(n){if(Oo(n))for(const e of n.Ru)yield e(!0)}),qM.apply(this,arguments)}function cu(n){return KM.apply(this,arguments)}function KM(){return KM=_(function*(n){for(const e of n.Ru)yield e(!1)}),KM.apply(this,arguments)}function pv(n,e){const t=R(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),XM(t)?YM(t):du(t).Ko()&&QM(t,e))}function Wf(n,e){const t=R(n),r=du(t);t.Au.delete(e),r.Ko()&&s3(t,e),0===t.Au.size&&(r.Ko()?r.jo():Oo(t)&&t.bu.set("Unknown"))}function QM(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(H.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}du(n).su(e)}function s3(n,e){n.Vu.qt(e),du(n).iu(e)}function YM(n){n.Vu=new Zbe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),du(n).start(),n.bu.gu()}function XM(n){return Oo(n)&&!du(n).Uo()&&n.Au.size>0}function Oo(n){return 0===R(n).vu.size}function o3(n){n.Vu=void 0}function eCe(n){return ZM.apply(this,arguments)}function ZM(){return ZM=_(function*(n){n.Au.forEach((e,t)=>{QM(n,e)})}),ZM.apply(this,arguments)}function tCe(n,e){return JM.apply(this,arguments)}function JM(){return JM=_(function*(n,e){o3(n),XM(n)?(n.bu.Iu(e),YM(n)):n.bu.set("Unknown")}),JM.apply(this,arguments)}function nCe(n,e,t){return ek.apply(this,arguments)}function ek(){return ek=_(function*(n,e,t){if(n.bu.set("Online"),e instanceof tq&&2===e.state&&e.cause)try{yield(r=_(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(n,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gv(n,r)}else if(e instanceof Xy?n.Vu.Ht(e):e instanceof eq?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(H.min()))try{const r=yield qq(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(l);c&&i.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(tn.EMPTY_BYTE_STRING,c.snapshotVersion)),s3(i,a);const u=new Ls(c.target,a,l,c.sequenceNumber);QM(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield gv(n,r)}var r}),ek.apply(this,arguments)}function gv(n,e,t){return tk.apply(this,arguments)}function tk(){return tk=_(function*(n,e,t){if(!Io(e))throw e;n.vu.add(1),yield cu(n),n.bu.set("Offline"),t||(t=()=>qq(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){S("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Hf(n)}))}),tk.apply(this,arguments)}function a3(n,e){return e().catch(t=>gv(n,t,e))}function uu(n){return nk.apply(this,arguments)}function nk(){return nk=_(function*(n){const e=R(n),t=Fo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;rCe(e);)try{const i=yield jEe(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,iCe(e,i)}catch(i){yield gv(e,i)}l3(e)&&c3(e)}),nk.apply(this,arguments)}function rCe(n){return Oo(n)&&n.Eu.length<10}function iCe(n,e){n.Eu.push(e);const t=Fo(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function l3(n){return Oo(n)&&!Fo(n).Uo()&&n.Eu.length>0}function c3(n){Fo(n).start()}function sCe(n){return rk.apply(this,arguments)}function rk(){return rk=_(function*(n){Fo(n).hu()}),rk.apply(this,arguments)}function oCe(n){return ik.apply(this,arguments)}function ik(){return ik=_(function*(n){const e=Fo(n);for(const t of n.Eu)e.uu(t.mutations)}),ik.apply(this,arguments)}function aCe(n,e,t){return sk.apply(this,arguments)}function sk(){return sk=_(function*(n,e,t){const r=n.Eu.shift(),i=pM.from(r,e,t);yield a3(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield uu(n)}),sk.apply(this,arguments)}function lCe(n,e){return ok.apply(this,arguments)}function ok(){return ok=_(function*(n,e){var t;e&&Fo(n).ou&&(yield(t=_(function*(r,i){if(Q4(s=i.code)&&s!==C.ABORTED){const o=r.Eu.shift();Fo(r).Qo(),yield a3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield uu(r)}var s}),function(r,i){return t.apply(this,arguments)})(n,e)),l3(n)&&c3(n)}),ok.apply(this,arguments)}function u3(n,e){return ak.apply(this,arguments)}function ak(){return ak=_(function*(n,e){const t=R(n);t.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Oo(t);t.vu.add(3),yield cu(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Hf(t)}),ak.apply(this,arguments)}function ck(){return ck=_(function*(n,e){const t=R(n);e?(t.vu.delete(2),yield Hf(t)):e||(t.vu.add(2),yield cu(t),t.bu.set("Unknown"))}),ck.apply(this,arguments)}function du(n){return n.Su||(n.Su=function(e,t,r){const i=R(e);return i.fu(),new KEe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:eCe.bind(null,n),ao:tCe.bind(null,n),nu:nCe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Su.Qo(),XM(n)?YM(n):n.bu.set("Unknown")):(yield n.Su.stop(),o3(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Fo(n){return n.Du||(n.Du=function(e,t,r){const i=R(e);return i.fu(),new QEe(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:sCe.bind(null,n),ao:lCe.bind(null,n),au:oCe.bind(null,n),cu:aCe.bind(null,n)}),n.Ru.push(function(){var e=_(function*(t){t?(n.Du.Qo(),yield uu(n)):(yield n.Du.stop(),n.Eu.length>0&&(S("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class uk{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new uk(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hu(n,e){if(Nt("AsyncQueue",`${e}: ${n}`),Io(n))return new T(C.UNAVAILABLE,`${e}: ${n}`);throw n}class fu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||k.comparator(t.key,r.key):(t,r)=>k.comparator(t.key,r.key),this.keyedMap=Tf(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new fu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new fu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class d3{constructor(){this.Cu=new et(k.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):U():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class pu{constructor(e,t,r,i,s,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new pu(e,t,fu.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class cCe{constructor(){this.Nu=void 0,this.listeners=[]}}class uCe{constructor(){this.queries=new Os(e=>M4(e),Cf),this.onlineState="Unknown",this.ku=new Set}}function dk(n,e){return hk.apply(this,arguments)}function hk(){return hk=_(function*(n,e){const t=R(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new cCe),i)try{s.Nu=yield t.onListen(r)}catch(o){const a=hu(o,`Initialization of query '${uM(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Mu(t.onlineState),s.Nu&&e.$u(s.Nu)&&gk(t)}),hk.apply(this,arguments)}function fk(n,e){return pk.apply(this,arguments)}function pk(){return pk=_(function*(n,e){const t=R(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),pk.apply(this,arguments)}function dCe(n,e){const t=R(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&gk(t)}function hCe(n,e,t){const r=R(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function gk(n){n.ku.forEach(e=>{e.next()})}class mk{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new pu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=pu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class p3{constructor(e){this.key=e}}class g3{constructor(e){this.key=e}}class m3{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ue(),this.mutatedKeys=ue(),this.tc=R4(e),this.ec=new fu(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new d3,i=t?t.ec:this.ec;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=If(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(l&&this.tc(f,l)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(l||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return f(d)-f(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(r);const o=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,0!==s.length||l?{snapshot:new pu(this.query,e.ec,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new d3,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ue(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new g3(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new p3(r))}),t}hc(e){this.Yu=e.ir,this.Zu=ue();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return pu.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class gCe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mCe{constructor(e){this.key=e,this.fc=!1}}class _Ce{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Os(a=>M4(a),Cf),this._c=new Map,this.mc=new Set,this.gc=new et(k.comparator),this.yc=new Map,this.Ic=new MM,this.Tc={},this.Ec=new Map,this.Ac=rl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function yCe(n,e){return _k.apply(this,arguments)}function _k(){return _k=_(function*(n,e){const t=Uk(n);let r,i;const s=t.wc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield au(t.localStore,or(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield yk(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&pv(t.remoteStore,o)}return i}),_k.apply(this,arguments)}function yk(n,e,t,r,i){return vk.apply(this,arguments)}function vk(){return vk=_(function*(n,e,t,r,i){n.Rc=(d,h,f)=>{return(p=_(function*(g,m,v,y){let I=m.view.sc(v);I.zi&&(I=yield cv(g.localStore,m.query,!1).then(({documents:G})=>m.view.sc(G,I)));const x=y&&y.targetChanges.get(m.targetId),$=m.view.applyChanges(I,g.isPrimaryClient,x);return xk(g,m.targetId,$.cc),$.snapshot}),function(g,m,v,y){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield cv(n.localStore,e,!0),o=new m3(e,s.ir),a=o.sc(s.documents),l=kf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,l);xk(n,t,c.cc);const u=new gCe(e,t,o);return n.wc.set(e,u),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),c.snapshot}),vk.apply(this,arguments)}function vCe(n,e){return wk.apply(this,arguments)}function wk(){return wk=_(function*(n,e){const t=R(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(s=>!Cf(s,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield lu(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Wf(t.remoteStore,r.targetId),gu(t,r.targetId)}).catch(Co))):(gu(t,r.targetId),yield lu(t.localStore,r.targetId,!0))}),wk.apply(this,arguments)}function bk(){return bk=_(function*(n,e,t){const r=jk(n);try{const i=yield function(s,o){const a=R(s),l=yt.now(),c=o.reduce((h,f)=>h.add(f.key),ue());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=_r(),p=ue();return a.Zi.getEntries(h,c).next(g=>{f=g,f.forEach((m,v)=>{v.isValidDocument()||(p=p.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{u=g;const m=[];for(const v of o){const y=Kbe(v,u.get(v.key).overlayedDocument);null!=y&&m.push(new Fs(v.key,y,m4(y.value.mapValue),ft.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(u,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:N4(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new et(te)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Vs(r,i.changes),yield uu(r.remoteStore)}catch(i){const s=hu(i,"Failed to persist write");t.reject(s)}}),bk.apply(this,arguments)}function _3(n,e){return Ek.apply(this,arguments)}function Ek(){return Ek=_(function*(n,e){const t=R(n);try{const r=yield UEe(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.yc.get(s);o&&(z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?z(o.fc):i.removedDocuments.size>0&&(z(o.fc),o.fc=!1))}),yield Vs(t,r,e)}catch(r){yield Co(r)}}),Ek.apply(this,arguments)}function y3(n,e,t){const r=R(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=R(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(o)&&(l=!0)}),l&&gk(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bCe(n,e,t){return Ck.apply(this,arguments)}function Ck(){return Ck=_(function*(n,e,t){const r=R(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new et(k.comparator);o=o.insert(s,lt.newNoDocument(s,H.min()));const a=ue().add(s),l=new Mf(H.min(),new Map,new et(te),o,a);yield _3(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),Mk(r)}else yield lu(r.localStore,e,!1).then(()=>gu(r,e,t)).catch(Co)}),Ck.apply(this,arguments)}function ECe(n,e){return Ik.apply(this,arguments)}function Ik(){return Ik=_(function*(n,e){const t=R(n),r=e.batch.batchId;try{const i=yield BEe(t.localStore,e);Ak(t,r,null),Sk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vs(t,i)}catch(i){yield Co(i)}}),Ik.apply(this,arguments)}function CCe(n,e,t){return Tk.apply(this,arguments)}function Tk(){return Tk=_(function*(n,e,t){const r=R(n);try{const i=yield function(s,o){const a=R(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(z(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);Ak(r,e,t),Sk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vs(r,i)}catch(i){yield Co(i)}}),Tk.apply(this,arguments)}function Sk(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Ak(n,e,t){const r=R(n);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function gu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||v3(n,r)})}function v3(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Wf(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Mk(n))}function xk(n,e,t){for(const r of t)r instanceof p3?(n.Ic.addReference(r.key,e),TCe(n,r)):r instanceof g3?(S("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||v3(n,r.key)):U()}function TCe(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(S("SyncEngine","New document in limbo: "+t),n.mc.add(r),Mk(n))}function Mk(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new k(xe.fromString(e)),r=n.Ac.next();n.yc.set(r,new mCe(t)),n.gc=n.gc.insert(t,r),pv(n.remoteStore,new Ls(or(Zc(t.path)),r,"TargetPurposeLimboResolution",Nr.ct))}}function Vs(n,e,t){return kk.apply(this,arguments)}function kk(){return kk=_(function*(n,e,t){const r=R(n),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,(null==c?void 0:c.fromCache)?"not-current":"current"),c){i.push(c);const u=OM.Li(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=_(function*(l,c){const u=R(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(c,h=>w.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Io(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Ji=u.Ji.insert(h,g)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),kk.apply(this,arguments)}function DCe(n,e){return Rk.apply(this,arguments)}function Rk(){return Rk=_(function*(n,e){const t=R(n);if(!t.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield Gq(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(C.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vs(t,r.er)}var i}),Rk.apply(this,arguments)}function SCe(n,e){const t=R(n),r=t.yc.get(e);if(r&&r.fc)return ue().add(r.key);{let i=ue();const s=t._c.get(e);if(!s)return i;for(const o of s){const a=t.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function Uk(n){const e=R(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SCe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bCe.bind(null,e),e.dc.nu=dCe.bind(null,e.eventManager),e.dc.Pc=hCe.bind(null,e.eventManager),e}function jk(n){const e=R(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ECe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CCe.bind(null,e),e}class mv{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.serializer=zf(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Wq(n,e,t,r){return new VEe(n,e,t,r)}(this.persistence,new Hq,e.initialUser,this.serializer)}createPersistence(e){return new kM(ov.zs,this.serializer)}createSharedClientState(e){return new e3}terminate(){var e=this;return _(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class mu{initialize(e,t){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>y3(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=DCe.bind(null,r.syncEngine),yield function lk(n,e){return ck.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uCe}createDatastore(e){const t=zf(e.databaseInfo.databaseId),r=new qEe(e.databaseInfo);return new YEe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>y3(this.syncEngine,a,0),o=t3.D()?new t3:new HEe,new JEe(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,l,c){const u=new _Ce(r,i,s,o,a,l);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=_(function*(t){const r=R(t);S("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield cu(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class _v{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Nt("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class UCe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=pn.UNAUTHENTICATED,this.clientId=qG.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return _(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new en;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=hu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function yv(n,e){return $k.apply(this,arguments)}function $k(){return $k=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield Gq(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),$k.apply(this,arguments)}function zk(n,e){return Hk.apply(this,arguments)}function Hk(){return Hk=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Wk(n);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>u3(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>u3(e.remoteStore,s)),n._onlineComponents=e}),Hk.apply(this,arguments)}function T3(n){return"FirebaseError"===n.name?n.code===C.FAILED_PRECONDITION||n.code===C.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Wk(n){return Gk.apply(this,arguments)}function Gk(){return Gk=_(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!T3(t))throw t;_i("Error using user provided cache. Falling back to memory cache: "+t),yield yv(n,new mv)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield yv(n,new mv);return n._offlineComponents}),Gk.apply(this,arguments)}function vv(n){return qk.apply(this,arguments)}function qk(){return qk=_(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield zk(n,n._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield zk(n,new mu))),n._onlineComponents}),qk.apply(this,arguments)}function _u(n){return Qk.apply(this,arguments)}function Qk(){return Qk=_(function*(n){const e=yield vv(n),t=e.eventManager;return t.onListen=yCe.bind(null,e.syncEngine),t.onUnlisten=vCe.bind(null,e.syncEngine),t}),Qk.apply(this,arguments)}function k3(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const R3=new Map;function Yk(n,e,t){if(!t)throw new T(C.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function P3(n){if(!k.isDocumentKey(n))throw new T(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function N3(n){if(k.isDocumentKey(n))throw new T(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bv(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":U()}function Se(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new T(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bv(n);throw new T(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class F3{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function QCe(n,e,t,r){if(!0===e&&!0===r)throw new T(C.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=k3(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(C.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qwe;switch(t.type){case"firstParty":return new Xwe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new T(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=R3.get(e);t&&(S("ComponentProvider","Removing Datastore"),R3.delete(e),t.terminate())}(this),Promise.resolve()}}class Lt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}}class On{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new On(this.firestore,e,this._query)}}class Yi extends On{constructor(e,t,r){super(e,t,Zc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new k(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function XCe(n,e,...t){if(n=Dt(n),Yk("collection","path",e),n instanceof Gf){const r=xe.fromString(e,...t);return N3(r),new Yi(n,null,r)}{if(!(n instanceof Lt||n instanceof Yi))throw new T(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xe.fromString(e,...t));return N3(r),new Yi(n.firestore,null,r)}}function L3(n,e,...t){if(n=Dt(n),1===arguments.length&&(e=qG.A()),Yk("doc","path",e),n instanceof Gf){const r=xe.fromString(e,...t);return P3(r),new Lt(n,null,new k(r))}{if(!(n instanceof Lt||n instanceof Yi))throw new T(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xe.fromString(e,...t));return P3(r),new Lt(n.firestore,n instanceof Yi?n.converter:null,new k(r))}}class ZCe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new WM(this,"async_queue_retry"),this.Xc=()=>{const t=fv();t&&S("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=fv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=fv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new en;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return _(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Io(t))throw t;S("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Nt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=uk.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&U()}verifyOperationInProgress(){}sa(){var e=this;return _(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class ct extends Gf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ZCe,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||B3(this),this._firestoreClient.terminate()}}function eIe(n,e){const r="string"==typeof n?n:e||"(default)",i=bs("object"==typeof n?n:Eh(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=I$("firestore");s&&function YCe(n,e,t,r={}){var i;const s=(n=Se(n,Gf))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&_i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if("string"==typeof r.mockUserToken)a=r.mockUserToken,l=pn.MOCK_USER;else{a=S$(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new T(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pn(c)}n._authCredentials=new Kwe(new WG(a,l))}}(i,...s)}return i}function Gt(n){return n._firestoreClient||B3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function B3(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Sbe(n._databaseId,a,n._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,k3(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;n._firestoreClient=new UCe(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sl(tn.fromBase64String(e))}catch(t){throw new T(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sl(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class yu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new T(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zk{constructor(e){this._methodName=e}}class Jk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new T(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new T(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}const nIe=/^__.*__$/;class rIe{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Fs(e,this.data,this.fieldMask,t,this.fieldTransforms):new tu(e,this.data,t,this.fieldTransforms)}}class $3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Fs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function z3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw U()}}class Ev{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Ev(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Iv(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(z3(this.ca)&&nIe.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class iIe{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||zf(e)}ya(e,t,r,i=!1){return new Ev({ca:e,methodName:t,ga:r,path:Ot.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vu(n){const e=n._freezeSettings(),t=zf(n._databaseId);return new iIe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function eR(n,e,t,r,i,s={}){const o=n.ya(s.merge||s.mergeFields?2:0,e,t,i);nR("Data must be an object, but it was:",o,r);const a=K3(r,o);let l,c;if(s.merge)l=new mr(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Qf(e,d,t);if(!o.contains(h))throw new T(C.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Y3(u,h)||u.push(h)}l=new mr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new rIe(new Nn(a),l,c)}class Kf extends Zk{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kf}}function ol(n,e){if(Q3(n=Dt(n)))return nR("Unsupported field value:",e,n),K3(n,e);if(n instanceof Zk)return function(t,r){if(!z3(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let s=0;for(const o of t){let a=ol(o,r.wa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=Dt(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return V4(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=yt.fromDate(t);return{timestampValue:ru(r.serializer,i)}}if(t instanceof yt){const i=new yt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ru(r.serializer,i)}}if(t instanceof Jk)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sl)return{bytesValue:sq(r.serializer,t._byteString)};if(t instanceof Lt){const i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${bv(t)}`)}(n,e)}function K3(n,e){const t={};return a4(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(n,(r,i)=>{const s=ol(i,e.ha(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function Q3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof Jk||n instanceof sl||n instanceof Lt||n instanceof Zk)}function nR(n,e,t){if(!Q3(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=bv(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Qf(n,e,t){if((e=Dt(e))instanceof yu)return e._internalPath;if("string"==typeof e)return Cv(n,e);throw Iv("Field path arguments must be of type string or ",n,!1,void 0,t)}const lIe=new RegExp("[~\\*/\\[\\]]");function Cv(n,e,t){if(e.search(lIe)>=0)throw Iv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yu(...e.split("."))._internalPath}catch(r){throw Iv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Iv(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new T(C.INVALID_ARGUMENT,a+n+l)}function Y3(n,e){return n.some(t=>t.isEqual(e))}class rR{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cIe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Tv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cIe extends rR{data(){return super.data()}}function Tv(n,e){return"string"==typeof e?Cv(n,e):e instanceof yu?e._internalPath:e._delegate._internalPath}class al{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bu extends rR{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Tv("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class xv extends bu{data(e={}){return super.data(e)}}class Eu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new al(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new xv(this._firestore,this._userDataWriter,r.key,r,new al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new T(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new xv(r._firestore,r._userDataWriter,o.doc.key,o.doc,new al(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new xv(r._firestore,r._userDataWriter,o.doc.key,o.doc,new al(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:fIe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fIe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}function pIe(n){n=Se(n,Lt);const e=Se(n.firestore,ct);return function x3(n,e,t={}){const r=new en;return n.asyncQueue.enqueueAndForget(_(function*(){return function(i,s,o,a,l){const c=new _v({next:d=>{s.enqueueAndForget(()=>fk(i,u));const h=d.docs.has(o);!h&&d.fromCache?l.reject(new T(C.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?l.reject(new T(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new mk(Zc(o.path),c,{includeMetadataChanges:!0,Ku:!0});return dk(i,u)}(yield _u(n),n.asyncQueue,e,t,r)})),r.promise}(Gt(e),n._key).then(t=>function oR(n,e,t){const r=t.docs.get(e._key),i=new Lo(n);return new bu(n,i,e._key,r,new al(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class Lo extends class dIe{convertValue(e,t="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw U()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return To(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new Jk(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=By(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yf(e));default:return null}}convertTimestamp(e){const t=Do(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=xe.fromString(e);z(gq(r));const i=new Ga(r.get(1),r.get(3)),s=new k(r.popFirst(5));return i.isEqual(t)||Nt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new sl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,t)}}function gIe(n){n=Se(n,On);const e=Se(n.firestore,ct),t=Gt(e),r=new Lo(e);return function X3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new T(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function M3(n,e,t={}){const r=new en;return n.asyncQueue.enqueueAndForget(_(function*(){return function(i,s,o,a,l){const c=new _v({next:d=>{s.enqueueAndForget(()=>fk(i,u)),d.fromCache&&"server"===a.source?l.reject(new T(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),u=new mk(o,c,{includeMetadataChanges:!0,Ku:!0});return dk(i,u)}(yield _u(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new Eu(e,r,n,i))}function mIe(n,e,t,...r){n=Se(n,Lt);const i=Se(n.firestore,ct),s=vu(i);let o;return o="string"==typeof(e=Dt(e))||e instanceof yu?function G3(n,e,t,r,i,s){const o=n.ya(1,e,t),a=[Qf(e,r,t)],l=[i];if(s.length%2!=0)throw new T(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Qf(e,s[h])),l.push(s[h+1]);const c=[],u=Nn.empty();for(let h=a.length-1;h>=0;--h)if(!Y3(c,a[h])){const f=a[h];let p=l[h];p=Dt(p);const g=o.da(f);if(p instanceof Kf)c.push(f);else{const m=ol(p,g);null!=m&&(c.push(f),u.set(f,m))}}const d=new mr(c);return new $3(u,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function W3(n,e,t,r){const i=n.ya(1,e,t);nR("Data must be an object, but it was:",i,r);const s=[],o=Nn.empty();To(r,(l,c)=>{const u=Cv(e,l,t);c=Dt(c);const d=i.da(u);if(c instanceof Kf)s.push(u);else{const h=ol(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new mr(s);return new $3(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),Xf(i,[o.toMutation(n._key,ft.exists(!0))])}function _Ie(n){return Xf(Se(n.firestore,ct),[new nu(n._key,ft.none())])}function yIe(n,e){const t=Se(n.firestore,ct),r=L3(n),i=function sR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Xf(t,[eR(vu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ft.exists(!1))]).then(()=>r)}function Xf(n,e){return function(t,r){const i=new en;return t.asyncQueue.enqueueAndForget(_(function*(){return function wCe(n,e,t){return bk.apply(this,arguments)}(yield function Kk(n){return vv(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Gt(n),e)}class kv{constructor(e){return e}}const o5="firestore",aR=new V("angularfire2.firestore-instances");function RIe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new kv(r)}}const PIe={provide:class MIe{constructor(){return Dh(o5)}},deps:[[new it,aR]]},NIe={provide:kv,useFactory:function kIe(n,e){const t=Th(o5,n,e);return t&&new kv(t)},deps:[[new it,aR],mo]};let OIe=(()=>{class n{constructor(){We("angularfire",go.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({providers:[NIe,PIe]}),n})();function FIe(n,...e){return{ngModule:OIe,providers:[{provide:aR,useFactory:RIe(n),multi:!0,deps:[ae,Oe,Sh,Ah,[new it,ix],[new it,U_],...e]}]}}const LIe=xn(yIe,!0),a5=xn(XCe,!0),VIe=xn(_Ie,!0),lR=xn(L3,!0),BIe=xn(pIe,!0),UIe=xn(gIe,!0),jIe=xn(eIe,!0),$Ie=xn(mIe,!0);let cR=(()=>{class n{constructor(t){this.firestore=t}getMyNotes(t){const r=a5(this.firestore,"notes-"+t);return UIe(r)}getNoteById(t,r){const i=lR(this.firestore,"notes-"+t,r);return BIe(i)}saveNote(t,r){const i=a5(this.firestore,"notes-"+t);return LIe(i,r)}updateNote(t,r,i){const s=lR(this.firestore,"notes-"+t,i);return $Ie(s,r)}deleteNote(t,r){const i=lR(this.firestore,"notes-"+t,r);return VIe(i)}}return n.\u0275fac=function(t){return new(t||n)(E(kv))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zIe=(()=>{class n{constructor(t,r,i){this.credentialsService=t,this.authService=r,this.router=i,this.user={name:"",email:"",photo:""}}ngOnInit(){this.user=this.credentialsService.credentials}logOut(){this.authService.logOut().then(()=>{localStorage.removeItem("me"),this.router.navigate([""])})}}return n.\u0275fac=function(t){return new(t||n)(b($h),b(SW),b(Un))},n.\u0275cmp=Qn({type:n,selectors:[["app-user-bar"]],decls:5,vars:2,consts:[["alt","profile photo",1,"photo",3,"src"],[1,"fa-solid","fa-right-from-bracket",3,"click"]],template:function(t,r){1&t&&(ke(0,"article"),an(1,"img",0),ke(2,"p"),hr(3),Re(),ke(4,"i",1),st("click",function(){return r.logOut()}),Re()()),2&t&&(It(1),wE("src",r.user.photo,fg),It(2),Cd("Hi, ",r.user.name,""))},styles:["article[_ngcontent-%COMP%]{display:flex;align-items:center;gap:25px}.photo[_ngcontent-%COMP%]{border-radius:50px;height:45px;width:45px;object-fit:contain}p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;margin:0}i[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();const HIe=function(n){return["/edit/",n]};function WIe(n,e){if(1&n){const t=Ig();ke(0,"article",8)(1,"header")(2,"h3"),hr(3),Re(),ke(4,"button",9),st("click",function(i){const o=Sl(t).$implicit;return ci(2).openDeleteDialog(o),i.stopPropagation()}),an(5,"i",10),Re()(),ke(6,"div",11)(7,"p"),hr(8),Re(),ke(9,"div",12),hr(10," Tap the note to continue "),Re()()()}if(2&n){const t=e.$implicit;Xt("routerLink",AL(3,HIe,t.id)),It(3),Ed(t.note_title),It(5),Cd(" ",t.note_content," ")}}function GIe(n,e){if(1&n&&(ke(0,"section",6),li(1,WIe,11,5,"article",7),Re()),2&n){const t=ci();It(1),Xt("ngForOf",t.notes)}}function qIe(n,e){1&n&&(ke(0,"article",13),an(1,"mat-spinner",14),Re()),2&n&&(It(1),Xt("diameter",70))}const KIe=function(){return["/new-note"]};let QIe=(()=>{class n{constructor(t,r,i){this.firestoreService=t,this.credentialsService=r,this.dialog=i,this.userEmail="",this.notes=[],this.isLoading=!0}ngOnInit(){this.userEmail=this.credentialsService.credentials.email,this.getMyNotes()}getMyNotes(){var t=this;return _(function*(){t.notes=[],(yield t.firestoreService.getMyNotes(t.userEmail)).forEach(i=>{const s={id:i.id,note_content:i.data().note_content,note_title:i.data().note_title};t.notes.push(s)}),t.isLoading=!1})()}openDeleteDialog(t){this.dialog.open(Bve,{panelClass:"custom-dialog"}).afterClosed().subscribe(i=>{i&&(this.isLoading=!0,this.deleteNote(t))})}deleteNote(t){this.firestoreService.deleteNote(this.userEmail,t.id),this.getMyNotes()}}return n.\u0275fac=function(t){return new(t||n)(b(cR),b($h),b(Jm))},n.\u0275cmp=Qn({type:n,selectors:[["app-my-notes"]],decls:9,vars:4,consts:[[1,"containerNotes"],[3,"routerLink"],[1,"green-btn"],[1,"fa-solid","fa-pencil"],["class","allNotes",4,"ngIf","ngIfElse"],["spinner",""],[1,"allNotes"],["class","notes",3,"routerLink",4,"ngFor","ngForOf"],[1,"notes",3,"routerLink"],[1,"delete-btn",3,"click"],[1,"fa-solid","fa-trash"],[1,"note-content"],[1,"edit"],[1,"spinner"],[3,"diameter"]],template:function(t,r){if(1&t&&(ke(0,"section",0),an(1,"app-user-bar"),ke(2,"a",1)(3,"article",2),an(4,"i",3),hr(5," Create new note "),Re()(),li(6,GIe,2,1,"section",4),li(7,qIe,2,1,"ng-template",null,5,jE),Re()),2&t){const i=vd(8);It(2),Xt("routerLink",function SL(n,e,t){const r=Xn()+n,i=D();return i[r]===oe?xi(i,r,t?e.call(t):e()):function yd(n,e){return n[e]}(i,r)}(3,KIe)),It(4),Xt("ngIf",!r.isLoading)("ngIfElse",i)}},directives:[zIe,m_,Jg,jV,g_,Fi],styles:[".containerNotes[_ngcontent-%COMP%]{display:flex;margin:20px;flex-direction:column;align-items:center;gap:15px}.allNotes[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;flex-direction:column;align-items:center;gap:15px}.green-btn[_ngcontent-%COMP%]{height:74px}.green-btn[_ngcontent-%COMP%], .notes[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background:linear-gradient(99.63deg,#C7EBB3 12.78%,rgba(199,235,179,0) 132.88%);border-radius:37px;display:flex;align-items:center;justify-content:center;gap:10px;font-size:16px;cursor:pointer}a[_ngcontent-%COMP%]{width:80%;text-decoration:none;color:#000}.notes[_ngcontent-%COMP%]{width:80%;flex-direction:column;gap:15px;padding:20px}.notes[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;justify-content:space-between}.notes[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-family:Poppins,sans-serif}.notes[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{color:#888;margin:7px 0 0 7px;padding:5px;border-radius:4px;border-left:3px solid #888888}.note-content[_ngcontent-%COMP%]{background:white;padding:16px;width:100%;border-radius:37px}.note-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;overflow:hidden}.delete-btn[_ngcontent-%COMP%]{border-radius:50%;width:45px;height:45px;border:none;background:white;font-size:16px}h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.spinner[_ngcontent-%COMP%]{padding:20px}"]}),n})(),YIe=(()=>{class n{constructor(t,r,i){this.firestoreService=t,this.credentialsService=r,this._snackBar=i,this.title="",this.noteContent="",this.userEmail=""}ngOnInit(){this.userEmail=this.credentialsService.credentials.email}saveNote(){var t=this;return _(function*(){const r={note_title:t.title,note_content:t.noteContent};yield t.firestoreService.saveNote(t.userEmail,r),t.openSnackBar()})()}openSnackBar(){this._snackBar.open("Note saved","",{duration:3e3})}}return n.\u0275fac=function(t){return new(t||n)(b(cR),b($h),b(uj))},n.\u0275cmp=Qn({type:n,selectors:[["app-new-note"]],decls:7,vars:2,consts:[[1,"new-note"],["placeholder","Insert title","autosize","",1,"title",3,"ngModel","ngModelChange"],[1,"save-btn",3,"click"],[1,"fa-solid","fa-floppy-disk"],[1,"content"],["placeholder","Insert your note content","autosize","",1,"content-input",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(ke(0,"section",0)(1,"header")(2,"textarea",1),st("ngModelChange",function(s){return r.title=s}),Re(),ke(3,"button",2),st("click",function(){return r.saveNote()}),an(4,"i",3),Re()(),ke(5,"section",4)(6,"textarea",5),st("ngModelChange",function(s){return r.noteContent=s}),Re()()()),2&t&&(It(2),Xt("ngModel",r.title),It(4),Xt("ngModel",r.noteContent))},directives:[zd,EB,NC,_m],styles:['.new-note[_ngcontent-%COMP%]{padding:25px 20px;background:linear-gradient(99.63deg,#C7EBB3 12.78%,rgba(199,235,179,0) 132.88%);height:auto;display:flex;gap:10px;flex-direction:column}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:30px}.title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;margin:0}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:none;background:none;resize:none;width:100%}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, .textarea[_ngcontent-%COMP%]:focus{outline:none}.textarea[_ngcontent-%COMP%]{display:block;width:100%;line-height:30px;resize:both}.textarea[contenteditable][_ngcontent-%COMP%]:empty:before{content:"Insert title";color:gray}.content[_ngcontent-%COMP%]{background:white;font-family:Poppins,sans-serif;border-radius:40px;height:auto;min-height:100%;padding:25px 20px}.content-input[_ngcontent-%COMP%]{width:100%;min-height:100%;height:auto;font-family:Poppins,sans-serif;font-size:16px}.save-btn[_ngcontent-%COMP%]{background:rgba(255,255,255,.7);width:40px;height:40px;border-radius:50%;border:none;font-size:20px}']}),n})();function XIe(n,e){if(1&n){const t=Ig();ke(0,"section",2)(1,"header")(2,"textarea",3),st("ngModelChange",function(i){return Sl(t),ci().title=i}),Re(),ke(3,"button",4),st("click",function(){return Sl(t),ci().updateNote()}),an(4,"i",5),Re()(),ke(5,"section",6)(6,"textarea",7),st("ngModelChange",function(i){return Sl(t),ci().noteContent=i}),Re()()()}if(2&n){const t=ci();It(2),Xt("ngModel",t.title),It(4),Xt("ngModel",t.noteContent)}}function ZIe(n,e){1&n&&(ke(0,"article",8),an(1,"mat-spinner",9),Re()),2&n&&(It(1),Xt("diameter",70))}const JIe=[{path:"",component:Vve},{path:"my-notes",component:QIe},{path:"new-note",component:YIe},{path:"edit/:id",component:(()=>{class n{constructor(t,r,i){this.firestoreService=t,this.credentialsService=r,this._snackBar=i,this.title="",this.noteContent="",this.userEmail="",this.noteId="",this.isLoading=!0}ngOnInit(){this.userEmail=this.credentialsService.credentials.email,this.getNoteById()}getNoteById(){var t=this;return _(function*(){t.noteId=window.location.pathname.replace("/edit/","");const r=yield t.firestoreService.getNoteById(t.userEmail,t.noteId);r.exists()?(t.title=r.data().note_title,t.noteContent=r.data().note_content,t.isLoading=!1):console.log("No existe ese documento")})()}updateNote(){this.firestoreService.updateNote(this.userEmail,{note_title:this.title,note_content:this.noteContent},this.noteId),this.openSnackBar()}openSnackBar(){this._snackBar.open("Note saved","",{duration:3e3})}}return n.\u0275fac=function(t){return new(t||n)(b(cR),b($h),b(uj))},n.\u0275cmp=Qn({type:n,selectors:[["app-edit"]],decls:3,vars:2,consts:[["class","new-note",4,"ngIf","ngIfElse"],["spinner",""],[1,"new-note"],["placeholder","Insert title","autosize","",1,"title",3,"ngModel","ngModelChange"],[1,"save-btn",3,"click"],[1,"fa-solid","fa-floppy-disk"],[1,"content"],["placeholder","Insert your note content","autosize","",1,"content-input",3,"ngModel","ngModelChange"],[1,"spinner"],[3,"diameter"]],template:function(t,r){if(1&t&&(li(0,XIe,7,2,"section",0),li(1,ZIe,2,1,"ng-template",null,1,jE)),2&t){const i=vd(2);Xt("ngIf",!r.isLoading)("ngIfElse",i)}},directives:[Jg,zd,EB,NC,_m,Fi],styles:['.new-note[_ngcontent-%COMP%]{padding:25px 20px;background:linear-gradient(99.63deg,#C7EBB3 12.78%,rgba(199,235,179,0) 132.88%);height:auto;display:flex;gap:10px;flex-direction:column}header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:30px}.title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;margin:0}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:none;background:none;resize:none;width:100%}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus, .textarea[_ngcontent-%COMP%]:focus{outline:none}.textarea[_ngcontent-%COMP%]{display:block;width:100%;line-height:30px;resize:both}.textarea[contenteditable][_ngcontent-%COMP%]:empty:before{content:"Insert title";color:gray}.content[_ngcontent-%COMP%]{background:white;font-family:Poppins,sans-serif;border-radius:40px;height:auto;min-height:100%;padding:25px 20px}.content-input[_ngcontent-%COMP%]{width:100%;min-height:100%;height:auto;font-family:Poppins,sans-serif;font-size:16px}.save-btn[_ngcontent-%COMP%]{background:rgba(255,255,255,.7);width:40px;height:40px;border-radius:50%;border:none;font-size:20px}.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:45px}']}),n})()}];let e0e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({imports:[[m$.forRoot(JIe)],m$]}),n})(),t0e=(()=>{class n{constructor(){this.title="labNotes"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Qn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&an(0,"router-outlet")},directives:[a0],styles:[""]}),n})();const uR_firebase={projectId:"labnotes-luva",appId:"1:697079395685:web:7e0dc0ffc7dc56cc199d8c",storageBucket:"labnotes-luva.appspot.com",apiKey:"AIzaSyCFXj0uBvIZhmElvTsw9SRnqY_t0fZJnLk",authDomain:"labnotes-luva.firebaseapp.com",messagingSenderId:"697079395685",measurementId:"G-1NLMNNFN3E"};class Zf{constructor(e){return e}}const l5="analytics",c5=R_.async,s0e=xn(Dge,!0),o0e=xn(Gz,!0),a0e=xn(xge,!0);let dR=(()=>{class n{constructor(t,r,i){let s;this.disposables=[],We("angularfire",go.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),c5().then(()=>{const o=i.get(Zf);o?this.disposables=[Nve(t).subscribe(a=>{a0e(o,null==a?void 0:a.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(E(jh),E(ae),E(Oe))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const u5="firebase_screen_id",hR="outlet",Jf="screen_class",d5="screen_name";let v0e=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const fR={},w0e=n=>{const e=[n[Jf],n[hR]].join("#");if(fR.hasOwnProperty(e))return fR[e];{const t=v0e++;return fR[e]=t,t}},b0e=(n,e,t)=>n.events.pipe(zt(i=>i instanceof bj)).pipe(Mr(i=>{var s;const a=(null===(s=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",l=n.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!l)return Q(null);let c=l;for(;c.firstChild;)c=c.firstChild;const u=c.pathFromRoot.map(f=>{var p;return null===(p=f.routeConfig)||void 0===p?void 0:p.path}).filter(f=>f).join("/")||"/",d={[d5]:u,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:u,[hR]:i.snapshot.outlet};e&&(d.page_title=e.getTitle());let h=l.component;if(h){if(h===l0){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;h=f.component}}else h=i.snapshot.component;if("string"==typeof h)return Q(Object.assign(Object.assign({},d),{[Jf]:h}));if(h){const f=t.resolveComponentFactory(h);return Q(Object.assign(Object.assign({},d),{[Jf]:f.selector}))}return Q(null)}),zt(i=>!!i),me(i=>Object.assign({firebase_screen_class:i[Jf],[u5]:w0e(i)},i)),function n0e(n,e,t,r){return rt((i,s)=>{let o;e&&"function"!=typeof e?({duration:t,element:o,connector:r}=e):o=e;const a=new Map,l=p=>{a.forEach(p),p(s)},c=p=>l(g=>g.error(p));let u=0,d=!1;const h=new OP(s,p=>{try{const g=n(p);let m=a.get(g);if(!m){a.set(g,m=r?r():new Ie);const v=function f(p,g){const m=new Fe(v=>{u++;const y=g.subscribe(v);return()=>{y.unsubscribe(),0==--u&&d&&h.unsubscribe()}});return m.key=p,m}(g,m);if(s.next(v),t){const y=Qe(m,()=>{m.complete(),null==y||y.unsubscribe()},void 0,void 0,()=>a.delete(g));h.add(rn(t(v)).subscribe(y))}}m.next(o?o(p):p)}catch(g){c(g)}},()=>l(p=>p.complete()),c,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(h)})}(i=>i[hR]),kt(i=>i.pipe(AB((s,o)=>JSON.stringify(s)===JSON.stringify(o)),Xm(void 0),function r0e(){return rt((n,e)=>{let t,r=!1;n.subscribe(Qe(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}(),me(([s,o])=>s?Object.assign({firebase_previous_class:s[Jf],firebase_previous_screen:s[d5],firebase_previous_id:s[u5]},o):o))));let h5=(()=>{class n{constructor(t,r,i,s,o,a){We("angularfire",go.full,"screen-tracking"),c5().then(()=>{const l=a.get(Zf);!t||!l||s.runOutsideAngular(()=>{this.disposable=b0e(t,r,i).pipe(Mr(c=>function Nme(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){return o&&(yield o.initialized),o0e(l,"screen_view",c)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(E(Un,8),E(d2,8),E(eo),E(ae),E(dR,8),E(Oe))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const pR=new V("angularfire2.analytics-instances");function C0e(n){return(e,t)=>{if(!R_.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new Zf(r)}}const I0e={provide:class i0e{constructor(){return Dh(l5)}},deps:[[new it,pR]]},T0e={provide:Zf,useFactory:function E0e(n,e){if(!R_.sync())return null;const t=Th(l5,n,e);return t&&new Zf(t)},deps:[[new it,pR],mo]};let D0e=(()=>{class n{constructor(t,r){We("angularfire",go.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(E(h5,8),E(dR,8))},n.\u0275mod=je({type:n}),n.\u0275inj=Le({providers:[T0e,I0e,{provide:Pd,useValue:R_.async,multi:!0}]}),n})();function S0e(n,...e){return{ngModule:D0e,providers:[{provide:pR,useFactory:C0e(n),multi:!0,deps:[ae,Oe,Sh,Ah,...e]}]}}class x0e{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Dn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:wh(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class M0e{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ws(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const g5=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new x0e(e)}}catch(e){}return new M0e},ll=g5("localStorage"),mR=g5("sessionStorage"),Cu=new Aa("@firebase/database"),m5=function(){let n=1;return function(){return n++}}(),_5=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,P(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new pde;t.update(e);const r=t.digest();return __.encodeByteArray(r)},ep=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=ep.apply(null,r):e+="object"==typeof r?Dn(r):r,e+=" "}return e};let cl=null,y5=!0;const _n=function(...n){if(!0===y5&&(y5=!1,null===cl&&!0===mR.get("logging_enabled")&&function(n,e){P(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Cu.logLevel=X.VERBOSE,cl=Cu.log.bind(Cu),e&&mR.set("logging_enabled",!0)):"function"==typeof n?cl=n:(cl=null,mR.remove("logging_enabled"))}(!0)),cl){const e=ep.apply(null,n);cl(e)}},tp=function(n){return function(...e){_n(n,...e)}},_R=function(...n){const e="FIREBASE INTERNAL ERROR: "+ep(...n);Cu.error(e)},Xi=function(...n){const e=`FIREBASE FATAL ERROR: ${ep(...n)}`;throw Cu.error(e),new Error(e)},qn=function(...n){const e="FIREBASE WARNING: "+ep(...n);Cu.warn(e)},Vo="[MIN_NAME]",Bs="[MAX_NAME]",ul=function(n,e){if(n===e)return 0;if(n===Vo||e===Bs)return-1;if(e===Vo||n===Bs)return 1;{const t=E5(n),r=E5(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},np=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Dn(e))},yR=function(n){if("object"!=typeof n||null===n)return Dn(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=Dn(e[r]),t+=":",t+=yR(n[e[r]]);return t+="}",t},w5=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};const b5=function(n){P(!function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)}(n),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},L0e=new RegExp("^-?(0*)\\d{1,10}$"),E5=function(n){if(L0e.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Iu=function(n){try{n()}catch(e){setTimeout(()=>{throw qn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},rp=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};let ip=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const S5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,M5="websocket",k5="long_polling";class wR{constructor(e,t,r,i,s=!1,o="",a=!1,l=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ll.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ll.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function R5(n,e,t){let r;if(P("string"==typeof e,"typeof type must == string"),P("object"==typeof t,"typeof params must == object"),e===M5)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==k5)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function z0e(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return function yn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class H0e{constructor(){this.counters_={}}incrementCounter(e,t=1){ws(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return tde(this.counters_)}}const bR={};function CR(n){const e=n.toString();return bR[e]||(bR[e]=new H0e),bR[e]}class G0e{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Iu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Bo{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tp(e),this.stats_=CR(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),R5(t,k5,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new G0e(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new IR((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&S5.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bo.forceAllow_=!0}static forceDisallow(){Bo.forceDisallow_=!0}static isAvailable(){return!(!Bo.forceAllow_&&(Bo.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Dn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=b$(t),i=w5(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Dn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class IR{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=m5(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=IR.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){_n("frame writing exception"),a.stack&&_n(a.stack),_n(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||_n("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{_n("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Nv=null;"undefined"!=typeof MozWebSocket?Nv=MozWebSocket:"undefined"!=typeof WebSocket&&(Nv=WebSocket);let Tu=(()=>{class n{constructor(t,r,i,s,o,a,l){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tp(this.connId),this.stats_=CR(r),this.connURL=n.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return"undefined"!=typeof location&&location.hostname&&S5.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),R5(t,M5,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ll.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Nv(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Nv&&!n.forceDisallow_}static previouslyFailed(){return ll.isInMemoryStorage||!0===ll.get("previous_websocket_failure")}markConnectionHealthy(){ll.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=wh(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(P(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=Dn(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=w5(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),B5=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Bo,Tu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Tu&&Tu.isAvailable();let i=r&&!Tu.previouslyFailed();if(t.webSocketOnly&&(r||qn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Tu];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class G5{constructor(e,t,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tp("c:"+this.id+":"),this.transportManager_=new B5(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=rp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=np("t",e),r=np("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=np("t",e),r=np("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=np("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?_R("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_R("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&qn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),rp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ll.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class K5{constructor(e){this.allowedEvents_=e,this.listeners_={},P(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){P(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Ov extends K5{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!m0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ov}getInitialEvent(e){return P("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ve{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function pe(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Uo(n){return n.pieces_.length-n.pieceNum_}function Ke(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ve(n.pieces_,e)}class AR extends K5{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new AR}getInitialEvent(e){return P("visible"===e,"Unknown event type: "+e),[this.visible_]}}const op=1e3;let Lv,hl=(()=>{class n extends class q5{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}{constructor(t,r,i,s,o,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=tp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=op,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");AR.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Ov.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(Dn(o)),P(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new Ac,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),P(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),P(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&ws(t,"w")){const i=xc(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();qn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=b_(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=b_(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),P(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Dn(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):_R("Unrecognized action received from server: "+Dn(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){P(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=op,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=op,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=op),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return _(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};t.realtime_={close:u,sendRequest:function(f){P(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?_n("getToken() completed but was canceled"):(_n("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new G5(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,g=>{qn(g+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&qn(f),u())}}})()}interrupt(t){_n("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){_n("Resuming connection for reason: "+t),delete this.interruptReasons_[t],v0(this.interruptReasons_)&&(this.reconnectDelay_=op,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>yR(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new Ve(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){_n("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){_n("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+"".replace(/\./g,"-")]=1,m0()?t["framework.cordova"]=1:A$()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Ov.getInstance().currentlyOnline();return v0(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class ve{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ve(e,t)}}class Fv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new ve(Vo,e),i=new ve(Vo,t);return 0!==this.compare(r,i)}minPost(){return ve.MIN}}class t6 extends Fv{static get __EMPTY_NODE(){return Lv}static set __EMPTY_NODE(e){Lv=e}compare(e,t){return ul(e.name,t.name)}isDefinedOn(e){throw Sc("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ve.MIN}maxPost(){return new ve(Bs,Lv)}makePost(e,t){return P("string"==typeof e,"KeyIndex indexValue must always be a string."),new ve(e,Lv)}toString(){return".key"}}const Zi=new t6;class Vv{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let vi=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=s?s:yr.EMPTY_NODE,this.right=null!=o?o:yr.EMPTY_NODE}copy(t,r,i,s,o){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return yr.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return yr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ETe{copy(e,t,r,i,s){return this}insert(e,t,r){return new vi(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class yr{constructor(e,t=yr.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new yr(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,vi.BLACK,null,null))}remove(e){return new yr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vi.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Vv(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Vv(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Vv(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Vv(this.root_,null,this.comparator_,!0,e)}}function xR(n,e){return ul(n,e)}yr.EMPTY_NODE=new ETe;const n6=function(n){return"number"==typeof n?"number:"+b5(n):"string:"+n},r6=function(n){if(n.isLeafNode()){const e=n.val();P("string"==typeof e||"number"==typeof e||"object"==typeof e&&ws(e,".sv"),"Priority must be a string or number.")}else P(undefined===n||n.isEmpty(),"priority of unexpected type.");P(undefined===n||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let i6,Du=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,P(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),r6(this.priorityNode_)}static set __childrenNodeConstructor(t){i6=t}static get __childrenNodeConstructor(){return i6}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return function ge(n){return n.pieceNum_>=n.pieces_.length}(t)?this:".priority"===pe(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=pe(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(P(".priority"!==i||1===Uo(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ke(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+n6(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?b5(this.value_):this.value_,this.lazyHash_=_5(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(P(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return P(s>=0,"Unknown leaf type: "+r),P(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();class STe extends Fv{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?ul(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve(Bs,new Du("[PRIORITY-POST]",undefined))}makePost(e,t){const r=undefined(e);return new ve(t,new Du("[PRIORITY-POST]",r))}toString(){return".priority"}}const tt=new STe,ATe=Math.log(2);class xTe{constructor(e){this.count=parseInt(Math.log(e+1)/ATe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Bv=function(n,e,t,r){n.sort(e);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new vi(h,d.node,vi.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=i(l,f),g=i(f+1,c);return d=n[f],h=t?t(d):d,new vi(h,d.node,vi.BLACK,p,g)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,g){const m=d-p,v=d;d-=p;const y=i(m+1,v),I=n[m],x=t?t(I):I;f(new vi(x,I.node,g,null,y))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),m=Math.pow(2,l.count-(p+1));g?h(m,vi.BLACK):(h(m,vi.BLACK),h(m,vi.RED))}return u}(new xTe(n.length));return new yr(r||e,a)};let kR;const Su={};class Us{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return P(Su&&tt,"ChildrenNode.ts has not been loaded"),kR=kR||new Us({".priority":Su},{".priority":tt}),kR}get(e){const t=xc(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof yr?t:null}hasIndex(e){return ws(this.indexSet_,e.toString())}addIndex(e,t){P(e!==Zi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(ve.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Bv(r,e.getCompare()):Su;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Us(u,c)}addToIndexes(e,t){const r=E_(this.indexes_,(i,s)=>{const o=xc(this.indexSet_,s);if(P(o,"Missing index implementation for "+s),i===Su){if(o.isDefinedOn(e.node)){const a=[],l=t.getIterator(ve.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Bv(a,o.getCompare())}return Su}{const a=t.get(e.name);let l=i;return a&&(l=l.remove(new ve(e.name,a))),l.insert(e,e.node)}});return new Us(r,this.indexSet_)}removeFromIndexes(e,t){const r=E_(this.indexes_,i=>{if(i===Su)return i;{const s=t.get(e.name);return s?i.remove(new ve(e.name,s)):i}});return new Us(r,this.indexSet_)}}let ap,le=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&r6(this.priorityNode_),this.children_.isEmpty()&&P(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ap||(ap=new n(new yr(xR),null,Us.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ap}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?ap:r}}getChild(t){const r=pe(t);return null===r?this:this.getImmediateChild(r).getChild(Ke(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(P(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new ve(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?ap:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=pe(t);if(null===i)return r;{P(".priority"!==pe(t)||1===Uo(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ke(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(tt,(a,l)=>{r[a]=l.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+n6(this.getPriority().val())+":"),this.forEachChild(tt,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":_5(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ve(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ve(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ve(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,ve.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,ve.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===lp?-1:0}withIndex(t){if(t===Zi||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Zi||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(tt),s=r.getIterator(tt);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===Zi?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();class MTe extends le{constructor(){super(new yr(xR),le.EMPTY_NODE,Us.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const lp=new MTe;function $Se(n=Eh(),e){const t=bs(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=I$("database");r&&function zSe(n,e,t,r={}){(n=Dt(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Xi("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ip(ip.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:S$(r.mockUserToken,n.app.options.projectId);s=new ip(o)}!function FSe(n,e,t,r){n.repoInfo_=new wR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r)}return t}t6.__EMPTY_NODE=le.EMPTY_NODE,Du.__childrenNodeConstructor=le,hl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},hl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};class CP{constructor(e){return e}}const c9="database",IP=new V("angularfire2.database-instances");function QSe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new CP(r)}}const YSe={provide:class qSe{constructor(){return Dh(c9)}},deps:[[new it,IP]]},XSe={provide:CP,useFactory:function KSe(n,e){const t=Th(c9,n,e);return t&&new CP(t)},deps:[[new it,IP],mo]};let ZSe=(()=>{class n{constructor(){We("angularfire",go.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({providers:[XSe,YSe]}),n})();function JSe(n,...e){return{ngModule:ZSe,providers:[{provide:IP,useFactory:QSe(n),multi:!0,deps:[ae,Oe,Sh,Ah,[new it,ix],[new it,U_],...e]}]}}const eAe=xn($Se,!0),Ko=new Fe(Bu),nAe={connector:()=>new Ie};function u9(n,e=nAe){const{connector:t}=e;return rt((r,i)=>{const s=t();rn(n(function tAe(n){return new Fe(e=>n.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}function d9(n,e){return e?t=>wc(e.pipe(ln(1),function sAe(){return rt((n,e)=>{n.subscribe(Qe(e,Bu))})}()),t.pipe(d9(n))):kt((t,r)=>rn(n(t,r)).pipe(ln(1),function oAe(n){return me(()=>n)}(t)))}const Dp="Service workers are disabled or not supported by this browser";class hw{constructor(e){if(this.serviceWorker=e,e){const r=eh(e,"controllerchange").pipe(me(()=>e.controller)),s=wc(sh(()=>Q(e.controller)),r);this.worker=s.pipe(zt(u=>!!u)),this.registration=this.worker.pipe(Mr(()=>e.getRegistration()));const c=eh(e,"message").pipe(me(u=>u.data)).pipe(zt(u=>u&&u.type)).pipe(function iAe(n){return n?e=>u9(n)(e):e=>function rAe(n,e){const t=ne(n)?n:()=>n;return ne(e)?u9(e,{connector:t}):r=>new pj(r,t)}(new Ie)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function lAe(n){return sh(()=>oh(new Error(n)))}(Dp)}postMessage(e,t){return this.worker.pipe(ln(1),rr(r=>{r.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,t);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(zt(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(ln(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(zt(t=>t.nonce===e),ln(1),me(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let cAe=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new Ie,!t.isEnabled)return this.messages=Ko,this.notificationClicks=Ko,void(this.subscription=Ko);this.messages=this.sw.eventsOfType("PUSH").pipe(me(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(me(i=>i.data)),this.pushManager=this.sw.registration.pipe(me(i=>i.pushManager));const r=this.pushManager.pipe(Mr(i=>i.getSubscription()));this.subscription=Rp(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(Dp));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(Mr(o=>o.subscribe(r)),ln(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(ln(1),Mr(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Dp))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(E(hw))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),uAe=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Ko,this.available=Ko,this.activated=Ko,void(this.unrecoverable=Ko);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(zt(r=>"VERSION_READY"===r.type),me(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Dp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Dp));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(E(hw))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class TP{}const h9=new V("NGSW_REGISTER_SCRIPT");function dAe(n,e,t,r){return()=>{if(!_C(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)s=t.registrationStrategy();else{const[a,...l]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=Q(null);break;case"registerWithDelay":s=f9(+l[0]||0);break;case"registerWhenStable":s=l[0]?Rp(p9(n),f9(+l[0])):p9(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(ae).runOutsideAngular(()=>s.pipe(ln(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function f9(n){return Q(null).pipe(function aAe(n,e=rh){const t=jU(n,e);return d9(()=>t)}(n))}function p9(n){return n.get(Od).isStable.pipe(zt(t=>t))}function hAe(n,e){return new hw(_C(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let fAe=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:h9,useValue:t},{provide:TP,useValue:r},{provide:hw,useFactory:hAe,deps:[TP,la]},{provide:Pd,useFactory:dAe,deps:[Oe,h9,TP,la],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n}),n.\u0275inj=Le({providers:[cAe,uAe]}),n})(),pAe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=je({type:n,bootstrap:[t0e]}),n.\u0275inj=Le({providers:[h5,dR],imports:[[u2,e0e,_ie,Hge(()=>Wge(uR_firebase)),S0e(()=>s0e()),Pve(()=>Ove()),JSe(()=>eAe()),FIe(()=>jIe()),nae,wie,Wae,lj,Wle,tj,fAe.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]]}),n})();(function fee(){_V=!1})(),Jne().bootstrapModule(pAe).catch(n=>console.error(n))}},ne=>{ne(ne.s=125)}]);